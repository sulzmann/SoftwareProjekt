<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Martin Sulzmann" />
  <title>Vertiefung und Spassaufgaben in der Vorlesung/Labor</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link href="data:text/css; charset=utf-8,%2F%2A%20slidy%2Ecss%0A%0A%20%20%20Copyright%20%28c%29%202005%2D2010%20W3C%20%28MIT%2C%20ERCIM%2C%20Keio%29%2C%20All%20Rights%20Reserved%2E%0A%20%20%20W3C%20liability%2C%20trademark%2C%20document%20use%20and%20software%20licensing%0A%20%20%20rules%20apply%2C%20see%3A%0A%0A%20%20%20http%3A%2F%2Fwww%2Ew3%2Eorg%2FConsortium%2FLegal%2Fcopyright%2Ddocuments%0A%20%20%20http%3A%2F%2Fwww%2Ew3%2Eorg%2FConsortium%2FLegal%2Fcopyright%2Dsoftware%0A%2A%2F%0Abody%0A%7B%0A%20%20margin%3A%200%200%200%200%3B%0A%20%20padding%3A%200%200%200%200%3B%0A%20%20width%3A%20100%25%3B%0A%20%20height%3A%20100%25%3B%0A%20%20color%3A%20black%3B%0A%20%20background%2Dcolor%3A%20white%3B%0A%20%20font%2Dfamily%3A%20%22Gill%20Sans%20MT%22%2C%20%22Gill%20Sans%22%2C%20GillSans%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014pt%3B%0A%7D%0A%0Adiv%2Etoolbar%20%7B%0A%20%20position%3A%20fixed%3B%20z%2Dindex%3A%20200%3B%0A%20%20top%3A%20auto%3B%20bottom%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%0A%20%20height%3A%201%2E2em%3B%20text%2Dalign%3A%20right%3B%0A%20%20padding%2Dleft%3A%201em%3B%0A%20%20padding%2Dright%3A%201em%3B%20%0A%20%20font%2Dsize%3A%2060%25%3B%0A%20%20color%3A%20red%3B%0A%20%20background%2Dcolor%3A%20rgb%28240%2C240%2C240%29%3B%0A%20%20border%2Dtop%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0A%7D%0A%0Adiv%2Etoolbar%20span%2Ecopyright%20%7B%0A%20%20color%3A%20black%3B%0A%20%20margin%2Dleft%3A%200%2E5em%3B%0A%7D%0A%0Adiv%2Einitial%5Fprompt%20%7B%0A%20%20position%3A%20absolute%3B%0A%20%20z%2Dindex%3A%201000%3B%0A%20%20bottom%3A%201%2E2em%3B%0A%20%20width%3A%20100%25%3B%0A%20%20background%2Dcolor%3A%20rgb%28200%2C200%2C200%29%3B%0A%20%20opacity%3A%200%2E35%3B%0A%20%20background%2Dcolor%3A%20rgba%28200%2C200%2C200%2C%200%2E35%29%3B%0A%20%20cursor%3A%20pointer%3B%0A%7D%0A%0Adiv%2Einitial%5Fprompt%20p%2Ehelp%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0Adiv%2Einitial%5Fprompt%20p%2Eclose%20%7B%0A%20%20text%2Dalign%3A%20right%3B%0A%20%20font%2Dstyle%3A%20italic%3B%0A%7D%0A%0Adiv%2Eslidy%5Ftoc%20%7B%0A%20%20position%3A%20absolute%3B%0A%20%20z%2Dindex%3A%20300%3B%0A%20%20width%3A%2060%25%3B%0A%20%20max%2Dwidth%3A%2030em%3B%0A%20%20height%3A%2030em%3B%0A%20%20overflow%3A%20auto%3B%0A%20%20top%3A%20auto%3B%0A%20%20right%3A%20auto%3B%0A%20%20left%3A%204em%3B%0A%20%20bottom%3A%204em%3B%0A%20%20padding%3A%201em%3B%0A%20%20background%3A%20rgb%28240%2C240%2C240%29%3B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20font%2Dsize%3A%2060%25%3B%0A%7D%0A%0Adiv%2Eslidy%5Ftoc%20%2Etoc%5Fheading%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%20%20width%3A%20100%25%3B%0A%20%20margin%3A%200%3B%0A%20%20margin%2Dbottom%3A%201em%3B%0A%20%20border%2Dbottom%2Dstyle%3A%20solid%3B%0A%20%20border%2Dbottom%2Dcolor%3A%20rgb%28180%2C180%2C180%29%3B%0A%20%20border%2Dbottom%2Dwidth%3A%201px%3B%0A%7D%0A%0Adiv%2Eslide%20%7B%0A%20%20z%2Dindex%3A%2020%3B%0A%20%20margin%3A%200%200%200%200%3B%0A%20%20padding%2Dtop%3A%200%3B%0A%20%20padding%2Dbottom%3A%200%3B%0A%20%20padding%2Dleft%3A%2020px%3B%0A%20%20padding%2Dright%3A%2020px%3B%0A%20%20border%2Dwidth%3A%200%3B%0A%20%20clear%3A%20both%3B%0A%20%20top%3A%200%3B%0A%20%20bottom%3A%200%3B%0A%20%20left%3A%200%3B%0A%20%20right%3A%200%3B%0A%20%20line%2Dheight%3A%20120%25%3B%0A%20%20background%2Dcolor%3A%20transparent%3B%0A%7D%0A%0Adiv%2Ebackground%20%7B%0A%20%20display%3A%20none%3B%0A%7D%0A%0Adiv%2Ehandout%20%7B%0A%20%20margin%2Dleft%3A%2020px%3B%0A%20%20margin%2Dright%3A%2020px%3B%0A%7D%0A%0Adiv%2Eslide%2Etitlepage%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0Adiv%2Eslide%2Etitlepage%20h1%20%7B%0A%20%20padding%2Dtop%3A%2010%25%3B%0A%20%20margin%2Dright%3A%200%3B%0A%7D%0A%0Adiv%2Eslide%20h1%20%7B%0A%20%20padding%2Dleft%3A%200%3B%0A%20%20padding%2Dright%3A%2020pt%3B%0A%20%20padding%2Dtop%3A%204pt%3B%0A%20%20padding%2Dbottom%3A%204pt%3B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20margin%2Dleft%3A%200%3B%0A%20%20margin%2Dright%3A%2060pt%3B%0A%20%20margin%2Dbottom%3A%200%2E5em%3B%0A%20%20display%3A%20block%3B%20%0A%20%20font%2Dsize%3A%20160%25%3B%0A%20%20line%2Dheight%3A%201%2E2em%3B%0A%20%20background%3A%20transparent%3B%0A%7D%0A%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%201024px%29%0A%7B%0A%20%20div%2Eslide%20%7B%20font%2Dsize%3A%20100%25%3B%20%7D%0A%7D%0A%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%20800px%29%0A%7B%0A%20%20div%2Eslide%20%7B%20font%2Dsize%3A%20200%25%3B%20%7D%0A%20%20div%2Eslidy%5Ftoc%20%7B%0A%20%20%20%20top%3A%201em%3B%0A%20%20%20%20left%3A%201em%3B%0A%20%20%20%20right%3A%20auto%3B%0A%20%20%20%20width%3A%2080%25%3B%0A%20%20%20%20font%2Dsize%3A%20180%25%3B%0A%20%20%7D%0A%7D%0A%0Adiv%2Etoc%2Dheading%20%7B%0A%20%20width%3A%20100%25%3B%0A%20%20border%2Dbottom%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0A%20%20margin%2Dbottom%3A%201em%3B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0Aimg%20%7B%0A%20%20image%2Drendering%3A%20optimize%2Dquality%3B%0A%7D%0A%0Apre%20%7B%0A%20font%2Dsize%3A%2080%25%3B%0A%20font%2Dweight%3A%20bold%3B%0A%20line%2Dheight%3A%20120%25%3B%0A%20padding%2Dtop%3A%200%2E2em%3B%0A%20padding%2Dbottom%3A%200%2E2em%3B%0A%20padding%2Dleft%3A%201em%3B%0A%20padding%2Dright%3A%201em%3B%0A%20border%2Dstyle%3A%20solid%3B%0A%20border%2Dleft%2Dwidth%3A%201em%3B%0A%20border%2Dtop%2Dwidth%3A%20thin%3B%0A%20border%2Dright%2Dwidth%3A%20thin%3B%0A%20border%2Dbottom%2Dwidth%3A%20thin%3B%0A%20border%2Dcolor%3A%20%2395ABD0%3B%0A%20color%3A%20%2300428C%3B%0A%20background%2Dcolor%3A%20%23E4E5E7%3B%0A%7D%0A%0Ali%20pre%20%7B%20margin%2Dleft%3A%200%3B%20%7D%0A%0Ablockquote%20%7B%20font%2Dstyle%3A%20italic%20%7D%0A%0Aimg%20%7B%20background%2Dcolor%3A%20transparent%20%7D%0A%0Ap%2Ecopyright%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%0A%2Ecenter%20%7B%20text%2Dalign%3A%20center%20%7D%0A%2Efootnote%20%7B%20font%2Dsize%3A%20smaller%3B%20margin%2Dleft%3A%202em%3B%20%7D%0A%0Aa%20img%20%7B%20border%2Dwidth%3A%200%3B%20border%2Dstyle%3A%20none%20%7D%0A%0Aa%3Avisited%20%7B%20color%3A%20navy%20%7D%0Aa%3Alink%20%7B%20color%3A%20navy%20%7D%0Aa%3Ahover%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%3Aactive%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0A%0Aa%20%7Btext%2Ddecoration%3A%20none%7D%0A%2Etoolbar%20a%3Alink%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Avisited%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Aactive%20%7Bcolor%3A%20red%7D%0A%2Etoolbar%20a%3Ahover%20%7Bcolor%3A%20red%7D%0A%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Ali%20%7B%20margin%2Dleft%3A%200%2E5em%3B%20margin%2Dtop%3A%200%2E5em%3B%20%7D%0Ali%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%20%7D%0Ali%20li%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%20%7D%0A%0Adiv%20dt%0A%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%20%20margin%2Dtop%3A%201em%3B%0A%20%20margin%2Dbottom%3A%200%2E5em%3B%0A%20%20font%2Dweight%3A%20bold%3B%0A%7D%0Adiv%20dd%0A%7B%0A%20%20margin%2Dleft%3A%202em%3B%0A%20%20margin%2Dbottom%3A%200%2E5em%3B%0A%7D%0A%0A%0Ap%2Cpre%2Cul%2Col%2Cblockquote%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%2Cdl%2Ctable%20%7B%0A%20%20margin%2Dleft%3A%201em%3B%0A%20%20margin%2Dright%3A%201em%3B%0A%7D%0A%0Ap%2Esubhead%20%7B%20font%2Dweight%3A%20bold%3B%20margin%2Dtop%3A%202em%3B%20%7D%0A%0A%2Esmaller%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ebigger%20%7B%20font%2Dsize%3A%20130%25%20%7D%0A%0Atd%2Cth%20%7B%20padding%3A%200%2E2em%20%7D%0A%0Aul%20%7B%0A%20%20margin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0A%20%20padding%3A%200%3B%0A%7D%0A%0Aol%20%7B%0A%20%20margin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0A%20%20padding%3A%200%3B%0A%7D%0A%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0A%0Aul%20li%20%7B%20%0A%20%20list%2Dstyle%3A%20square%3B%0A%20%20margin%3A%200%2E1em%200em%200%2E6em%200%3B%0A%20%20padding%3A%200%200%200%200%3B%0A%20%20line%2Dheight%3A%20140%25%3B%0A%7D%0A%0Aol%20li%20%7B%20%0A%20%20margin%3A%200%2E1em%200em%200%2E6em%201%2E5em%3B%0A%20%20padding%3A%200%200%200%200px%3B%0A%20%20line%2Dheight%3A%20140%25%3B%0A%20%20list%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0A%0Ali%20ul%20li%20%7B%20%0A%20%20font%2Dsize%3A%2085%25%3B%20%0A%20%20font%2Dstyle%3A%20italic%3B%0A%20%20list%2Dstyle%2Dtype%3A%20disc%3B%0A%20%20background%3A%20transparent%3B%0A%20%20padding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20ul%20li%20%7B%20%0A%20%20font%2Dsize%3A%2085%25%3B%20%0A%20%20font%2Dstyle%3A%20normal%3B%0A%20%20list%2Dstyle%2Dtype%3A%20circle%3B%0A%20%20background%3A%20transparent%3B%0A%20%20padding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20li%20ul%20li%20%7B%0A%20%20list%2Dstyle%2Dtype%3A%20disc%3B%0A%20%20background%3A%20transparent%3B%0A%20%20padding%3A%200%200%200%200%3B%0A%7D%0A%0Ali%20ol%20li%20%7B%0A%20%20list%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0A%0A%0Ali%20li%20ol%20li%20%7B%0A%20%20list%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0A%0A%2F%2A%0A%20setting%20class%3D%22outline%20on%20ol%20or%20ul%20makes%20it%20behave%20as%20an%0A%20ouline%20list%20where%20blocklevel%20content%20in%20li%20elements%20is%0A%20hidden%20by%20default%20and%20can%20be%20expanded%20or%20collapsed%20with%0A%20mouse%20click%2E%20Set%20class%3D%22expand%22%20on%20li%20to%20override%20default%0A%2A%2F%0A%0Aol%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aol%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0A%0Aul%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aul%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0A%0Aol%2Eoutline%20%7B%20list%2Dstyle%3Adecimal%3B%20%7D%0Aol%2Eoutline%20ol%20%7B%20list%2Dstyle%2Dtype%3Alower%2Dalpha%20%7D%0A%0Aol%2Eoutline%20li%2Enofold%20%7B%0A%20%20padding%3A%200%200%200%2020px%3B%0A%20%20background%3A%20transparent%20url%28%2E%2E%2Fgraphics%2Fnofold%2Ddim%2Egif%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%20%7B%0A%20%20padding%3A%200%200%200%2020px%3B%0A%20%20background%3A%20transparent%20url%28%2E%2E%2Fgraphics%2Ffold%2Ddim%2Egif%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%20%7B%0A%20%20padding%3A%200%200%200%2020px%3B%0A%20%20background%3A%20transparent%20url%28%2E%2E%2Fgraphics%2Funfold%2Ddim%2Egif%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0A%20%20padding%3A%200%200%200%2020px%3B%0A%20%20background%3A%20transparent%20url%28%2E%2E%2Fgraphics%2Ffold%2Egif%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%3Ahover%20%7B%0A%20%20padding%3A%200%200%200%2020px%3B%0A%20%20background%3A%20transparent%20url%28%2E%2E%2Fgraphics%2Funfold%2Egif%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0A%0Aul%2Eoutline%20li%2Enofold%20%7B%0A%20%20padding%3A%200%200%200%2020px%3B%0A%20%20background%3A%20transparent%20url%28%2E%2E%2Fgraphics%2Fnofold%2Ddim%2Egif%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%20%7B%0A%20%20padding%3A%200%200%200%2020px%3B%0A%20%20background%3A%20transparent%20url%28%2E%2E%2Fgraphics%2Ffold%2Ddim%2Egif%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%20%7B%0A%20%20padding%3A%200%200%200%2020px%3B%0A%20%20background%3A%20transparent%20url%28%2E%2E%2Fgraphics%2Funfold%2Ddim%2Egif%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0A%20%20padding%3A%200%200%200%2020px%3B%0A%20%20background%3A%20transparent%20url%28%2E%2E%2Fgraphics%2Ffold%2Egif%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%3Ahover%20%7B%0A%20%20padding%3A%200%200%200%2020px%3B%0A%20%20background%3A%20transparent%20url%28%2E%2E%2Fgraphics%2Funfold%2Egif%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0A%0A%2F%2A%20for%20slides%20with%20class%20%22title%22%20in%20table%20of%20contents%20%2A%2F%0Aa%2Etitleslide%20%7B%20font%2Dweight%3A%20bold%3B%20font%2Dstyle%3A%20italic%20%7D%0A%0A%2F%2A%0A%20hide%20images%20for%20work%20around%20for%20save%20as%20bug%0A%20where%20browsers%20fail%20to%20save%20images%20used%20by%20CSS%0A%2A%2F%0Aimg%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Einitial%5Fprompt%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%0A%20%20div%2Eslide%20%7B%0A%20%20%20%20%20visibility%3A%20visible%3B%0A%20%20%20%20%20position%3A%20inherit%3B%0A%20%20%7D%0A%20%20div%2Ehandout%20%7B%0A%20%20%20%20%20border%2Dtop%2Dstyle%3A%20solid%3B%0A%20%20%20%20%20border%2Dtop%2Dwidth%3A%20thin%3B%0A%20%20%20%20%20border%2Dtop%2Dcolor%3A%20black%3B%0A%20%20%7D%0A%0A%40media%20screen%20%7B%0A%20%20%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20visible%20%7D%0A%0A%20%20div%2Eslide%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0A%20%20div%2Ehandout%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0A%20%20div%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%20%20body%2Esingle%5Fslide%20div%2Einitial%5Fprompt%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0A%20%20body%2Esingle%5Fslide%20div%2Ebackground%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0A%20%20body%2Esingle%5Fslide%20div%2Ebackground%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%20%20body%2Esingle%5Fslide%20%2Einvisible%20%7B%20visibility%3A%20hidden%20%7D%0A%20%20body%2Esingle%5Fslide%20%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%20%20body%2Esingle%5Fslide%20div%2Eslide%20%7B%20position%3A%20absolute%20%7D%0A%20%20body%2Esingle%5Fslide%20div%2Ehandout%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%7D%0A%0A%40media%20print%20%7B%0A%20%20%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0A%0A%20%20div%2Eslide%20pre%20%7B%20font%2Dsize%3A%2060%25%3B%20padding%2Dleft%3A%200%2E5em%3B%20%7D%0A%20%20div%2Etoolbar%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0A%20%20div%2Eslidy%5Ftoc%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0A%20%20div%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0A%20%20div%2Eslide%20%7B%20page%2Dbreak%2Dbefore%3A%20always%20%7D%0A%20%20%2F%2A%20%3Afirst%2Dchild%20isn%27t%20reliable%20for%20print%20media%20%2A%2F%0A%20%20div%2Eslide%2Efirst%2Dslide%20%7B%20page%2Dbreak%2Dbefore%3A%20avoid%20%7D%0A%7D%0A%0A" rel="stylesheet" type="text/css" media="screen, projection, print" />
  <script src="data:text/javascript; charset=utf-8,%2F%2A%20slidy%2Ejs%0A%0A%20%20%20Copyright%20%28c%29%202005%2D2013%20W3C%20%28MIT%2C%20ERCIM%2C%20Keio%29%2C%20All%20Rights%20Reserved%2E%0A%20%20%20W3C%20liability%2C%20trademark%2C%20document%20use%20and%20software%20licensing%0A%20%20%20rules%20apply%2C%20see%3A%0A%0A%20%20%20http%3A%2F%2Fwww%2Ew3%2Eorg%2FConsortium%2FLegal%2Fcopyright%2Ddocuments%0A%20%20%20http%3A%2F%2Fwww%2Ew3%2Eorg%2FConsortium%2FLegal%2Fcopyright%2Dsoftware%0A%0A%20%20%20Defines%20single%20name%20%22w3c%5Fslidy%22%20in%20global%20namespace%0A%20%20%20Adds%20event%20handlers%20without%20trampling%20on%20any%20others%0A%2A%2F%0A%0A%2F%2F%20the%20slidy%20object%20implementation%0Avar%20w3c%5Fslidy%20%3D%20%7B%0A%20%20%2F%2F%20classify%20which%20kind%20of%20browser%20we%27re%20running%20under%0A%20%20ns%5Fpos%3A%20%28typeof%20window%2EpageYOffset%21%3D%27undefined%27%29%2C%0A%20%20khtml%3A%20%28%28navigator%2EuserAgent%29%2EindexOf%28%22KHTML%22%29%20%3E%3D%200%20%3F%20true%20%3A%20false%29%2C%0A%20%20opera%3A%20%28%28navigator%2EuserAgent%29%2EindexOf%28%22Opera%22%29%20%3E%3D%200%20%3F%20true%20%3A%20false%29%2C%0A%20%20ipad%3A%20%28%28navigator%2EuserAgent%29%2EindexOf%28%22iPad%22%29%20%3E%3D%200%20%3F%20true%20%3A%20false%29%2C%0A%20%20iphone%3A%20%28%28navigator%2EuserAgent%29%2EindexOf%28%22iPhone%22%29%20%3E%3D%200%20%3F%20true%20%3A%20false%29%2C%0A%20%20android%3A%20%28%28navigator%2EuserAgent%29%2EindexOf%28%22Android%22%29%20%3E%3D%200%20%3F%20true%20%3A%20false%29%2C%0A%20%20ie%3A%20%28typeof%20document%2Eall%20%21%3D%20%22undefined%22%20%26%26%20%21this%2Eopera%29%2C%0A%20%20ie6%3A%20%28%21this%2Ens%5Fpos%20%26%26%20navigator%2EuserAgent%2EindexOf%28%22MSIE%206%22%29%20%21%3D%20%2D1%29%2C%0A%20%20ie7%3A%20%28%21this%2Ens%5Fpos%20%26%26%20navigator%2EuserAgent%2EindexOf%28%22MSIE%207%22%29%20%21%3D%20%2D1%29%2C%0A%20%20ie8%3A%20%28%21this%2Ens%5Fpos%20%26%26%20navigator%2EuserAgent%2EindexOf%28%22MSIE%208%22%29%20%21%3D%20%2D1%29%2C%0A%20%20ie9%3A%20%28%21this%2Ens%5Fpos%20%26%26%20navigator%2EuserAgent%2EindexOf%28%22MSIE%209%22%29%20%21%3D%20%2D1%29%2C%0A%0A%20%20%2F%2F%20data%20for%20swipe%20and%20double%20tap%20detection%20on%20touch%20screens%0A%20%20last%5Ftap%3A%200%2C%0A%20%20prev%5Ftap%3A%200%2C%0A%20%20start%5Fx%3A%200%2C%0A%20%20start%5Fy%3A%200%2C%0A%20%20delta%5Fx%3A%200%2C%0A%20%20delta%5Fy%3A%200%2C%0A%0A%20%20%2F%2F%20are%20we%20running%20as%20XHTML%3F%20%28doesn%27t%20work%20on%20Opera%29%0A%20%20is%5Fxhtml%3A%20%2Fxml%2F%2Etest%28document%2EcontentType%29%2C%0A%0A%20%20slide%5Fnumber%3A%200%2C%20%2F%2F%20integer%20slide%20count%3A%200%2C%201%2C%202%2C%20%2E%2E%2E%0A%20%20slide%5Fnumber%5Felement%3A%20null%2C%20%2F%2F%20element%20containing%20slide%20number%0A%20%20slides%3A%20%5B%5D%2C%20%2F%2F%20set%20to%20array%20of%20slide%20div%27s%0A%20%20notes%3A%20%5B%5D%2C%20%2F%2F%20set%20to%20array%20of%20handout%20div%27s%0A%20%20backgrounds%3A%20%5B%5D%2C%20%2F%2F%20set%20to%20array%20of%20background%20div%27s%0A%20%20observers%3A%20%5B%5D%2C%20%2F%2F%20list%20of%20observer%20functions%0A%20%20toolbar%3A%20null%2C%20%2F%2F%20element%20containing%20toolbar%0A%20%20title%3A%20null%2C%20%2F%2F%20document%20title%0A%20%20last%5Fshown%3A%20null%2C%20%2F%2F%20last%20incrementally%20shown%20item%0A%20%20eos%3A%20null%2C%20%20%2F%2F%20span%20element%20for%20end%20of%20slide%20indicator%0A%20%20toc%3A%20null%2C%20%2F%2F%20table%20of%20contents%0A%20%20outline%3A%20null%2C%20%2F%2F%20outline%20element%20with%20the%20focus%0A%20%20selected%5Ftext%5Flen%3A%200%2C%20%2F%2F%20length%20of%20drag%20selection%20on%20document%0A%20%20view%5Fall%3A%200%2C%20%20%2F%2F%201%20to%20view%20all%20slides%20%2B%20handouts%0A%20%20want%5Ftoolbar%3A%20true%2C%20%20%2F%2F%20user%20preference%20to%20show%2Fhide%20toolbar%0A%20%20mouse%5Fclick%5Fenabled%3A%20true%2C%20%2F%2F%20enables%20left%20click%20for%20next%20slide%0A%20%20scroll%5Fhack%3A%200%2C%20%2F%2F%20IE%20work%20around%20for%20position%3A%20fixed%0A%20%20disable%5Fslide%5Fclick%3A%20false%2C%20%20%2F%2F%20used%20by%20clicked%20anchors%0A%0A%20%20lang%3A%20%22en%22%2C%20%2F%2F%20updated%20to%20language%20specified%20by%20html%20file%0A%0A%20%20help%5Fanchor%3A%20null%2C%20%2F%2F%20used%20for%20keyboard%20focus%20hack%20in%20showToolbar%28%29%0A%20%20help%5Fpage%3A%20%22http%3A%2F%2Fwww%2Ew3%2Eorg%2FTalks%2FTools%2FSlidy2%2Fhelp%2Fhelp%2Ehtml%22%2C%0A%20%20help%5Ftext%3A%20%22Navigate%20with%20mouse%20click%2C%20space%20bar%2C%20Cursor%20Left%2FRight%2C%20%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%22or%20Pg%20Up%20and%20Pg%20Dn%2E%20Use%20S%20and%20B%20to%20change%20font%20size%2E%22%2C%0A%0A%20%20size%5Findex%3A%200%2C%0A%20%20size%5Fadjustment%3A%200%2C%0A%20%20sizes%3A%20%20new%20Array%28%2210pt%22%2C%20%2212pt%22%2C%20%2214pt%22%2C%20%2216pt%22%2C%20%2218pt%22%2C%20%2220pt%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2222pt%22%2C%20%2224pt%22%2C%20%2226pt%22%2C%20%2228pt%22%2C%20%2230pt%22%2C%20%2232pt%22%29%2C%0A%0A%20%20%2F%2F%20needed%20for%20efficient%20resizing%0A%20%20last%5Fwidth%3A%200%2C%0A%20%20last%5Fheight%3A%200%2C%0A%0A%0A%20%20%2F%2F%20Needed%20for%20cross%20browser%20support%20for%20relative%20width%2Fheight%20on%0A%20%20%2F%2F%20object%20elements%2E%20The%20work%20around%20is%20to%20save%20width%2Fheight%20attributes%0A%20%20%2F%2F%20and%20then%20to%20recompute%20absolute%20width%2Fheight%20dimensions%20on%20resizing%0A%20%20%20objects%3A%20%5B%5D%2C%0A%0A%20%20%2F%2F%20attach%20initialiation%20event%20handlers%0A%20%20set%5Fup%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20init%20%3D%20function%28%29%20%7B%20w3c%5Fslidy%2Einit%28%29%3B%20%7D%3B%0A%20%20%20%20if%20%28typeof%20window%2EaddEventListener%20%21%3D%20%22undefined%22%29%0A%20%20%20%20%20%20window%2EaddEventListener%28%22load%22%2C%20init%2C%20false%29%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20window%2EattachEvent%28%22onload%22%2C%20init%29%3B%0A%20%20%7D%2C%0A%0A%20%20hide%5Fslides%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28document%2Ebody%20%26%26%20%21w3c%5Fslidy%2Einitialized%29%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Evisibility%20%3D%20%22hidden%22%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20setTimeout%28w3c%5Fslidy%2Ehide%5Fslides%2C%2050%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20hack%20to%20persuade%20IE%20to%20compute%20correct%20document%20height%0A%20%20%2F%2F%20as%20needed%20for%20simulating%20fixed%20positioning%20of%20toolbar%0A%20%20ie%5Fhack%3A%20function%20%28%29%20%7B%0A%20%20%20%20window%2EresizeBy%280%2C%2D1%29%3B%0A%20%20%20%20window%2EresizeBy%280%2C%201%29%3B%0A%20%20%7D%2C%0A%0A%20%20init%3A%20function%20%28%29%20%7B%0A%20%20%20%20%2F%2Falert%28%22slidy%20starting%20test%2010%22%29%3B%0A%20%20%20%20document%2Ebody%2Estyle%2Evisibility%20%3D%20%22visible%22%3B%0A%20%20%20%20this%2Einit%5Flocalization%28%29%3B%0A%20%20%20%20this%2Eadd%5Ftoolbar%28%29%3B%0A%20%20%20%20this%2Ewrap%5Fimplicit%5Fslides%28%29%3B%0A%20%20%20%20this%2Ecollect%5Fslides%28%29%3B%0A%20%20%20%20this%2Ecollect%5Fnotes%28%29%3B%0A%20%20%20%20this%2Ecollect%5Fbackgrounds%28%29%3B%0A%20%20%20%20this%2Eobjects%20%3D%20document%2Ebody%2EgetElementsByTagName%28%22object%22%29%3B%0A%20%20%20%20this%2Epatch%5Fanchors%28%29%3B%0A%20%20%20%20this%2Eslide%5Fnumber%20%3D%20this%2Efind%5Fslide%5Fnumber%28location%2Ehref%29%3B%0A%20%20%20%20window%2Eoffscreenbuffering%20%3D%20true%3B%0A%20%20%20%20this%2Esize%5Fadjustment%20%3D%20this%2Efind%5Fsize%5Fadjust%28%29%3B%0A%20%20%20%20this%2Etime%5Fleft%20%3D%20this%2Efind%5Fduration%28%29%3B%0A%20%20%20%20this%2Ehide%5Fimage%5Ftoolbar%28%29%3B%20%20%2F%2F%20suppress%20IE%20image%20toolbar%20popup%0A%20%20%20%20this%2Einit%5Foutliner%28%29%3B%20%20%2F%2F%20activate%20fold%2Funfold%20support%0A%20%20%20%20this%2Etitle%20%3D%20document%2Etitle%3B%0A%20%20%20%20this%2Ekeyboardless%20%3D%20%28this%2Eipad%7C%7Cthis%2Eiphone%7C%7Cthis%2Eandroid%29%3B%0A%0A%20%20%20%20if%20%28this%2Ekeyboardless%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Eremove%5Fclass%28w3c%5Fslidy%2Etoolbar%2C%20%22hidden%22%29%0A%20%20%20%20%20%20this%2Ewant%5Ftoolbar%20%3D%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20work%20around%20for%20opera%20bug%0A%20%20%20%20this%2Eis%5Fxhtml%20%3D%20%28document%2Ebody%2EtagName%20%3D%3D%20%22BODY%22%20%3F%20false%20%3A%20true%29%3B%0A%0A%20%20%20%20if%20%28this%2Eslides%2Elength%20%3E%200%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20slide%20%3D%20this%2Eslides%5Bthis%2Eslide%5Fnumber%5D%3B%0A%20%20%20%0A%20%20%20%20%20%20if%20%28this%2Eslide%5Fnumber%20%3E%200%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20this%2Eset%5Fvisibility%5Fall%5Fincremental%28%22visible%22%29%3B%0A%20%20%20%20%20%20%20%20this%2Elast%5Fshown%20%3D%20this%2Eprevious%5Fincremental%5Fitem%28null%29%3B%0A%20%20%20%20%20%20%20%20this%2Eset%5Feos%5Fstatus%28true%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20this%2Elast%5Fshown%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20this%2Eset%5Fvisibility%5Fall%5Fincremental%28%22hidden%22%29%3B%0A%20%20%20%20%20%20%20%20this%2Eset%5Feos%5Fstatus%28%21this%2Enext%5Fincremental%5Fitem%28this%2Elast%5Fshown%29%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20this%2Eset%5Flocation%28%29%3B%0A%20%20%20%20%20%20this%2Eadd%5Fclass%28this%2Eslides%5B0%5D%2C%20%22first%2Dslide%22%29%3B%0A%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Etoc%20%3D%20this%2Etable%5Fof%5Fcontents%28%29%3B%0A%0A%20%20%20%20this%2Eadd%5Finitial%5Fprompt%28%29%3B%0A%0A%20%20%20%20%2F%2F%20bind%20event%20handlers%20without%20interfering%20with%20custom%20page%20scripts%0A%20%20%20%20%2F%2F%20Tap%20events%20behave%20too%20weirdly%20to%20support%20clicks%20reliably%20on%0A%20%20%20%20%2F%2F%20iPhone%20and%20iPad%2C%20so%20exclude%20these%20from%20click%20handler%0A%0A%20%20%20%20if%20%28%21this%2Ekeyboardless%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20this%2Eadd%5Flistener%28document%2Ebody%2C%20%22click%22%2C%20this%2Emouse%5Fbutton%5Fclick%29%3B%0A%20%20%20%20%20%20this%2Eadd%5Flistener%28document%2Ebody%2C%20%22mousedown%22%2C%20this%2Emouse%5Fbutton%5Fdown%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Eadd%5Flistener%28document%2C%20%22keydown%22%2C%20this%2Ekey%5Fdown%29%3B%0A%20%20%20%20this%2Eadd%5Flistener%28document%2C%20%22keypress%22%2C%20this%2Ekey%5Fpress%29%3B%0A%20%20%20%20this%2Eadd%5Flistener%28window%2C%20%22resize%22%2C%20this%2Eresized%29%3B%0A%20%20%20%20this%2Eadd%5Flistener%28window%2C%20%22scroll%22%2C%20this%2Escrolled%29%3B%0A%20%20%20%20this%2Eadd%5Flistener%28window%2C%20%22unload%22%2C%20this%2Eunloaded%29%3B%0A%0A%20%20%20%20this%2Eadd%5Flistener%28document%2C%20%22gesturechange%22%2C%20function%20%28%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2Eattach%5Ftouch%5Fhanders%28this%2Eslides%29%3B%0A%0A%20%20%20%20%2F%2F%20this%20seems%20to%20be%20a%20debugging%20hack%0A%20%20%20%20%2F%2Fif%20%28%21document%2Ebody%2Eonclick%29%0A%20%20%20%20%2F%2F%20%20document%2Ebody%2Eonclick%20%3D%20function%20%28%29%20%7B%20%7D%3B%0A%0A%20%20%20%20this%2Esingle%5Fslide%5Fview%28%29%3B%0A%0A%20%20%20%20%2F%2Fthis%2Eset%5Flocation%28%29%3B%0A%0A%20%20%20%20this%2Eresized%28%29%3B%0A%0A%20%20%20%20if%20%28this%2Eie7%29%0A%20%20%20%20%20%20setTimeout%28w3c%5Fslidy%2Eie%5Fhack%2C%20100%29%3B%0A%0A%20%20%20%20this%2Eshow%5Ftoolbar%28%29%3B%0A%0A%20%20%20%20%2F%2F%20for%20back%20button%20detection%0A%20%20%20%20setInterval%28function%20%28%29%20%7B%20w3c%5Fslidy%2Echeck%5Flocation%28%29%3B%20%7D%2C%20200%29%3B%0A%20%20%20%20w3c%5Fslidy%2Einitialized%20%3D%20true%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20create%20div%20element%20with%20links%20to%20each%20slide%0A%20%20table%5Fof%5Fcontents%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20toc%20%3D%20this%2Ecreate%5Felement%28%22div%22%29%3B%0A%20%20%20%20this%2Eadd%5Fclass%28toc%2C%20%22slidy%5Ftoc%20hidden%22%29%3B%0A%20%20%20%20%2F%2Ftoc%2EsetAttribute%28%22tabindex%22%2C%20%220%22%29%3B%0A%0A%20%20%20%20var%20heading%20%3D%20this%2Ecreate%5Felement%28%22div%22%29%3B%0A%20%20%20%20this%2Eadd%5Fclass%28heading%2C%20%22toc%2Dheading%22%29%3B%0A%20%20%20%20heading%2EinnerHTML%20%3D%20this%2Elocalize%28%22Table%20of%20Contents%22%29%3B%0A%0A%20%20%20%20toc%2EappendChild%28heading%29%3B%0A%20%20%20%20var%20previous%20%3D%20null%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20this%2Eslides%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20title%20%3D%20this%2Ehas%5Fclass%28this%2Eslides%5Bi%5D%2C%20%22title%22%29%3B%0A%20%20%20%20%20%20var%20num%20%3D%20document%2EcreateTextNode%28%28i%20%2B%201%29%20%2B%20%22%2E%20%22%29%3B%0A%0A%20%20%20%20%20%20toc%2EappendChild%28num%29%3B%0A%0A%20%20%20%20%20%20var%20a%20%3D%20this%2Ecreate%5Felement%28%22a%22%29%3B%0A%20%20%20%20%20%20a%2EsetAttribute%28%22href%22%2C%20%22%23%28%22%20%2B%20%28i%2B1%29%20%2B%20%22%29%22%29%3B%0A%0A%20%20%20%20%20%20if%20%28title%29%0A%20%20%20%20%20%20%20%20this%2Eadd%5Fclass%28a%2C%20%22titleslide%22%29%3B%0A%0A%20%20%20%20%20%20var%20name%20%3D%20document%2EcreateTextNode%28this%2Eslide%5Fname%28i%29%29%3B%0A%20%20%20%20%20%20a%2EappendChild%28name%29%3B%0A%20%20%20%20%20%20a%2Eonclick%20%3D%20w3c%5Fslidy%2Etoc%5Fclick%3B%0A%20%20%20%20%20%20a%2Eonkeydown%20%3D%20w3c%5Fslidy%2Etoc%5Fkey%5Fdown%3B%0A%20%20%20%20%20%20a%2Eprevious%20%3D%20previous%3B%0A%0A%20%20%20%20%20%20if%20%28previous%29%0A%20%20%20%20%20%20%20%20previous%2Enext%20%3D%20a%3B%0A%0A%20%20%20%20%20%20toc%2EappendChild%28a%29%3B%0A%0A%20%20%20%20%20%20if%20%28i%20%3D%3D%200%29%0A%20%20%20%20%20%20%20%20toc%2Efirst%20%3D%20a%3B%0A%0A%20%20%20%20%20%20if%20%28i%20%3C%20this%2Eslides%2Elength%20%2D%201%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20br%20%3D%20this%2Ecreate%5Felement%28%22br%22%29%3B%0A%20%20%20%20%20%20%20%20toc%2EappendChild%28br%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20previous%20%3D%20a%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20toc%2Efocus%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20if%20%28this%2Efirst%29%0A%20%20%20%20%20%20%20%20this%2Efirst%2Efocus%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20toc%2Eonmouseup%20%3D%20w3c%5Fslidy%2Emouse%5Fbutton%5Fup%3B%0A%0A%20%20%20%20toc%2Eonclick%20%3D%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20e%7C%7C%28e%3Dwindow%2Eevent%29%3B%0A%0A%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Eselected%5Ftext%5Flen%20%3C%3D%200%29%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Ftable%5Fof%5Fcontents%28true%29%3B%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Estop%5Fpropagation%28e%29%3B%0A%20%20%20%20%0A%20%20%20%20%20%20if%20%28e%2Ecancel%20%21%3D%20undefined%29%0A%20%20%20%20%20%20%20%20e%2Ecancel%20%3D%20true%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20if%20%28e%2EreturnValue%20%21%3D%20undefined%29%0A%20%20%20%20%20%20%20%20e%2EreturnValue%20%3D%20false%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20document%2Ebody%2EinsertBefore%28toc%2C%20document%2Ebody%2EfirstChild%29%3B%0A%20%20%20%20return%20toc%3B%0A%20%20%7D%2C%0A%0A%20%20is%5Fshown%5Ftoc%3A%20function%20%28%29%20%7B%0A%20%20%20%20return%20%21w3c%5Fslidy%2Ehas%5Fclass%28w3c%5Fslidy%2Etoc%2C%20%22hidden%22%29%3B%0A%20%20%7D%2C%0A%0A%20%20show%5Ftable%5Fof%5Fcontents%3A%20function%20%28%29%20%7B%0A%20%20%20%20w3c%5Fslidy%2Eremove%5Fclass%28w3c%5Fslidy%2Etoc%2C%20%22hidden%22%29%3B%0A%20%20%20%20var%20toc%20%3D%20w3c%5Fslidy%2Etoc%3B%0A%20%20%20%20toc%2Efocus%28%29%3B%0A%0A%20%20%20%20if%20%28w3c%5Fslidy%2Eie7%20%26%26%20w3c%5Fslidy%2Eslide%5Fnumber%20%3D%3D%200%29%0A%20%20%20%20%20%20setTimeout%28w3c%5Fslidy%2Eie%5Fhack%2C%20100%29%3B%0A%20%20%7D%2C%0A%0A%20%20hide%5Ftable%5Fof%5Fcontents%3A%20function%20%28focus%29%20%7B%0A%20%20%20%20w3c%5Fslidy%2Eadd%5Fclass%28w3c%5Fslidy%2Etoc%2C%20%22hidden%22%29%3B%0A%0A%20%20%20%20if%20%28focus%20%26%26%20%21w3c%5Fslidy%2Eopera%20%26%26%0A%20%20%20%20%20%20%20%20%21w3c%5Fslidy%2Ehas%5Fclass%28w3c%5Fslidy%2Etoc%2C%20%22hidden%22%29%29%0A%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Ffocus%28%29%3B%0A%20%20%7D%2C%0A%0A%20%20toggle%5Ftable%5Fof%5Fcontents%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28w3c%5Fslidy%2Eis%5Fshown%5Ftoc%28%29%29%0A%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Ftable%5Fof%5Fcontents%28true%29%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Ftable%5Fof%5Fcontents%28%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20called%20on%20clicking%20toc%20entry%0A%20%20toc%5Fclick%3A%20function%20%28e%29%20%7B%0A%20%20%20%20if%20%28%21e%29%0A%20%20%20%20%20%20e%20%3D%20window%2Eevent%3B%0A%0A%20%20%20%20var%20target%20%3D%20w3c%5Fslidy%2Eget%5Ftarget%28e%29%3B%0A%0A%20%20%20%20if%20%28target%20%26%26%20target%2EnodeType%20%3D%3D%201%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20uri%20%3D%20target%2EgetAttribute%28%22href%22%29%3B%0A%0A%20%20%20%20%20%20if%20%28uri%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2Falert%28%22going%20to%20%22%20%2B%20uri%29%3B%0A%20%20%20%20%20%20%20%20var%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eslide%5Fnumber%20%3D%20w3c%5Fslidy%2Efind%5Fslide%5Fnumber%28uri%29%3B%0A%20%20%20%20%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Flocation%28%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Fvisibility%5Fall%5Fincremental%28%22hidden%22%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Feos%5Fstatus%28%21w3c%5Fslidy%2Enext%5Fincremental%5Fitem%28w3c%5Fslidy%2Elast%5Fshown%29%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%20%20%2F%2Ftarget%2Efocus%28%29%3B%0A%0A%20%20%20%20%20%20%20%20try%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21w3c%5Fslidy%2Eopera%29%0A%20%20%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Ffocus%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20%28e%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20w3c%5Fslidy%2Ehide%5Ftable%5Fof%5Fcontents%28true%29%3B%0A%20%20%20%20if%20%28w3c%5Fslidy%2Eie7%29%20w3c%5Fslidy%2Eie%5Fhack%28%29%3B%0A%20%20%20%20w3c%5Fslidy%2Estop%5Fpropagation%28e%29%3B%0A%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28e%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20called%20onkeydown%20for%20toc%20entry%0A%20%20toc%5Fkey%5Fdown%3A%20function%20%28event%29%20%7B%0A%20%20%20%20var%20key%3B%0A%0A%20%20%20%20if%20%28%21event%29%0A%20%20%20%20%20%20var%20event%20%3D%20window%2Eevent%3B%0A%0A%20%20%20%20%2F%2F%20kludge%20around%20NS%2FIE%20differences%20%0A%20%20%20%20if%20%28window%2Eevent%29%0A%20%20%20%20%20%20key%20%3D%20window%2Eevent%2EkeyCode%3B%0A%20%20%20%20else%20if%20%28event%2Ewhich%29%0A%20%20%20%20%20%20key%20%3D%20event%2Ewhich%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20return%20true%3B%20%2F%2F%20Yikes%21%20unknown%20browser%0A%0A%20%20%20%20%2F%2F%20ignore%20event%20if%20key%20value%20is%20zero%0A%20%20%20%20%2F%2F%20as%20for%20alt%20on%20Opera%20and%20Konqueror%0A%20%20%20%20if%20%28%21key%29%0A%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%2F%2F%20check%20for%20concurrent%20control%2Fcommand%2Falt%20key%0A%20%20%20%20%2F%2F%20but%20are%20these%20only%20present%20on%20mouse%20events%3F%0A%0A%20%20%20%20if%20%28event%2EctrlKey%20%7C%7C%20event%2EaltKey%29%0A%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20if%20%28key%20%3D%3D%2013%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20uri%20%3D%20this%2EgetAttribute%28%22href%22%29%3B%0A%0A%20%20%20%20%20%20if%20%28uri%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2Falert%28%22going%20to%20%22%20%2B%20uri%29%3B%0A%20%20%20%20%20%20%20var%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eslide%5Fnumber%20%3D%20w3c%5Fslidy%2Efind%5Fslide%5Fnumber%28uri%29%3B%0A%20%20%20%20%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Flocation%28%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Fvisibility%5Fall%5Fincremental%28%22hidden%22%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Feos%5Fstatus%28%21w3c%5Fslidy%2Enext%5Fincremental%5Fitem%28w3c%5Fslidy%2Elast%5Fshown%29%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%20%20%2F%2Ftarget%2Efocus%28%29%3B%0A%0A%20%20%20%20%20%20%20%20try%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21w3c%5Fslidy%2Eopera%29%0A%20%20%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Ffocus%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20catch%20%28e%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Ftable%5Fof%5Fcontents%28true%29%3B%0A%0A%20%20%20%20%20%20if%20%28self%2Eie7%29%0A%20%20%20%20%20%20%20w3c%5Fslidy%2Eie%5Fhack%28%29%3B%0A%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28key%20%3D%3D%2040%20%26%26%20this%2Enext%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20this%2Enext%2Efocus%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28key%20%3D%3D%2038%20%26%26%20this%2Eprevious%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20this%2Eprevious%2Efocus%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20true%3B%0A%20%20%7D%2C%0A%0A%20%20touchstart%3A%20function%20%28e%29%0A%20%20%7B%0A%20%20%20%20%2F%2F%20a%20double%20touch%20often%20starts%20with%20a%0A%20%20%20%20%2F%2F%20single%20touch%20due%20to%20fingers%20touching%0A%20%20%20%20%2F%2F%20down%20at%20slightly%20different%20times%0A%20%20%20%20%2F%2F%20thus%20avoid%20calling%20preventDefault%20here%0A%20%20%20%20this%2Eprev%5Ftap%20%3D%20this%2Elast%5Ftap%3B%0A%20%20%20%20this%2Elast%5Ftap%20%3D%20%28new%20Date%29%2EgetTime%28%29%3B%0A%0A%20%20%20%20var%20tap%5Fdelay%20%3D%20this%2Elast%5Ftap%20%2D%20this%2Eprev%5Ftap%3B%0A%0A%20%20%20%20if%20%28tap%5Fdelay%20%3C%3D%20200%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%2F%2F%20double%20tap%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20touch%20%3D%20e%2Etouches%5B0%5D%3B%0A%0A%20%20%20%20this%2EpageX%20%3D%20touch%2EpageX%3B%0A%20%20%20%20this%2EpageY%20%3D%20touch%2EpageY%3B%0A%20%20%20%20this%2EscreenX%20%3D%20touch%2EscreenX%3B%0A%20%20%20%20this%2EscreenY%20%3D%20touch%2EscreenY%3B%0A%20%20%20%20this%2EclientX%20%3D%20touch%2EclientX%3B%0A%20%20%20%20this%2EclientY%20%3D%20touch%2EclientY%3B%0A%0A%20%20%20%20this%2Edelta%5Fx%20%3D%20this%2Edelta%5Fy%20%3D%200%3B%0A%20%20%7D%2C%0A%0A%20%20touchmove%3A%20function%20%28e%29%0A%20%20%7B%0A%20%20%20%20%2F%2F%20override%20native%20gestures%20for%20single%20touch%0A%20%20%20%20if%20%28e%2Etouches%2Elength%20%3E%201%29%0A%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20e%2EpreventDefault%28%29%3B%0A%20%20%20%20var%20touch%20%3D%20e%2Etouches%5B0%5D%3B%0A%20%20%20%20this%2Edelta%5Fx%20%3D%20touch%2EpageX%20%2D%20this%2EpageX%3B%0A%20%20%20%20this%2Edelta%5Fy%20%3D%20touch%2EpageY%20%2D%20this%2EpageY%3B%0A%20%20%7D%2C%0A%0A%20%20touchend%3A%20function%20%28e%29%0A%20%20%7B%0A%20%20%20%20%2F%2F%20default%20behavior%20for%20multi%2Dtouch%0A%20%20%20%20if%20%28e%2Etouches%2Elength%20%3E%201%29%0A%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20var%20delay%20%3D%20%28new%20Date%29%2EgetTime%28%29%20%2D%20this%2Elast%5Ftap%3B%0A%20%20%20%20var%20dx%20%3D%20this%2Edelta%5Fx%3B%0A%20%20%20%20var%20dy%20%3D%20this%2Edelta%5Fy%3B%0A%20%20%20%20var%20abs%5Fdx%20%3D%20Math%2Eabs%28dx%29%3B%0A%20%20%20%20var%20abs%5Fdy%20%3D%20Math%2Eabs%28dy%29%3B%0A%0A%20%20%20%20if%20%28delay%20%3C%20500%20%26%26%20%28abs%5Fdx%20%3E%20100%20%7C%7C%20abs%5Fdy%20%3E%20100%29%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28abs%5Fdx%20%3E%200%2E5%20%2A%20abs%5Fdy%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20e%2EpreventDefault%28%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28dx%20%3C%200%29%0A%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Enext%5Fslide%28true%29%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eprevious%5Fslide%28true%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28abs%5Fdy%20%3E%202%20%2A%20abs%5Fdx%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20e%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Etoggle%5Ftable%5Fof%5Fcontents%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20%23%23%23%20OBSOLETE%20%23%23%23%0A%20%20before%5Fprint%3A%20function%20%28%29%20%7B%0A%20%20%20%20this%2Eshow%5Fall%5Fslides%28%29%3B%0A%20%20%20%20this%2Ehide%5Ftoolbar%28%29%3B%0A%20%20%20%20alert%28%22before%20print%22%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20%23%23%23%20OBSOLETE%20%23%23%23%0A%20%20after%5Fprint%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28%21this%2Eview%5Fall%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20this%2Esingle%5Fslide%5Fview%28%29%3B%0A%20%20%20%20%20%20this%2Eshow%5Ftoolbar%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20alert%28%22after%20print%22%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20%23%23%23%20OBSOLETE%20%23%23%23%0A%20%20print%5Fslides%3A%20function%20%28%29%20%7B%0A%20%20%20%20this%2Ebefore%5Fprint%28%29%3B%0A%20%20%20%20window%2Eprint%28%29%3B%0A%20%20%20%20this%2Eafter%5Fprint%28%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20%23%23%23%20OBSOLETE%20%3F%3F%20%23%23%23%0A%20%20toggle%5Fview%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28this%2Eview%5Fall%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20this%2Esingle%5Fslide%5Fview%28%29%3B%0A%20%20%20%20%20%20this%2Eshow%5Ftoolbar%28%29%3B%0A%20%20%20%20%20%20this%2Eview%5Fall%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%0A%20%20%20%20%7B%0A%20%20%20%20%20%20this%2Eshow%5Fall%5Fslides%28%29%3B%0A%20%20%20%20%20%20this%2Ehide%5Ftoolbar%28%29%3B%0A%20%20%20%20%20%20this%2Eview%5Fall%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20prepare%20for%20printing%20%20%23%23%23%20OBSOLETE%20%23%23%23%0A%20%20show%5Fall%5Fslides%3A%20function%20%28%29%20%7B%0A%20%20%20%20this%2Eremove%5Fclass%28document%2Ebody%2C%20%22single%5Fslide%22%29%3B%0A%20%20%20%20this%2Eset%5Fvisibility%5Fall%5Fincremental%28%22visible%22%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20restore%20after%20printing%20%20%23%23%23%20OBSOLETE%20%23%23%23%0A%20%20single%5Fslide%5Fview%3A%20function%20%28%29%20%7B%0A%20%20%20%20this%2Eadd%5Fclass%28document%2Ebody%2C%20%22single%5Fslide%22%29%3B%0A%20%20%20%20this%2Eset%5Fvisibility%5Fall%5Fincremental%28%22visible%22%29%3B%0A%20%20%20%20this%2Elast%5Fshown%20%3D%20this%2Eprevious%5Fincremental%5Fitem%28null%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20suppress%20IE%27s%20image%20toolbar%20pop%20up%0A%20%20hide%5Fimage%5Ftoolbar%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28%21this%2Ens%5Fpos%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20images%20%3D%20document%2EgetElementsByTagName%28%22IMG%22%29%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20images%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%20%20%20%20images%5Bi%5D%2EsetAttribute%28%22galleryimg%22%2C%20%22no%22%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20unloaded%3A%20function%20%28e%29%20%7B%0A%20%20%20%20%2F%2Falert%28%22unloaded%22%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20Safari%20and%20Konqueror%20don%27t%20yet%20support%20getComputedStyle%28%29%0A%20%20%2F%2F%20and%20they%20always%20reload%20page%20when%20location%2Ehref%20is%20updated%0A%20%20is%5FKHTML%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20agent%20%3D%20navigator%2EuserAgent%3B%0A%20%20%20%20return%20%28agent%2EindexOf%28%22KHTML%22%29%20%3E%3D%200%20%3F%20true%20%3A%20false%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20find%20slide%20name%20from%20first%20h1%20element%0A%20%20%2F%2F%20default%20to%20document%20title%20%2B%20slide%20number%0A%20%20slide%5Fname%3A%20function%20%28index%29%20%7B%0A%20%20%20%20var%20name%20%3D%20null%3B%0A%20%20%20%20var%20slide%20%3D%20this%2Eslides%5Bindex%5D%3B%0A%0A%20%20%20%20var%20heading%20%3D%20this%2Efind%5Fheading%28slide%29%3B%0A%0A%20%20%20%20if%20%28heading%29%0A%20%20%20%20%20%20name%20%3D%20this%2Eextract%5Ftext%28heading%29%3B%0A%0A%20%20%20%20if%20%28%21name%29%0A%20%20%20%20%20%20name%20%3D%20this%2Etitle%20%2B%20%22%28%22%20%2B%20%28index%20%2B%201%29%20%2B%20%22%29%22%3B%0A%0A%20%20%20%20name%2Ereplace%28%2F%5C%26%2Fg%2C%20%22%26amp%3B%22%29%3B%0A%20%20%20%20name%2Ereplace%28%2F%5C%3C%2Fg%2C%20%22%26lt%3B%22%29%3B%0A%20%20%20%20name%2Ereplace%28%2F%5C%3E%2Fg%2C%20%22%26gt%3B%22%29%3B%0A%0A%20%20%20%20return%20name%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20find%20first%20h1%20element%20in%20DOM%20tree%0A%20%20find%5Fheading%3A%20function%20%28node%29%20%7B%0A%20%20%20%20if%20%28%21node%20%7C%7C%20node%2EnodeType%20%21%3D%201%29%0A%20%20%20%20%20%20return%20null%3B%0A%0A%20%20%20%20if%20%28node%2EnodeName%20%3D%3D%20%22H1%22%20%7C%7C%20node%2EnodeName%20%3D%3D%20%22h1%22%29%0A%20%20%20%20%20%20return%20node%3B%0A%0A%20%20%20%20var%20child%20%3D%20node%2EfirstChild%3B%0A%0A%20%20%20%20while%20%28child%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20node%20%3D%20this%2Efind%5Fheading%28child%29%3B%0A%0A%20%20%20%20%20%20if%20%28node%29%0A%20%20%20%20%20%20%20%20return%20node%3B%0A%0A%20%20%20%20%20%20child%20%3D%20child%2EnextSibling%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20null%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20recursively%20extract%20text%20from%20DOM%20tree%0A%20%20extract%5Ftext%3A%20function%20%28node%29%20%7B%0A%20%20%20%20if%20%28%21node%29%0A%20%20%20%20%20%20return%20%22%22%3B%0A%0A%20%20%20%20%2F%2F%20text%20nodes%0A%20%20%20%20if%20%28node%2EnodeType%20%3D%3D%203%29%0A%20%20%20%20%20%20return%20node%2EnodeValue%3B%0A%0A%20%20%20%20%2F%2F%20elements%0A%20%20%20%20if%20%28node%2EnodeType%20%3D%3D%201%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20node%20%3D%20node%2EfirstChild%3B%0A%20%20%20%20%20%20var%20text%20%3D%20%22%22%3B%0A%0A%20%20%20%20%20%20while%20%28node%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20text%20%3D%20text%20%2B%20this%2Eextract%5Ftext%28node%29%3B%0A%20%20%20%20%20%20%20%20node%20%3D%20node%2EnextSibling%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20text%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%22%22%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20find%20copyright%20text%20from%20meta%20element%0A%20%20find%5Fcopyright%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20name%2C%20content%3B%0A%20%20%20%20var%20meta%20%3D%20document%2EgetElementsByTagName%28%22meta%22%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20meta%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20name%20%3D%20meta%5Bi%5D%2EgetAttribute%28%22name%22%29%3B%0A%20%20%20%20%20%20content%20%3D%20meta%5Bi%5D%2EgetAttribute%28%22content%22%29%3B%0A%0A%20%20%20%20%20%20if%20%28name%20%3D%3D%20%22copyright%22%29%0A%20%20%20%20%20%20%20%20return%20content%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20null%3B%0A%20%20%7D%2C%0A%0A%20%20find%5Fsize%5Fadjust%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20name%2C%20content%2C%20offset%3B%0A%20%20%20%20var%20meta%20%3D%20document%2EgetElementsByTagName%28%22meta%22%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20meta%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20name%20%3D%20meta%5Bi%5D%2EgetAttribute%28%22name%22%29%3B%0A%20%20%20%20%20%20content%20%3D%20meta%5Bi%5D%2EgetAttribute%28%22content%22%29%3B%0A%0A%20%20%20%20%20%20if%20%28name%20%3D%3D%20%22font%2Dsize%2Dadjustment%22%29%0A%20%20%20%20%20%20%20%20return%201%20%2A%20content%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%201%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20%3Cmeta%20name%3D%22duration%22%20content%3D%2220%22%20%2F%3E%20%20for%2020%20minutes%0A%20%20find%5Fduration%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20name%2C%20content%2C%20offset%3B%0A%20%20%20%20var%20meta%20%3D%20document%2EgetElementsByTagName%28%22meta%22%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20meta%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20name%20%3D%20meta%5Bi%5D%2EgetAttribute%28%22name%22%29%3B%0A%20%20%20%20%20%20content%20%3D%20meta%5Bi%5D%2EgetAttribute%28%22content%22%29%3B%0A%0A%20%20%20%20%20%20if%20%28name%20%3D%3D%20%22duration%22%29%0A%20%20%20%20%20%20%20%20return%2060000%20%2A%20content%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20null%3B%0A%20%20%7D%2C%0A%0A%20%20replace%5Fby%5Fnon%5Fbreaking%5Fspace%3A%20function%20%28str%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20str%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%20%20str%5Bi%5D%20%3D%20160%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20%23%23%23%20CHECK%20ME%20%23%23%23%20is%20use%20of%20%22li%22%20okay%20for%20text%2Fhtml%3F%0A%20%20%2F%2F%20for%20XHTML%20do%20we%20also%20need%20to%20specify%20namespace%3F%0A%20%20init%5Foutliner%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20items%20%3D%20document%2EgetElementsByTagName%28%22li%22%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20items%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20target%20%3D%20items%5Bi%5D%3B%0A%0A%20%20%20%20%20%20if%20%28%21this%2Ehas%5Fclass%28target%2EparentNode%2C%20%22outline%22%29%29%0A%20%20%20%20%20%20%20%20continue%3B%0A%0A%20%20%20%20%20%20target%2Eonclick%20%3D%20this%2Eoutline%5Fclick%3B%0A%2F%2A%20%23%23%23%20more%20work%20needed%20for%20IE6%0A%20%20%20%20%20%20if%20%28%21this%2Ens%5Fpos%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20target%2Eonmouseover%20%3D%20this%2Ehover%5Foutline%3B%0A%20%20%20%20%20%20%20%20target%2Eonmouseout%20%3D%20this%2Eunhover%5Foutline%3B%0A%20%20%20%20%20%20%7D%0A%2A%2F%0A%20%20%20%20%20%20if%20%28this%2Efoldable%28target%29%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20target%2Efoldable%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20target%2Eonfocus%20%3D%20function%20%28%29%20%7Bw3c%5Fslidy%2Eoutline%20%3D%20this%3B%7D%3B%0A%20%20%20%20%20%20%20%20target%2Eonblur%20%3D%20function%20%28%29%20%7Bw3c%5Fslidy%2Eoutline%20%3D%20null%3B%7D%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28%21target%2EgetAttribute%28%22tabindex%22%29%29%0A%20%20%20%20%20%20%20%20%20%20target%2EsetAttribute%28%22tabindex%22%2C%20%220%22%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this%2Ehas%5Fclass%28target%2C%20%22expand%22%29%29%0A%20%20%20%20%20%20%20%20%20%20this%2Eunfold%28target%29%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20this%2Efold%28target%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20this%2Eadd%5Fclass%28target%2C%20%22nofold%22%29%3B%0A%20%20%20%20%20%20%20%20target%2Evisible%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20target%2Efoldable%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20foldable%3A%20function%20%28item%29%20%7B%0A%20%20%20%20if%20%28%21item%20%7C%7C%20item%2EnodeType%20%21%3D%201%29%0A%20%20%20%20%20%20return%20false%3B%0A%0A%20%20%20%20var%20node%20%3D%20item%2EfirstChild%3B%0A%0A%20%20%20%20while%20%28node%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28node%2EnodeType%20%3D%3D%201%20%26%26%20this%2Eis%5Fblock%28node%29%29%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%20%20node%20%3D%20node%2EnextSibling%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20false%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20%23%23%23%20CHECK%20ME%20%23%23%23%20switch%20to%20add%2Fremove%20%22hidden%22%20class%0A%20%20fold%3A%20function%20%28item%29%20%7B%0A%20%20%20%20if%20%28item%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20this%2Eremove%5Fclass%28item%2C%20%22unfolded%22%29%3B%0A%20%20%20%20%20%20this%2Eadd%5Fclass%28item%2C%20%22folded%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20node%20%3D%20item%20%3F%20item%2EfirstChild%20%3A%20null%3B%0A%0A%20%20%20%20while%20%28node%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28node%2EnodeType%20%3D%3D%201%20%26%26%20this%2Eis%5Fblock%28node%29%29%20%2F%2F%20element%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eadd%5Fclass%28node%2C%20%22hidden%22%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20node%20%3D%20node%2EnextSibling%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20item%2Evisible%20%3D%20false%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20%23%23%23%20CHECK%20ME%20%23%23%23%20switch%20to%20add%2Fremove%20%22hidden%22%20class%0A%20%20unfold%3A%20function%20%28item%29%20%7B%0A%20%20%20%20if%20%28item%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20this%2Eadd%5Fclass%28item%2C%20%22unfolded%22%29%3B%0A%20%20%20%20%20%20this%2Eremove%5Fclass%28item%2C%20%22folded%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20node%20%3D%20item%20%3F%20item%2EfirstChild%20%3A%20null%3B%0A%0A%20%20%20%20while%20%28node%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28node%2EnodeType%20%3D%3D%201%20%26%26%20this%2Eis%5Fblock%28node%29%29%20%2F%2F%20element%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eremove%5Fclass%28node%2C%20%22hidden%22%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20node%20%3D%20node%2EnextSibling%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20item%2Evisible%20%3D%20true%3B%0A%20%20%7D%2C%0A%0A%20%20outline%5Fclick%3A%20function%20%28e%29%20%7B%0A%20%20%20%20if%20%28%21e%29%0A%20%20%20%20%20%20e%20%3D%20window%2Eevent%3B%0A%0A%20%20%20%20var%20rightclick%20%3D%20false%3B%0A%20%20%20%20var%20target%20%3D%20w3c%5Fslidy%2Eget%5Ftarget%28e%29%3B%0A%0A%20%20%20%20while%20%28target%20%26%26%20target%2Evisible%20%3D%3D%20undefined%29%0A%20%20%20%20%20%20target%20%3D%20target%2EparentNode%3B%0A%0A%20%20%20%20if%20%28%21target%29%0A%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20if%20%28e%2Ewhich%29%0A%20%20%20%20%20%20rightclick%20%3D%20%28e%2Ewhich%20%3D%3D%203%29%3B%0A%20%20%20%20else%20if%20%28e%2Ebutton%29%0A%20%20%20%20%20%20rightclick%20%3D%20%28e%2Ebutton%20%3D%3D%202%29%3B%0A%0A%20%20%20%20if%20%28%21rightclick%20%26%26%20target%2Evisible%20%21%3D%20undefined%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28target%2Efoldable%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28target%2Evisible%29%0A%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Efold%28target%29%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eunfold%28target%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Estop%5Fpropagation%28e%29%3B%0A%20%20%20%20%20%20e%2Ecancel%20%3D%20true%3B%0A%20%20%20%20%20%20e%2EreturnValue%20%3D%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20false%3B%0A%20%20%7D%2C%0A%0A%20%20add%5Finitial%5Fprompt%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20prompt%20%3D%20this%2Ecreate%5Felement%28%22div%22%29%3B%0A%20%20%20%20prompt%2EsetAttribute%28%22class%22%2C%20%22initial%5Fprompt%22%29%3B%0A%0A%20%20%20%20var%20p1%20%3D%20this%2Ecreate%5Felement%28%22p%22%29%3B%0A%20%20%20%20prompt%2EappendChild%28p1%29%3B%0A%20%20%20%20p1%2EsetAttribute%28%22class%22%2C%20%22help%22%29%3B%0A%0A%20%20%20%20if%20%28this%2Ekeyboardless%29%0A%20%20%20%20%20%20p1%2EinnerHTML%20%3D%20%22swipe%20left%20to%20move%20to%20next%20slide%22%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20p1%2EinnerHTML%20%3D%20%22Space%2C%20Right%20Arrow%20or%20swipe%20left%20to%20move%20to%20%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22next%20slide%2C%20click%20help%20below%20for%20more%20details%22%3B%0A%0A%20%20%20%20this%2Eadd%5Flistener%28prompt%2C%20%22click%22%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20document%2Ebody%2EremoveChild%28prompt%29%3B%0A%20%20%20%20%20%20w3c%5Fslidy%2Estop%5Fpropagation%28e%29%3B%0A%20%20%20%20%0A%20%20%20%20%20%20if%20%28e%2Ecancel%20%21%3D%20undefined%29%0A%20%20%20%20%20%20%20%20e%2Ecancel%20%3D%20true%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20if%20%28e%2EreturnValue%20%21%3D%20undefined%29%0A%20%20%20%20%20%20%20%20e%2EreturnValue%20%3D%20false%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20document%2Ebody%2EappendChild%28prompt%29%3B%0A%20%20%20%20this%2Einitial%5Fprompt%20%3D%20prompt%3B%0A%20%20%20%20setTimeout%28function%28%29%20%7Bdocument%2Ebody%2EremoveChild%28prompt%29%3B%7D%2C%205000%29%3B%0A%20%20%7D%2C%0A%0A%20%20add%5Ftoolbar%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20counter%2C%20page%3B%0A%0A%20%20%20%20%20this%2Etoolbar%20%3D%20this%2Ecreate%5Felement%28%22div%22%29%3B%0A%20%20%20%20%20this%2Etoolbar%2EsetAttribute%28%22class%22%2C%20%22toolbar%22%29%3B%0A%0A%20%20%20%20%20%2F%2F%20a%20reasonably%20behaved%20browser%0A%20%20%20%20%20if%20%28this%2Ens%5Fpos%20%7C%7C%20%21this%2Eie6%29%0A%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20var%20right%20%3D%20this%2Ecreate%5Felement%28%22div%22%29%3B%0A%20%20%20%20%20%20%20right%2EsetAttribute%28%22style%22%2C%20%22float%3A%20right%3B%20text%2Dalign%3A%20right%22%29%3B%0A%0A%20%20%20%20%20%20%20counter%20%3D%20this%2Ecreate%5Felement%28%22span%22%29%0A%20%20%20%20%20%20%20counter%2EinnerHTML%20%3D%20this%2Elocalize%28%22slide%22%29%20%2B%20%22%20n%2Fm%22%3B%0A%20%20%20%20%20%20%20right%2EappendChild%28counter%29%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2EappendChild%28right%29%3B%0A%0A%20%20%20%20%20%20%20var%20left%20%3D%20this%2Ecreate%5Felement%28%22div%22%29%3B%0A%20%20%20%20%20%20%20left%2EsetAttribute%28%22style%22%2C%20%22text%2Dalign%3A%20left%22%29%3B%0A%0A%20%20%20%20%20%20%20%2F%2F%20global%20end%20of%20slide%20indicator%0A%20%20%20%20%20%20%20this%2Eeos%20%3D%20this%2Ecreate%5Felement%28%22span%22%29%3B%0A%20%20%20%20%20%20%20this%2Eeos%2EinnerHTML%20%3D%20%22%2A%20%22%3B%0A%20%20%20%20%20%20%20left%2EappendChild%28this%2Eeos%29%3B%0A%0A%20%20%20%20%20%20%20var%20help%20%3D%20this%2Ecreate%5Felement%28%22a%22%29%3B%0A%20%20%20%20%20%20%20help%2EsetAttribute%28%22href%22%2C%20this%2Ehelp%5Fpage%29%3B%0A%20%20%20%20%20%20%20help%2EsetAttribute%28%22title%22%2C%20this%2Elocalize%28this%2Ehelp%5Ftext%29%29%3B%0A%20%20%20%20%20%20%20help%2EinnerHTML%20%3D%20this%2Elocalize%28%22help%3F%22%29%3B%0A%20%20%20%20%20%20%20left%2EappendChild%28help%29%3B%0A%20%20%20%20%20%20%20this%2Ehelp%5Fanchor%20%3D%20help%3B%20%20%2F%2F%20save%20for%20focus%20hack%0A%0A%20%20%20%20%20%20%20var%20gap1%20%3D%20document%2EcreateTextNode%28%22%20%22%29%3B%0A%20%20%20%20%20%20%20left%2EappendChild%28gap1%29%3B%0A%0A%20%20%20%20%20%20%20var%20contents%20%3D%20this%2Ecreate%5Felement%28%22a%22%29%3B%0A%20%20%20%20%20%20%20contents%2EsetAttribute%28%22href%22%2C%20%22javascript%3Aw3c%5Fslidy%2Etoggle%5Ftable%5Fof%5Fcontents%28%29%22%29%3B%0A%20%20%20%20%20%20%20contents%2EsetAttribute%28%22title%22%2C%20this%2Elocalize%28%22table%20of%20contents%22%29%29%3B%0A%20%20%20%20%20%20%20contents%2EinnerHTML%20%3D%20this%2Elocalize%28%22contents%3F%22%29%3B%0A%20%20%20%20%20%20%20left%2EappendChild%28contents%29%3B%0A%0A%20%20%20%20%20%20%20var%20gap2%20%3D%20document%2EcreateTextNode%28%22%20%22%29%3B%0A%20%20%20%20%20%20%20left%2EappendChild%28gap2%29%3B%0A%0A%20%20%20%20%20%20%20var%20copyright%20%3D%20this%2Efind%5Fcopyright%28%29%3B%0A%0A%20%20%20%20%20%20%20if%20%28copyright%29%0A%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20var%20span%20%3D%20this%2Ecreate%5Felement%28%22span%22%29%3B%0A%20%20%20%20%20%20%20%20%20span%2EclassName%20%3D%20%22copyright%22%3B%0A%20%20%20%20%20%20%20%20%20span%2EinnerHTML%20%3D%20copyright%3B%0A%20%20%20%20%20%20%20%20%20left%2EappendChild%28span%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20this%2Etoolbar%2EsetAttribute%28%22tabindex%22%2C%20%220%22%29%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2EappendChild%28left%29%3B%0A%20%20%20%20%20%7D%0A%20%20%20%20%20else%20%2F%2F%20IE6%20so%20need%20to%20work%20around%20its%20poor%20CSS%20support%0A%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2Eposition%20%3D%20%28this%2Eie7%20%3F%20%22fixed%22%20%3A%20%22absolute%22%29%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2EzIndex%20%3D%20%22200%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2Ewidth%20%3D%20%2299%2E9%25%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2Eheight%20%3D%20%221%2E2em%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2Etop%20%3D%20%22auto%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2Ebottom%20%3D%20%220%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2Eleft%20%3D%20%220%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2Eright%20%3D%20%220%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2EtextAlign%20%3D%20%22left%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2EfontSize%20%3D%20%2260%25%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2Ecolor%20%3D%20%22red%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2EborderWidth%20%3D%200%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2EclassName%20%3D%20%22toolbar%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2Estyle%2Ebackground%20%3D%20%22rgb%28240%2C240%2C240%29%22%3B%0A%0A%20%20%20%20%20%20%20%2F%2F%20would%20like%20to%20have%20help%20text%20left%20aligned%0A%20%20%20%20%20%20%20%2F%2F%20and%20page%20counter%20right%20aligned%2C%20floating%0A%20%20%20%20%20%20%20%2F%2F%20div%27s%20don%27t%20work%2C%20so%20instead%20use%20nested%0A%20%20%20%20%20%20%20%2F%2F%20absolutely%20positioned%20div%27s%2E%0A%0A%20%20%20%20%20%20%20var%20sp%20%3D%20this%2Ecreate%5Felement%28%22span%22%29%3B%0A%20%20%20%20%20%20%20sp%2EinnerHTML%20%3D%20%22%26nbsp%3B%26nbsp%3B%2A%26nbsp%3B%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2EappendChild%28sp%29%3B%0A%20%20%20%20%20%20%20this%2Eeos%20%3D%20sp%3B%20%20%2F%2F%20end%20of%20slide%20indicator%0A%0A%20%20%20%20%20%20%20var%20help%20%3D%20this%2Ecreate%5Felement%28%22a%22%29%3B%0A%20%20%20%20%20%20%20help%2EsetAttribute%28%22href%22%2C%20this%2Ehelp%5Fpage%29%3B%0A%20%20%20%20%20%20%20help%2EsetAttribute%28%22title%22%2C%20this%2Elocalize%28this%2Ehelp%5Ftext%29%29%3B%0A%20%20%20%20%20%20%20help%2EinnerHTML%20%3D%20this%2Elocalize%28%22help%3F%22%29%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2EappendChild%28help%29%3B%0A%20%20%20%20%20%20%20this%2Ehelp%5Fanchor%20%3D%20help%3B%20%20%2F%2F%20save%20for%20focus%20hack%0A%0A%20%20%20%20%20%20%20var%20gap1%20%3D%20document%2EcreateTextNode%28%22%20%22%29%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2EappendChild%28gap1%29%3B%0A%0A%20%20%20%20%20%20%20var%20contents%20%3D%20this%2Ecreate%5Felement%28%22a%22%29%3B%0A%20%20%20%20%20%20%20contents%2EsetAttribute%28%22href%22%2C%20%22javascript%3AtoggleTableOfContents%28%29%22%29%3B%0A%20%20%20%20%20%20%20contents%2EsetAttribute%28%22title%22%2C%20this%2Elocalize%28%22table%20of%20contents%22%2Elocalize%29%29%3B%0A%20%20%20%20%20%20%20contents%2EinnerHTML%20%3D%20this%2Elocalize%28%22contents%3F%22%29%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2EappendChild%28contents%29%3B%0A%0A%20%20%20%20%20%20%20var%20gap2%20%3D%20document%2EcreateTextNode%28%22%20%22%29%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2EappendChild%28gap2%29%3B%0A%0A%20%20%20%20%20%20%20var%20copyright%20%3D%20this%2Efind%5Fcopyright%28%29%3B%0A%0A%20%20%20%20%20%20%20if%20%28copyright%29%0A%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20var%20span%20%3D%20this%2Ecreate%5Felement%28%22span%22%29%3B%0A%20%20%20%20%20%20%20%20%20span%2EinnerHTML%20%3D%20copyright%3B%0A%20%20%20%20%20%20%20%20%20span%2Estyle%2Ecolor%20%3D%20%22black%22%3B%0A%20%20%20%20%20%20%20%20%20span%2Estyle%2EmarginLeft%20%3D%20%220%2E5em%22%3B%0A%20%20%20%20%20%20%20%20%20this%2Etoolbar%2EappendChild%28span%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20counter%20%3D%20this%2Ecreate%5Felement%28%22div%22%29%0A%20%20%20%20%20%20%20counter%2Estyle%2Eposition%20%3D%20%22absolute%22%3B%0A%20%20%20%20%20%20%20counter%2Estyle%2Ewidth%20%3D%20%22auto%22%3B%20%2F%2F%2220%25%22%3B%0A%20%20%20%20%20%20%20counter%2Estyle%2Eheight%20%3D%20%221%2E2em%22%3B%0A%20%20%20%20%20%20%20counter%2Estyle%2Etop%20%3D%20%22auto%22%3B%0A%20%20%20%20%20%20%20counter%2Estyle%2Ebottom%20%3D%200%3B%0A%20%20%20%20%20%20%20counter%2Estyle%2Eright%20%3D%20%220%22%3B%0A%20%20%20%20%20%20%20counter%2Estyle%2EtextAlign%20%3D%20%22right%22%3B%0A%20%20%20%20%20%20%20counter%2Estyle%2Ecolor%20%3D%20%22red%22%3B%0A%20%20%20%20%20%20%20counter%2Estyle%2Ebackground%20%3D%20%22rgb%28240%2C240%2C240%29%22%3B%0A%0A%20%20%20%20%20%20%20counter%2EinnerHTML%20%3D%20this%2Elocalize%28%22slide%22%29%20%2B%20%22%20n%2Fm%22%3B%0A%20%20%20%20%20%20%20this%2Etoolbar%2EappendChild%28counter%29%3B%0A%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%2F%2F%20ensure%20that%20click%20isn%27t%20passed%20through%20to%20the%20page%0A%20%20%20%20%20this%2Etoolbar%2Eonclick%20%3D%0A%20%20%20%20%20%20%20%20%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28%21e%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20e%20%3D%20window%2Eevent%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20var%20target%20%3D%20e%2Etarget%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28%21target%20%26%26%20e%2EsrcElement%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20target%20%3D%20e%2EsrcElement%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20work%20around%20Safari%20bug%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28target%20%26%26%20target%2EnodeType%20%3D%3D%203%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20target%20%3D%20target%2EparentNode%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Estop%5Fpropagation%28e%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28target%20%26%26%20target%2EnodeName%2EtoLowerCase%28%29%20%21%3D%20%22a%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Emouse%5Fbutton%5Fclick%28e%29%3B%0A%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20this%2Eslide%5Fnumber%5Felement%20%3D%20counter%3B%0A%20%20%20%20%20this%2Eset%5Feos%5Fstatus%28false%29%3B%0A%20%20%20%20%20document%2Ebody%2EappendChild%28this%2Etoolbar%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20wysiwyg%20editors%20make%20it%20hard%20to%20use%20div%20elements%0A%20%20%2F%2F%20e%2Eg%2E%20amaya%20loses%20the%20div%20when%20you%20copy%20and%20paste%0A%20%20%2F%2F%20this%20function%20wraps%20div%20elements%20around%20implicit%0A%20%20%2F%2F%20slides%20which%20start%20with%20an%20h1%20element%20and%20continue%0A%20%20%2F%2F%20up%20to%20the%20next%20heading%20or%20div%20element%0A%20%20wrap%5Fimplicit%5Fslides%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20i%2C%20heading%2C%20node%2C%20next%2C%20div%3B%0A%20%20%20%20var%20headings%20%3D%20document%2EgetElementsByTagName%28%22h1%22%29%3B%0A%0A%20%20%20%20if%20%28%21headings%29%0A%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20headings%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20heading%20%3D%20headings%5Bi%5D%3B%0A%0A%20%20%20%20%20%20if%20%28heading%2EparentNode%20%21%3D%20document%2Ebody%29%0A%20%20%20%20%20%20%20%20continue%3B%0A%0A%20%20%20%20%20%20node%20%3D%20heading%2EnextSibling%3B%0A%0A%20%20%20%20%20%20div%20%3D%20document%2EcreateElement%28%22div%22%29%3B%0A%20%20%20%20%20%20this%2Eadd%5Fclass%28div%2C%20%22slide%22%29%3B%0A%20%20%20%20%20%20document%2Ebody%2EreplaceChild%28div%2C%20heading%29%3B%0A%20%20%20%20%20%20div%2EappendChild%28heading%29%3B%0A%0A%20%20%20%20%20%20while%20%28node%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28node%2EnodeType%20%3D%3D%201%29%20%2F%2F%20an%20element%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28node%2EnodeName%20%3D%3D%20%22H1%22%20%7C%7C%20node%2EnodeName%20%3D%3D%20%22h1%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28node%2EnodeName%20%3D%3D%20%22DIV%22%20%7C%7C%20node%2EnodeName%20%3D%3D%20%22div%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2Ehas%5Fclass%28node%2C%20%22slide%22%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2Ehas%5Fclass%28node%2C%20%22handout%22%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20next%20%3D%20node%2EnextSibling%3B%0A%20%20%20%20%20%20%20%20node%20%3D%20document%2Ebody%2EremoveChild%28node%29%3B%0A%20%20%20%20%20%20%20%20div%2EappendChild%28node%29%3B%0A%20%20%20%20%20%20%20%20node%20%3D%20next%3B%0A%20%20%20%20%20%20%7D%20%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20attach%5Ftouch%5Fhanders%3A%20function%28slides%29%0A%20%20%7B%0A%20%20%20%20var%20i%2C%20slide%3B%0A%0A%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20slides%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20slide%20%3D%20slides%5Bi%5D%3B%0A%20%20%20%20%20%20this%2Eadd%5Flistener%28slide%2C%20%22touchstart%22%2C%20this%2Etouchstart%29%3B%0A%20%20%20%20%20%20this%2Eadd%5Flistener%28slide%2C%20%22touchmove%22%2C%20this%2Etouchmove%29%3B%0A%20%20%20%20%20%20this%2Eadd%5Flistener%28slide%2C%20%22touchend%22%2C%20this%2Etouchend%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%2F%2F%20return%20new%20array%20of%20all%20slides%0A%20%20collect%5Fslides%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20slides%20%3D%20new%20Array%28%29%3B%0A%20%20%20%20var%20divs%20%3D%20document%2Ebody%2EgetElementsByTagName%28%22div%22%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20divs%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20div%20%3D%20divs%2Eitem%28i%29%3B%0A%0A%20%20%20%20%20%20if%20%28this%2Ehas%5Fclass%28div%2C%20%22slide%22%29%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20add%20slide%20to%20collection%0A%20%20%20%20%20%20%20%20slides%5Bslides%2Elength%5D%20%3D%20div%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20hide%20each%20slide%20as%20it%20is%20found%0A%20%20%20%20%20%20%20%20this%2Eadd%5Fclass%28div%2C%20%22hidden%22%29%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20add%20dummy%20%3Cbr%2F%3E%20at%20end%20for%20scrolling%20hack%0A%20%20%20%20%20%20%20%20var%20node1%20%3D%20document%2EcreateElement%28%22br%22%29%3B%0A%20%20%20%20%20%20%20%20div%2EappendChild%28node1%29%3B%0A%20%20%20%20%20%20%20%20var%20node2%20%3D%20document%2EcreateElement%28%22br%22%29%3B%0A%20%20%20%20%20%20%20%20div%2EappendChild%28node2%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28this%2Ehas%5Fclass%28div%2C%20%22background%22%29%29%0A%20%20%20%20%20%20%7B%20%20%2F%2F%20work%20around%20for%20Firefox%20SVG%20reload%20bug%0A%20%20%20%20%20%20%20%20%2F%2F%20which%20otherwise%20replaces%201st%20SVG%20graphic%20with%202nd%0A%20%20%20%20%20%20%20%20div%2Estyle%2Edisplay%20%3D%20%22block%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Eslides%20%3D%20slides%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20return%20new%20array%20of%20all%20%3Cdiv%20class%3D%22handout%22%3E%0A%20%20collect%5Fnotes%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20notes%20%3D%20new%20Array%28%29%3B%0A%20%20%20%20var%20divs%20%3D%20document%2Ebody%2EgetElementsByTagName%28%22div%22%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20divs%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20div%20%3D%20divs%2Eitem%28i%29%3B%0A%0A%20%20%20%20%20%20if%20%28this%2Ehas%5Fclass%28div%2C%20%22handout%22%29%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20add%20note%20to%20collection%0A%20%20%20%20%20%20%20%20notes%5Bnotes%2Elength%5D%20%3D%20div%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20and%20hide%20it%0A%20%20%20%20%20%20%20%20this%2Eadd%5Fclass%28div%2C%20%22hidden%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Enotes%20%3D%20notes%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20return%20new%20array%20of%20all%20%3Cdiv%20class%3D%22background%22%3E%0A%20%20%2F%2F%20including%20named%20backgrounds%20e%2Eg%2E%20class%3D%22background%20titlepage%22%0A%20%20collect%5Fbackgrounds%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20backgrounds%20%3D%20new%20Array%28%29%3B%0A%20%20%20%20var%20divs%20%3D%20document%2Ebody%2EgetElementsByTagName%28%22div%22%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20divs%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20div%20%3D%20divs%2Eitem%28i%29%3B%0A%0A%20%20%20%20%20%20if%20%28this%2Ehas%5Fclass%28div%2C%20%22background%22%29%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20add%20background%20to%20collection%0A%20%20%20%20%20%20%20%20backgrounds%5Bbackgrounds%2Elength%5D%20%3D%20div%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20and%20hide%20it%0A%20%20%20%20%20%20%20%20this%2Eadd%5Fclass%28div%2C%20%22hidden%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Ebackgrounds%20%3D%20backgrounds%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20set%20click%20handlers%20on%20all%20anchors%0A%20%20patch%5Fanchors%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20self%20%3D%20w3c%5Fslidy%3B%0A%20%20%20%20var%20handler%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20compare%20this%2Ehref%20with%20location%2Ehref%0A%20%20%20%20%20%20%2F%2F%20for%20link%20to%20another%20slide%20in%20this%20doc%0A%0A%20%20%20%20%20%20if%20%28self%2Epage%5Faddress%28this%2Ehref%29%20%3D%3D%20self%2Epage%5Faddress%28location%2Ehref%29%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20yes%2C%20so%20find%20new%20slide%20number%0A%20%20%20%20%20%20%20%20var%20newslidenum%20%3D%20self%2Efind%5Fslide%5Fnumber%28this%2Ehref%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28newslidenum%20%21%3D%20self%2Eslide%5Fnumber%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20slide%20%3D%20self%2Eslides%5Bself%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20%20%20self%2Ehide%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%20%20%20%20self%2Eslide%5Fnumber%20%3D%20newslidenum%3B%0A%20%20%20%20%20%20%20%20%20%20slide%20%3D%20self%2Eslides%5Bself%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20%20%20self%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%20%20%20%20self%2Eset%5Flocation%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Estop%5Fpropagation%28event%29%3B%0A%0A%2F%2F%20%20%20%20%20%20else%20if%20%28this%2Etarget%20%3D%3D%20null%29%0A%2F%2F%20%20%20%20%20%20%20%20location%2Ehref%20%3D%20this%2Ehref%3B%0A%0A%20%20%20%20%20%20this%2Eblur%28%29%3B%0A%20%20%20%20%20%20self%2Edisable%5Fslide%5Fclick%20%3D%20true%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20anchors%20%3D%20document%2Ebody%2EgetElementsByTagName%28%22a%22%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20anchors%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28window%2EaddEventListener%29%0A%20%20%20%20%20%20%20%20anchors%5Bi%5D%2EaddEventListener%28%22click%22%2C%20handler%2C%20false%29%3B%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20anchors%5Bi%5D%2EattachEvent%28%22onclick%22%2C%20handler%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20%23%23%23%20CHECK%20ME%20%23%23%23%20see%20which%20functions%20are%20invoked%20via%20setTimeout%0A%20%20%2F%2F%20either%20directly%20or%20indirectly%20for%20use%20of%20w3c%5Fslidy%20vs%20this%0A%20%20show%5Fslide%5Fnumber%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20timer%20%3D%20w3c%5Fslidy%2Eget%5Ftimer%28%29%3B%0A%20%20%20%20w3c%5Fslidy%2Eslide%5Fnumber%5Felement%2EinnerHTML%20%3D%20timer%20%2B%20w3c%5Fslidy%2Elocalize%28%22slide%22%29%20%2B%20%22%20%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%28w3c%5Fslidy%2Eslide%5Fnumber%20%2B%201%29%20%2B%20%22%2F%22%20%2B%20w3c%5Fslidy%2Eslides%2Elength%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20every%20200mS%20check%20if%20the%20location%20has%20been%20changed%20as%20a%0A%20%20%2F%2F%20result%20of%20the%20user%20activating%20the%20Back%20button%2Fmenu%20item%0A%20%20%2F%2F%20doesn%27t%20work%20for%20Opera%20%3C%209%2E5%0A%20%20check%5Flocation%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20hash%20%3D%20location%2Ehash%3B%0A%0A%20%20%20%20if%20%28w3c%5Fslidy%2Eslide%5Fnumber%20%3E%200%20%26%26%20%28hash%20%3D%3D%20%22%22%20%7C%7C%20hash%20%3D%3D%20%22%23%22%29%29%0A%20%20%20%20%20%20w3c%5Fslidy%2Egoto%5Fslide%280%29%3B%0A%20%20%20%20else%20if%20%28hash%2Elength%20%3E%202%20%26%26%20hash%20%21%3D%20%22%23%28%22%2B%28w3c%5Fslidy%2Eslide%5Fnumber%2B1%29%2B%22%29%22%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20num%20%3D%20parseInt%28location%2Ehash%2Esubstr%282%29%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21isNaN%28num%29%29%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Egoto%5Fslide%28num%2D1%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28w3c%5Fslidy%2Etime%5Fleft%20%26%26%20w3c%5Fslidy%2Eslide%5Fnumber%20%3E%200%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%5Fnumber%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Etime%5Fleft%20%3E%200%29%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Etime%5Fleft%20%2D%3D%20200%3B%0A%20%20%20%20%7D%20%0A%20%20%7D%2C%0A%0A%20%20get%5Ftimer%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20timer%20%3D%20%22%22%3B%0A%20%20%20%20if%20%28w3c%5Fslidy%2Etime%5Fleft%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20mins%2C%20secs%3B%0A%20%20%20%20%20%20secs%20%3D%20Math%2Efloor%28w3c%5Fslidy%2Etime%5Fleft%2F1000%29%3B%0A%20%20%20%20%20%20mins%20%3D%20Math%2Efloor%28secs%20%2F%2060%29%3B%0A%20%20%20%20%20%20secs%20%3D%20secs%20%25%2060%3B%0A%20%20%20%20%20%20timer%20%3D%20%28mins%20%3F%20mins%2B%22m%22%20%3A%20%22%22%29%20%2B%20secs%20%2B%20%22s%20%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20timer%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20this%20doesn%27t%20push%20location%20onto%20history%20stack%20for%20IE%0A%20%20%2F%2F%20for%20which%20a%20hidden%20iframe%20hack%20is%20needed%3A%20load%20page%20into%0A%20%20%2F%2F%20the%20iframe%20with%20script%20that%20set%27s%20parent%27s%20location%2Ehash%0A%20%20%2F%2F%20but%20that%20won%27t%20work%20for%20standalone%20use%20unless%20we%20can%0A%20%20%2F%2F%20create%20the%20page%20dynamically%20via%20a%20javascript%3A%20URL%0A%20%20%2F%2F%20%23%23%23%20use%20history%2EpushState%20if%20available%0A%20%20set%5Flocation%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20var%20uri%20%3D%20w3c%5Fslidy%2Epage%5Faddress%28location%2Ehref%29%3B%0A%20%20%20%20%20var%20hash%20%3D%20%22%23%28%22%20%2B%20%28w3c%5Fslidy%2Eslide%5Fnumber%2B1%29%20%2B%20%22%29%22%3B%0A%0A%20%20%20%20%20if%20%28w3c%5Fslidy%2Eslide%5Fnumber%20%3E%3D%200%29%0A%20%20%20%20%20%20%20uri%20%3D%20uri%20%2B%20hash%3B%0A%0A%20%20%20%20%20if%20%28typeof%28history%2EpushState%29%20%21%3D%20%22undefined%22%29%0A%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20document%2Etitle%20%3D%20w3c%5Fslidy%2Etitle%20%2B%20%22%20%28%22%20%2B%20%28w3c%5Fslidy%2Eslide%5Fnumber%2B1%29%20%2B%20%22%29%22%3B%0A%20%20%20%20%20%20%20history%2EpushState%280%2C%20document%2Etitle%2C%20hash%29%3B%0A%20%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%5Fnumber%28%29%3B%0A%20%20%20%20%20%20%20w3c%5Fslidy%2Enotify%5Fobservers%28%29%3B%0A%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%7D%0A%0A%20%20%20%20%20if%20%28w3c%5Fslidy%2Eie%20%26%26%20%28w3c%5Fslidy%2Eie6%20%7C%7C%20w3c%5Fslidy%2Eie7%29%29%0A%20%20%20%20%20%20%20w3c%5Fslidy%2Epush%5Fhash%28hash%29%3B%0A%0A%20%20%20%20%20if%20%28uri%20%21%3D%20location%2Ehref%29%20%2F%2F%20%26%26%20%21khtml%0A%20%20%20%20%20%20%20%20location%2Ehref%20%3D%20uri%3B%0A%0A%20%20%20%20%20if%20%28this%2Ekhtml%29%0A%20%20%20%20%20%20%20%20hash%20%3D%20%22%28%22%20%2B%20%28w3c%5Fslidy%2Eslide%5Fnumber%2B1%29%20%2B%20%22%29%22%3B%0A%0A%20%20%20%20%20if%20%28%21this%2Eie%20%26%26%20location%2Ehash%20%21%3D%20hash%20%26%26%20location%2Ehash%20%21%3D%20%22%22%29%0A%20%20%20%20%20%20%20location%2Ehash%20%3D%20hash%3B%0A%0A%20%20%20%20%20document%2Etitle%20%3D%20w3c%5Fslidy%2Etitle%20%2B%20%22%20%28%22%20%2B%20%28w3c%5Fslidy%2Eslide%5Fnumber%2B1%29%20%2B%20%22%29%22%3B%0A%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%5Fnumber%28%29%3B%0A%20%20%20%20%20w3c%5Fslidy%2Enotify%5Fobservers%28%29%3B%0A%20%20%7D%2C%0A%0A%20%20notify%5Fobservers%3A%20function%20%28%29%0A%20%20%7B%0A%20%20%20%20var%20slide%20%3D%20this%2Eslides%5Bthis%2Eslide%5Fnumber%5D%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20this%2Eobservers%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%20%20this%2Eobservers%5Bi%5D%28this%2Eslide%5Fnumber%2B1%2C%20this%2Efind%5Fheading%28slide%29%2EinnerText%2C%20location%2Ehref%29%3B%0A%20%20%7D%2C%0A%0A%20%20add%5Fobserver%3A%20function%20%28observer%29%0A%20%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20this%2Eobservers%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28observer%20%3D%3D%20this%2Eobservers%5Bi%5D%29%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Eobservers%2Epush%28observer%29%3B%0A%20%20%7D%2C%0A%0A%20%20remove%5Fobserver%3A%20function%20%28o%29%0A%20%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20this%2Eobservers%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28observer%20%3D%3D%20this%2Eobservers%5Bi%5D%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20this%2Eobservers%2Esplice%28i%2C1%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20page%5Faddress%3A%20function%20%28uri%29%20%7B%0A%20%20%20%20var%20i%20%3D%20uri%2EindexOf%28%22%23%22%29%3B%0A%0A%20%20%20%20if%20%28i%20%3C%200%29%0A%20%20%20%20%20%20i%20%3D%20uri%2EindexOf%28%22%2523%22%29%3B%0A%0A%20%20%20%20%2F%2F%20check%20if%20anchor%20is%20entire%20page%0A%0A%20%20%20%20if%20%28i%20%3C%200%29%0A%20%20%20%20%20%20return%20uri%3B%20%20%2F%2F%20yes%0A%0A%20%20%20%20return%20uri%2Esubstr%280%2C%20i%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20only%20used%20for%20IE6%20and%20IE7%0A%20%20on%5Fframe%5Floaded%3A%20function%20%28hash%29%20%7B%0A%20%20%20%20location%2Ehash%20%3D%20hash%3B%0A%20%20%20%20var%20uri%20%3D%20w3c%5Fslidy%2Epage%5Faddress%28location%2Ehref%29%3B%0A%20%20%20%20location%2Ehref%20%3D%20uri%20%2B%20hash%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20history%20hack%20with%20thanks%20to%20Bertrand%20Le%20Roy%0A%20%20push%5Fhash%3A%20function%20%28hash%29%20%7B%0A%20%20%20%20if%20%28hash%20%3D%3D%20%22%22%29%20hash%20%3D%20%22%23%281%29%22%3B%0A%20%20%20%20%20%20window%2Elocation%2Ehash%20%3D%20hash%3B%0A%0A%20%20%20%20var%20doc%20%3D%20document%2EgetElementById%28%22historyFrame%22%29%2EcontentWindow%2Edocument%3B%0A%20%20%20%20doc%2Eopen%28%22javascript%3A%27%3Chtml%3E%3C%2Fhtml%3E%27%22%29%3B%0A%20%20%20%20doc%2Ewrite%28%22%3Chtml%3E%3Chead%3E%3Cscript%20type%3D%5C%22text%2Fjavascript%5C%22%3Ewindow%2Eparent%2Ew3c%5Fslidy%2Eon%5Fframe%5Floaded%28%27%22%2B%0A%20%20%20%20%20%20%28hash%29%20%2B%20%22%27%29%3B%3C%2Fscript%3E%3C%2Fhead%3E%3Cbody%3Ehello%20mum%3C%2Fbody%3E%3C%2Fhtml%3E%22%29%3B%0A%20%20%20%20%20%20doc%2Eclose%28%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20find%20current%20slide%20based%20upon%20location%0A%20%20%2F%2F%20first%20find%20target%20anchor%20and%20then%20look%0A%20%20%2F%2F%20for%20associated%20div%20element%20enclosing%20it%0A%20%20%2F%2F%20finally%20map%20that%20to%20slide%20number%0A%20%20find%5Fslide%5Fnumber%3A%20function%20%28uri%29%20%7B%0A%20%20%20%20%2F%2F%20first%20get%20anchor%20from%20page%20location%0A%0A%20%20%20%20var%20i%20%3D%20uri%2EindexOf%28%22%23%22%29%3B%0A%0A%20%20%20%20%2F%2F%20check%20if%20anchor%20is%20entire%20page%0A%20%20%20%20if%20%28i%20%3C%200%29%0A%20%20%20%20%20%20return%200%3B%20%20%2F%2F%20yes%0A%0A%20%20%20%20var%20anchor%20%3D%20unescape%28uri%2Esubstr%28i%2B1%29%29%3B%0A%0A%20%20%20%20%2F%2F%20now%20use%20anchor%20as%20XML%20ID%20to%20find%20target%0A%20%20%20%20var%20target%20%3D%20document%2EgetElementById%28anchor%29%3B%0A%0A%20%20%20%20if%20%28%21target%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%2F%2F%20does%20anchor%20look%20like%20%22%282%29%22%20for%20slide%202%20%3F%3F%0A%20%20%20%20%20%20%2F%2F%20where%20first%20slide%20is%20%281%29%0A%20%20%20%20%20%20var%20re%20%3D%20%2F%5C%28%28%5Cd%29%2B%5C%29%2F%3B%0A%0A%20%20%20%20%20%20if%20%28anchor%2Ematch%28re%29%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20num%20%3D%20parseInt%28anchor%2Esubstring%281%2C%20anchor%2Elength%2D1%29%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28num%20%3E%20this%2Eslides%2Elength%29%0A%20%20%20%20%20%20%20%20%20%20num%20%3D%201%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28%2D%2Dnum%20%3C%200%29%0A%20%20%20%20%20%20%20%20%20%20num%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20return%20num%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20accept%20%5B2%5D%20for%20backwards%20compatibility%0A%20%20%20%20%20%20re%20%3D%20%2F%5C%5B%28%5Cd%29%2B%5C%5D%2F%3B%0A%0A%20%20%20%20%20%20if%20%28anchor%2Ematch%28re%29%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20var%20num%20%3D%20parseInt%28anchor%2Esubstring%281%2C%20anchor%2Elength%2D1%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20if%20%28num%20%3E%20this%2Eslides%2Elength%29%0A%20%20%20%20%20%20%20%20%20%20%20%20num%20%3D%201%3B%0A%0A%20%20%20%20%20%20%20%20%20if%20%28%2D%2Dnum%20%3C%200%29%0A%20%20%20%20%20%20%20%20%20%20%20%20num%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20%20return%20num%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20oh%20dear%20unknown%20anchor%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20search%20for%20enclosing%20slide%0A%0A%20%20%20%20while%20%28true%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%2F%2F%20browser%20coerces%20html%20elements%20to%20uppercase%21%0A%20%20%20%20%20%20if%20%28target%2EnodeName%2EtoLowerCase%28%29%20%3D%3D%20%22div%22%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ehas%5Fclass%28target%2C%20%22slide%22%29%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20found%20the%20slide%20element%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20otherwise%20try%20parent%20element%20if%20any%0A%0A%20%20%20%20%20%20target%20%3D%20target%2EparentNode%3B%0A%0A%20%20%20%20%20%20if%20%28%21target%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%20%20%20%2F%2F%20no%20luck%21%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20slides%2Elength%3B%20%2B%2Bi%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28slides%5Bi%5D%20%3D%3D%20target%29%0A%20%20%20%20%20%20%20%20return%20i%3B%20%20%2F%2F%20success%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20oh%20dear%20still%20no%20luck%0A%20%20%20%20return%200%3B%0A%20%20%7D%2C%0A%0A%20%20previous%5Fslide%3A%20function%20%28incremental%29%20%7B%0A%20%20%20%20if%20%28%21w3c%5Fslidy%2Eview%5Fall%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20slide%3B%0A%0A%20%20%20%20%20%20if%20%28%28incremental%20%7C%7C%20w3c%5Fslidy%2Eslide%5Fnumber%20%3D%3D%200%29%20%26%26%20w3c%5Fslidy%2Elast%5Fshown%20%21%3D%20null%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20w3c%5Fslidy%2Ehide%5Fprevious%5Fitem%28w3c%5Fslidy%2Elast%5Fshown%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Feos%5Fstatus%28false%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28w3c%5Fslidy%2Eslide%5Fnumber%20%3E%200%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Fslide%28slide%29%3B%0A%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eslide%5Fnumber%20%3D%20w3c%5Fslidy%2Eslide%5Fnumber%20%2D%201%3B%0A%20%20%20%20%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Fvisibility%5Fall%5Fincremental%28%22visible%22%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20w3c%5Fslidy%2Eprevious%5Fincremental%5Fitem%28null%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Feos%5Fstatus%28true%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Flocation%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21w3c%5Fslidy%2Ens%5Fpos%29%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Erefresh%5Ftoolbar%28200%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20next%5Fslide%3A%20function%20%28incremental%29%20%7B%0A%20%20%20%20if%20%28%21w3c%5Fslidy%2Eview%5Fall%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20slide%2C%20last%20%3D%20w3c%5Fslidy%2Elast%5Fshown%3B%0A%0A%20%20%20%20%20%20if%20%28incremental%20%7C%7C%20w3c%5Fslidy%2Eslide%5Fnumber%20%3D%3D%20w3c%5Fslidy%2Eslides%2Elength%20%2D%201%29%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20w3c%5Fslidy%2Ereveal%5Fnext%5Fitem%28w3c%5Fslidy%2Elast%5Fshown%29%3B%0A%0A%20%20%20%20%20%20if%20%28%28%21incremental%20%7C%7C%20w3c%5Fslidy%2Elast%5Fshown%20%3D%3D%20null%29%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eslide%5Fnumber%20%3C%20w3c%5Fslidy%2Eslides%2Elength%20%2D%201%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Fslide%28slide%29%3B%0A%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eslide%5Fnumber%20%3D%20w3c%5Fslidy%2Eslide%5Fnumber%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Fvisibility%5Fall%5Fincremental%28%22hidden%22%29%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28%21w3c%5Fslidy%2Elast%5Fshown%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20if%20%28last%20%26%26%20incremental%29%0A%20%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20last%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Flocation%28%29%3B%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Feos%5Fstatus%28%21w3c%5Fslidy%2Enext%5Fincremental%5Fitem%28w3c%5Fslidy%2Elast%5Fshown%29%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21w3c%5Fslidy%2Ens%5Fpos%29%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Erefresh%5Ftoolbar%28200%29%3B%0A%20%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20to%20first%20slide%20with%20nothing%20revealed%0A%20%20%2F%2F%20i%2Ee%2E%20state%20at%20start%20of%20presentation%0A%20%20first%5Fslide%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20if%20%28%21w3c%5Fslidy%2Eview%5Fall%29%0A%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20var%20slide%3B%0A%0A%20%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Eslide%5Fnumber%20%21%3D%200%29%0A%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Fslide%28slide%29%3B%0A%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eslide%5Fnumber%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Fvisibility%5Fall%5Fincremental%28%22hidden%22%29%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Feos%5Fstatus%28%0A%20%20%20%20%20%20%20%20%20%21w3c%5Fslidy%2Enext%5Fincremental%5Fitem%28w3c%5Fslidy%2Elast%5Fshown%29%29%3B%0A%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Flocation%28%29%3B%0A%20%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20goto%20last%20slide%20with%20everything%20revealed%0A%20%20%2F%2F%20i%2Ee%2E%20state%20at%20end%20of%20presentation%0A%20%20last%5Fslide%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28%21w3c%5Fslidy%2Eview%5Fall%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20slide%3B%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20null%3B%20%2F%2FrevealNextItem%28lastShown%29%3B%0A%0A%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Elast%5Fshown%20%3D%3D%20null%20%26%26%0A%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eslide%5Fnumber%20%3C%20w3c%5Fslidy%2Eslides%2Elength%20%2D%201%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eslide%5Fnumber%20%3D%20w3c%5Fslidy%2Eslides%2Elength%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Fvisibility%5Fall%5Fincremental%28%22visible%22%29%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20w3c%5Fslidy%2Eprevious%5Fincremental%5Fitem%28null%29%3B%0A%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Fvisibility%5Fall%5Fincremental%28%22visible%22%29%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20w3c%5Fslidy%2Eprevious%5Fincremental%5Fitem%28null%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Feos%5Fstatus%28true%29%3B%0A%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Flocation%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%0A%20%20%2F%2F%20%23%23%23%20check%20this%20and%20consider%20add%2Fremove%20class%0A%20%20set%5Feos%5Fstatus%3A%20function%20%28state%29%20%7B%0A%20%20%20%20if%20%28this%2Eeos%29%0A%20%20%20%20%20%20this%2Eeos%2Estyle%2Ecolor%20%3D%20%28state%20%3F%20%22rgb%28240%2C240%2C240%29%22%20%3A%20%22red%22%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20first%20slide%20is%200%0A%20%20goto%5Fslide%3A%20function%20%28num%29%20%7B%0A%20%20%20%20%2F%2Falert%28%22going%20to%20slide%20%22%20%2B%20%28num%2B1%29%29%3B%0A%20%20%20%20var%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20w3c%5Fslidy%2Ehide%5Fslide%28slide%29%3B%0A%20%20%20%20w3c%5Fslidy%2Eslide%5Fnumber%20%3D%20num%3B%0A%20%20%20%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20w3c%5Fslidy%2Elast%5Fshown%20%3D%20null%3B%0A%20%20%20%20w3c%5Fslidy%2Eset%5Fvisibility%5Fall%5Fincremental%28%22hidden%22%29%3B%0A%20%20%20%20w3c%5Fslidy%2Eset%5Feos%5Fstatus%28%21w3c%5Fslidy%2Enext%5Fincremental%5Fitem%28w3c%5Fslidy%2Elast%5Fshown%29%29%3B%0A%20%20%20%20document%2Etitle%20%3D%20w3c%5Fslidy%2Etitle%20%2B%20%22%20%28%22%20%2B%20%28w3c%5Fslidy%2Eslide%5Fnumber%2B1%29%20%2B%20%22%29%22%3B%0A%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%5Fnumber%28%29%3B%0A%20%20%7D%2C%0A%0A%0A%20%20show%5Fslide%3A%20function%20%28slide%29%20%7B%0A%20%20%20%20this%2Esync%5Fbackground%28slide%29%3B%0A%20%20%20%20this%2Eremove%5Fclass%28slide%2C%20%22hidden%22%29%3B%0A%0A%20%20%20%20%2F%2F%20work%20around%20IE9%20object%20rendering%20bug%0A%20%20%20%20setTimeout%28%22window%2EscrollTo%280%2C0%29%3B%22%2C%201%29%3B%0A%20%20%7D%2C%0A%0A%20%20hide%5Fslide%3A%20function%20%28slide%29%20%7B%0A%20%20%20%20this%2Eadd%5Fclass%28slide%2C%20%22hidden%22%29%3B%0A%20%20%7D%2C%0A%0A%20%20set%5Ffocus%3A%20function%20%28element%29%0A%20%20%7B%0A%20%20%20%20if%20%28element%29%0A%20%20%20%20%20%20element%2Efocus%28%29%3B%0A%20%20%20%20else%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Ehelp%5Fanchor%2Efocus%28%29%3B%0A%0A%20%20%20%20%20%20setTimeout%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ehelp%5Fanchor%2Eblur%28%29%3B%0A%20%20%20%20%20%20%7D%2C%201%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20show%20just%20the%20backgrounds%20pertinent%20to%20this%20slide%0A%20%20%2F%2F%20when%20slide%20background%2Dcolor%20is%20transparent%0A%20%20%2F%2F%20this%20should%20now%20work%20with%20rgba%20color%20values%0A%20%20sync%5Fbackground%3A%20function%20%28slide%29%20%7B%0A%20%20%20%20var%20background%3B%0A%20%20%20%20var%20bgColor%3B%0A%0A%20%20%20%20if%20%28slide%2EcurrentStyle%29%0A%20%20%20%20%20%20bgColor%20%3D%20slide%2EcurrentStyle%5B%22backgroundColor%22%5D%3B%0A%20%20%20%20else%20if%20%28document%2EdefaultView%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20styles%20%3D%20document%2EdefaultView%2EgetComputedStyle%28slide%2Cnull%29%3B%0A%0A%20%20%20%20%20%20if%20%28styles%29%0A%20%20%20%20%20%20%20%20bgColor%20%3D%20styles%2EgetPropertyValue%28%22background%2Dcolor%22%29%3B%0A%20%20%20%20%20%20else%20%2F%2F%20broken%20implementation%20probably%20due%20Safari%20or%20Konqueror%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2Falert%28%22defective%20implementation%20of%20getComputedStyle%28%29%22%29%3B%0A%20%20%20%20%20%20%20%20bgColor%20%3D%20%22transparent%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%0A%20%20%20%20%20%20bgColor%20%3D%3D%20%22transparent%22%3B%0A%0A%20%20%20%20if%20%28bgColor%20%3D%3D%20%22transparent%22%20%7C%7C%0A%20%20%20%20%20%20%20%20bgColor%2EindexOf%28%22rgba%22%29%20%3E%3D%200%20%7C%7C%0A%20%20%20%20%20%20%20%20bgColor%2EindexOf%28%22opacity%22%29%20%3E%3D%200%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20slideClass%20%3D%20this%2Eget%5Fclass%5Flist%28slide%29%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20this%2Ebackgrounds%2Elength%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20background%20%3D%20this%2Ebackgrounds%5Bi%5D%3B%0A%0A%20%20%20%20%20%20%20%20var%20bgClass%20%3D%20this%2Eget%5Fclass%5Flist%28background%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this%2Ematching%5Fbackground%28slideClass%2C%20bgClass%29%29%0A%20%20%20%20%20%20%20%20%20%20this%2Eremove%5Fclass%28background%2C%20%22hidden%22%29%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20this%2Eadd%5Fclass%28background%2C%20%22hidden%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%2F%2F%20forcibly%20hide%20all%20backgrounds%0A%20%20%20%20%20%20this%2Ehide%5Fbackgrounds%28%29%3B%0A%20%20%7D%2C%0A%0A%20%20hide%5Fbackgrounds%3A%20function%20%28%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20this%2Ebackgrounds%2Elength%3B%20i%2B%2B%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20background%20%3D%20this%2Ebackgrounds%5Bi%5D%3B%0A%20%20%20%20%20%20this%2Eadd%5Fclass%28background%2C%20%22hidden%22%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20compare%20classes%20for%20slide%20and%20background%0A%20%20matching%5Fbackground%3A%20function%20%28slideClass%2C%20bgClass%29%20%7B%0A%20%20%20%20var%20i%2C%20count%2C%20pattern%2C%20result%3B%0A%0A%20%20%20%20%2F%2F%20define%20pattern%20as%20regular%20expression%0A%20%20%20%20pattern%20%3D%20%2F%5Cw%2B%2Fg%3B%0A%0A%20%20%20%20%2F%2F%20check%20background%20class%20names%0A%20%20%20%20result%20%3D%20bgClass%2Ematch%28pattern%29%3B%0A%0A%20%20%20%20for%20%28i%20%3D%20count%20%3D%200%3B%20i%20%3C%20result%2Elength%3B%20i%2B%2B%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28result%5Bi%5D%20%3D%3D%20%22hidden%22%29%0A%20%20%20%20%20%20%20%20continue%3B%0A%0A%20%20%20%20%20%20if%20%28result%5Bi%5D%20%3D%3D%20%22background%22%29%0A%09continue%3B%0A%0A%20%20%20%20%20%20%2B%2Bcount%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28count%20%3D%3D%200%29%20%20%2F%2F%20default%20match%0A%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%2F%2F%20check%20for%20matches%20and%20place%20result%20in%20array%0A%20%20%20%20result%20%3D%20slideClass%2Ematch%28pattern%29%3B%0A%0A%20%20%20%20%2F%2F%20now%20check%20if%20desired%20name%20is%20present%20for%20background%0A%20%20%20%20for%20%28i%20%3D%20count%20%3D%200%3B%20i%20%3C%20result%2Elength%3B%20i%2B%2B%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28result%5Bi%5D%20%3D%3D%20%22hidden%22%29%0A%20%20%20%20%20%20%20%20continue%3B%0A%0A%20%20%20%20%20%20if%20%28this%2Ehas%5Ftoken%28bgClass%2C%20result%5Bi%5D%29%29%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20false%3B%0A%20%20%7D%2C%0A%0A%20%20resized%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20var%20width%20%3D%200%3B%0A%0A%20%20%20%20%20if%20%28%20typeof%28%20window%2EinnerWidth%20%29%20%3D%3D%20%27number%27%20%29%0A%20%20%20%20%20%20%20width%20%3D%20window%2EinnerWidth%3B%20%20%2F%2F%20Non%20IE%20browser%0A%20%20%20%20%20else%20if%20%28document%2EdocumentElement%20%26%26%20document%2EdocumentElement%2EclientWidth%29%0A%20%20%20%20%20%20%20width%20%3D%20document%2EdocumentElement%2EclientWidth%3B%20%20%2F%2F%20IE6%0A%20%20%20%20%20else%20if%20%28document%2Ebody%20%26%26%20document%2Ebody%2EclientWidth%29%0A%20%20%20%20%20%20%20width%20%3D%20document%2Ebody%2EclientWidth%3B%20%2F%2F%20IE4%0A%0A%20%20%20%20%20var%20height%20%3D%200%3B%0A%0A%20%20%20%20%20if%20%28%20typeof%28%20window%2EinnerHeight%20%29%20%3D%3D%20%27number%27%20%29%0A%20%20%20%20%20%20%20height%20%3D%20window%2EinnerHeight%3B%20%20%2F%2F%20Non%20IE%20browser%0A%20%20%20%20%20else%20if%20%28document%2EdocumentElement%20%26%26%20document%2EdocumentElement%2EclientHeight%29%0A%20%20%20%20%20%20%20height%20%3D%20document%2EdocumentElement%2EclientHeight%3B%20%20%2F%2F%20IE6%0A%20%20%20%20%20else%20if%20%28document%2Ebody%20%26%26%20document%2Ebody%2EclientHeight%29%0A%20%20%20%20%20%20%20height%20%3D%20document%2Ebody%2EclientHeight%3B%20%2F%2F%20IE4%0A%0A%20%20%20%20%20if%20%28height%20%26%26%20%28width%2Fheight%20%3E%201%2E05%2A1024%2F768%29%29%0A%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20width%20%3D%20height%20%2A%201024%2E0%2F768%3B%0A%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%2F%2F%20IE%20fires%20onresize%20even%20when%20only%20font%20size%20is%20changed%21%0A%20%20%20%20%20%2F%2F%20so%20we%20do%20a%20check%20to%20avoid%20blocking%20%3C%20and%20%3E%20actions%0A%20%20%20%20%20if%20%28width%20%21%3D%20w3c%5Fslidy%2Elast%5Fwidth%20%7C%7C%20height%20%21%3D%20w3c%5Fslidy%2Elast%5Fheight%29%0A%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20if%20%28width%20%3E%3D%201100%29%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Esize%5Findex%20%3D%205%3B%20%20%20%20%2F%2F%204%0A%20%20%20%20%20%20%20else%20if%20%28width%20%3E%3D%201000%29%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Esize%5Findex%20%3D%204%3B%20%20%20%20%2F%2F%203%0A%20%20%20%20%20%20%20else%20if%20%28width%20%3E%3D%20800%29%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Esize%5Findex%20%3D%203%3B%20%20%20%20%2F%2F%202%0A%20%20%20%20%20%20%20else%20if%20%28width%20%3E%3D%20600%29%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Esize%5Findex%20%3D%202%3B%20%20%20%20%2F%2F%201%0A%20%20%20%20%20%20%20else%20if%20%28width%29%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Esize%5Findex%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%2F%2F%20add%20in%20font%20size%20adjustment%20from%20meta%20element%20e%2Eg%2E%0A%20%20%20%20%20%20%20%2F%2F%20%3Cmeta%20name%3D%22font%2Dsize%2Dadjustment%22%20content%3D%22%2D2%22%20%2F%3E%0A%20%20%20%20%20%20%20%2F%2F%20useful%20when%20slides%20have%20too%20much%20content%20%3B%2D%29%0A%0A%20%20%20%20%20%20%20if%20%280%20%3C%3D%20w3c%5Fslidy%2Esize%5Findex%20%2B%20w3c%5Fslidy%2Esize%5Fadjustment%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Esize%5Findex%20%2B%20w3c%5Fslidy%2Esize%5Fadjustment%20%3C%20w3c%5Fslidy%2Esizes%2Elength%29%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Esize%5Findex%20%3D%20w3c%5Fslidy%2Esize%5Findex%20%2B%20w3c%5Fslidy%2Esize%5Fadjustment%3B%0A%0A%20%20%20%20%20%20%20%2F%2F%20enables%20cross%20browser%20use%20of%20relative%20width%2Fheight%0A%20%20%20%20%20%20%20%2F%2F%20on%20object%20elements%20for%20use%20with%20SVG%20and%20Flash%20media%0A%20%20%20%20%20%20%20w3c%5Fslidy%2Eadjust%5Fobject%5Fdimensions%28width%2C%20height%29%3B%0A%0A%20%20%20%20%20%20%20if%20%28document%2Ebody%2Estyle%2EfontSize%20%21%3D%20w3c%5Fslidy%2Esizes%5Bw3c%5Fslidy%2Esize%5Findex%5D%29%0A%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20document%2Ebody%2Estyle%2EfontSize%20%3D%20w3c%5Fslidy%2Esizes%5Bw3c%5Fslidy%2Esize%5Findex%5D%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fwidth%20%3D%20width%3B%0A%20%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fheight%20%3D%20height%3B%0A%0A%20%20%20%20%20%20%20%2F%2F%20force%20reflow%20to%20work%20around%20Mozilla%20bug%0A%20%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Ens%5Fpos%29%0A%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20var%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%2F%2F%20force%20correct%20positioning%20of%20toolbar%0A%20%20%20%20%20%20%20w3c%5Fslidy%2Erefresh%5Ftoolbar%28200%29%3B%0A%20%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20scrolled%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28w3c%5Fslidy%2Etoolbar%20%26%26%20%21w3c%5Fslidy%2Ens%5Fpos%20%26%26%20%21w3c%5Fslidy%2Eie7%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Ehack%5Foffset%20%3D%20w3c%5Fslidy%2Escroll%5Fx%5Foffset%28%29%3B%0A%20%20%20%20%20%20%2F%2F%20hide%20toolbar%0A%20%20%20%20%20%20w3c%5Fslidy%2Etoolbar%2Estyle%2Edisplay%20%3D%20%22none%22%3B%0A%0A%20%20%20%20%20%20%2F%2F%20make%20it%20reappear%20later%0A%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Escrollhack%20%3D%3D%200%20%26%26%20%21w3c%5Fslidy%2Eview%5Fall%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20setTimeout%28function%20%28%29%20%7Bw3c%5Fslidy%2Eshow%5Ftoolbar%28%29%3B%20%7D%2C%201000%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Escrollhack%20%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20hide%5Ftoolbar%3A%20function%20%28%29%20%7B%0A%20%20%20%20w3c%5Fslidy%2Eadd%5Fclass%28w3c%5Fslidy%2Etoolbar%2C%20%22hidden%22%29%3B%0A%20%20%20%20window%2Efocus%28%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20used%20to%20ensure%20IE%20refreshes%20toolbar%20in%20correct%20position%0A%20%20refresh%5Ftoolbar%3A%20function%20%28interval%29%20%7B%0A%20%20%20%20if%20%28%21w3c%5Fslidy%2Ens%5Fpos%20%26%26%20%21w3c%5Fslidy%2Eie7%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Ftoolbar%28%29%3B%0A%20%20%20%20%20%20setTimeout%28function%20%28%29%20%7Bw3c%5Fslidy%2Eshow%5Ftoolbar%28%29%3B%7D%2C%20interval%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20restores%20toolbar%20after%20short%20delay%0A%20%20show%5Ftoolbar%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28w3c%5Fslidy%2Ewant%5Ftoolbar%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Etoolbar%2Estyle%2Edisplay%20%3D%20%22block%22%3B%0A%0A%20%20%20%20%20%20if%20%28%21w3c%5Fslidy%2Ens%5Fpos%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20adjust%20position%20to%20allow%20for%20scrolling%0A%20%20%20%20%20%20%20%20var%20xoffset%20%3D%20w3c%5Fslidy%2Escroll%5Fx%5Foffset%28%29%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Etoolbar%2Estyle%2Eleft%20%3D%20xoffset%3B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Etoolbar%2Estyle%2Eright%20%3D%20xoffset%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20determine%20vertical%20scroll%20offset%0A%20%20%20%20%20%20%20%20%2F%2Fvar%20yoffset%20%3D%20scrollYOffset%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20bottom%20is%20doc%20height%20%2D%20window%20height%20%2D%20scroll%20offset%0A%20%20%20%20%20%20%20%20%2F%2Fvar%20bottom%20%3D%20documentHeight%28%29%20%2D%20lastHeight%20%2D%20yoffset%0A%0A%20%20%20%20%20%20%20%20%2F%2Fif%20%28yoffset%20%3E%200%20%7C%7C%20documentHeight%28%29%20%3E%20lastHeight%29%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20bottom%20%2B%3D%2016%3B%20%20%2F%2F%20allow%20for%20height%20of%20scrollbar%0A%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Etoolbar%2Estyle%2Ebottom%20%3D%200%3B%20%2F%2Fbottom%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Eremove%5Fclass%28w3c%5Fslidy%2Etoolbar%2C%20%22hidden%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20w3c%5Fslidy%2Escrollhack%20%3D%200%3B%0A%0A%0A%20%20%20%20%2F%2F%20set%20the%20keyboard%20focus%20to%20the%20help%20link%20on%20the%0A%20%20%20%20%2F%2F%20toolbar%20to%20ensure%20that%20document%20has%20the%20focus%0A%20%20%20%20%2F%2F%20IE%20doesn%27t%20always%20work%20with%20window%2Efocus%28%29%0A%20%20%20%20%2F%2F%20and%20this%20hack%20has%20benefit%20of%20Enter%20for%20help%0A%0A%20%20%20%20try%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28%21w3c%5Fslidy%2Eopera%29%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eset%5Ffocus%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20catch%20%28e%29%0A%20%20%20%20%7B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%2F%2F%20invoked%20via%20F%20key%0A%20%20toggle%5Ftoolbar%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28%21w3c%5Fslidy%2Eview%5Fall%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Ehas%5Fclass%28w3c%5Fslidy%2Etoolbar%2C%20%22hidden%22%29%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eremove%5Fclass%28w3c%5Fslidy%2Etoolbar%2C%20%22hidden%22%29%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ewant%5Ftoolbar%20%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eadd%5Fclass%28w3c%5Fslidy%2Etoolbar%2C%20%22hidden%22%29%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ewant%5Ftoolbar%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20scroll%5Fx%5Foffset%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28window%2EpageXOffset%29%0A%20%20%20%20%20%20return%20self%2EpageXOffset%3B%0A%0A%20%20%20%20if%20%28document%2EdocumentElement%20%26%26%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20document%2EdocumentElement%2EscrollLeft%29%0A%20%20%20%20%20%20return%20document%2EdocumentElement%2EscrollLeft%3B%0A%0A%20%20%20%20if%20%28document%2Ebody%29%0A%20%20%20%20%20%20return%20document%2Ebody%2EscrollLeft%3B%0A%0A%20%20%20%20return%200%3B%0A%20%20%7D%2C%0A%0A%20%20scroll%5Fy%5Foffset%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28window%2EpageYOffset%29%0A%20%20%20%20%20%20return%20self%2EpageYOffset%3B%0A%0A%20%20%20%20if%20%28document%2EdocumentElement%20%26%26%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20document%2EdocumentElement%2EscrollTop%29%0A%20%20%20%20%20%20return%20document%2EdocumentElement%2EscrollTop%3B%0A%0A%20%20%20%20if%20%28document%2Ebody%29%0A%20%20%20%20%20%20return%20document%2Ebody%2EscrollTop%3B%0A%0A%20%20%20%20return%200%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20looking%20for%20a%20way%20to%20determine%20height%20of%20slide%20content%0A%20%20%2F%2F%20the%20slide%20itself%20is%20set%20to%20the%20height%20of%20the%20window%0A%20%20optimize%5Ffont%5Fsize%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%0A%20%20%20%20%2F%2Fvar%20dh%20%3D%20documentHeight%28%29%3B%20%2F%2FgetDocHeight%28document%29%3B%0A%20%20%20%20var%20dh%20%3D%20slide%2EscrollHeight%3B%0A%20%20%20%20var%20wh%20%3D%20getWindowHeight%28%29%3B%0A%20%20%20%20var%20u%20%3D%20100%20%2A%20dh%20%2F%20wh%3B%0A%0A%20%20%20%20alert%28%22window%20utilization%20%3D%20%22%20%2B%20u%20%2B%20%22%25%20%28doc%20%22%0A%20%20%20%20%20%20%2B%20dh%20%2B%20%22%20win%20%22%20%2B%20wh%20%2B%20%22%29%22%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20from%20document%20object%0A%20%20get%5Fdoc%5Fheight%3A%20function%20%28doc%29%20%7B%0A%20%20%20%20if%20%28%21doc%29%0A%20%20%20%20%20%20doc%20%3D%20document%3B%0A%0A%20%20%20%20if%20%28doc%20%26%26%20doc%2Ebody%20%26%26%20doc%2Ebody%2EoffsetHeight%29%0A%20%20%20%20%20%20return%20doc%2Ebody%2EoffsetHeight%3B%20%20%2F%2F%20ns%2Fgecko%20syntax%0A%0A%20%20%20%20if%20%28doc%20%26%26%20doc%2Ebody%20%26%26%20doc%2Ebody%2EscrollHeight%29%0A%20%20%20%20%20%20return%20doc%2Ebody%2EscrollHeight%3B%0A%0A%20%20%20%20alert%28%22couldn%27t%20determine%20document%20height%22%29%3B%0A%20%20%7D%2C%0A%0A%20%20get%5Fwindow%5Fheight%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28%20typeof%28%20window%2EinnerHeight%20%29%20%3D%3D%20%27number%27%20%29%0A%20%20%20%20%20%20return%20window%2EinnerHeight%3B%20%20%2F%2F%20Non%20IE%20browser%0A%0A%20%20%20%20if%20%28document%2EdocumentElement%20%26%26%20document%2EdocumentElement%2EclientHeight%29%0A%20%20%20%20%20%20return%20document%2EdocumentElement%2EclientHeight%3B%20%20%2F%2F%20IE6%0A%0A%20%20%20%20if%20%28document%2Ebody%20%26%26%20document%2Ebody%2EclientHeight%29%0A%20%20%20%20%20%20return%20document%2Ebody%2EclientHeight%3B%20%2F%2F%20IE4%0A%20%20%7D%2C%0A%0A%20%20document%5Fheight%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20sh%2C%20oh%3B%0A%0A%20%20%20%20sh%20%3D%20document%2Ebody%2EscrollHeight%3B%0A%20%20%20%20oh%20%3D%20document%2Ebody%2EoffsetHeight%3B%0A%0A%20%20%20%20if%20%28sh%20%26%26%20oh%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20return%20%28sh%20%3E%20oh%20%3F%20sh%20%3A%20oh%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20no%20idea%21%0A%20%20%20%20return%200%3B%0A%20%20%7D%2C%0A%0A%20%20smaller%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28w3c%5Fslidy%2Esize%5Findex%20%3E%200%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%2D%2Dw3c%5Fslidy%2Esize%5Findex%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20w3c%5Fslidy%2Etoolbar%2Estyle%2Edisplay%20%3D%20%22none%22%3B%0A%20%20%20%20document%2Ebody%2Estyle%2EfontSize%20%3D%20w3c%5Fslidy%2Esizes%5Bw3c%5Fslidy%2Esize%5Findex%5D%3B%0A%20%20%20%20var%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20w3c%5Fslidy%2Ehide%5Fslide%28slide%29%3B%0A%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20setTimeout%28function%20%28%29%20%7Bw3c%5Fslidy%2Eshow%5Ftoolbar%28%29%3B%20%7D%2C%2050%29%3B%0A%20%20%7D%2C%0A%0A%20%20bigger%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28w3c%5Fslidy%2Esize%5Findex%20%3C%20w3c%5Fslidy%2Esizes%2Elength%20%2D%201%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%2B%2Bw3c%5Fslidy%2Esize%5Findex%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20w3c%5Fslidy%2Etoolbar%2Estyle%2Edisplay%20%3D%20%22none%22%3B%0A%20%20%20%20document%2Ebody%2Estyle%2EfontSize%20%3D%20w3c%5Fslidy%2Esizes%5Bw3c%5Fslidy%2Esize%5Findex%5D%3B%0A%20%20%20%20var%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%20%20%20%20w3c%5Fslidy%2Ehide%5Fslide%28slide%29%3B%0A%20%20%20%20w3c%5Fslidy%2Eshow%5Fslide%28slide%29%3B%0A%20%20%20%20setTimeout%28function%20%28%29%20%7Bw3c%5Fslidy%2Eshow%5Ftoolbar%28%29%3B%20%7D%2C%2050%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20enables%20cross%20browser%20use%20of%20relative%20width%2Fheight%0A%20%20%2F%2F%20on%20object%20elements%20for%20use%20with%20SVG%20and%20Flash%20media%0A%20%20%2F%2F%20with%20thanks%20to%20Ivan%20Herman%20for%20the%20suggestion%0A%20%20adjust%5Fobject%5Fdimensions%3A%20function%20%28width%2C%20height%29%20%7B%0A%20%20%20%20for%28%20var%20i%20%3D%200%3B%20i%20%3C%20w3c%5Fslidy%2Eobjects%2Elength%3B%20i%2B%2B%20%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20obj%20%3D%20this%2Eobjects%5Bi%5D%3B%0A%20%20%20%20%20%20var%20mimeType%20%3D%20obj%2EgetAttribute%28%22type%22%29%3B%0A%0A%20%20%20%20%20%20if%20%28mimeType%20%3D%3D%20%22image%2Fsvg%2Bxml%22%20%7C%7C%20mimeType%20%3D%3D%20%22application%2Fx%2Dshockwave%2Dflash%22%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%20%21obj%2EinitialWidth%20%29%20%0A%20%20%20%20%20%20%20%20%20%20obj%2EinitialWidth%20%3D%20obj%2EgetAttribute%28%22width%22%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28%20%21obj%2EinitialHeight%20%29%20%0A%20%20%20%20%20%20%20%20%20%20obj%2EinitialHeight%20%3D%20obj%2EgetAttribute%28%22height%22%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28%20obj%2EinitialWidth%20%26%26%20obj%2EinitialWidth%2EcharAt%28obj%2EinitialWidth%2Elength%2D1%29%20%3D%3D%20%22%25%22%20%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20w%20%3D%20parseInt%28obj%2EinitialWidth%2Eslice%280%2C%20obj%2EinitialWidth%2Elength%2D1%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20var%20newW%20%3D%20width%20%2A%20%28w%2F100%2E0%29%3B%0A%20%20%20%20%20%20%20%20%20%20obj%2EsetAttribute%28%22width%22%2CnewW%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28%20obj%2EinitialHeight%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20obj%2EinitialHeight%2EcharAt%28obj%2EinitialHeight%2Elength%2D1%29%20%3D%3D%20%22%25%22%20%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20h%20%3D%20parseInt%28obj%2EinitialHeight%2Eslice%280%2C%20obj%2EinitialHeight%2Elength%2D1%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20var%20newH%20%3D%20height%20%2A%20%28h%2F100%2E0%29%3B%0A%20%20%20%20%20%20%20%20%20%20obj%2EsetAttribute%28%22height%22%2C%20newH%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20needed%20for%20Opera%20to%20inhibit%20default%20behavior%0A%20%20%2F%2F%20since%20Opera%20delivers%20keyPress%20even%20if%20keyDown%0A%20%20%2F%2F%20was%20cancelled%0A%20%20key%5Fpress%3A%20function%20%28event%29%20%7B%0A%20%20%20%20if%20%28%21event%29%0A%20%20%20%20%20%20event%20%3D%20window%2Eevent%3B%0A%0A%20%20%20%20if%20%28%21w3c%5Fslidy%2Ekey%5Fwanted%29%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%0A%20%20%20%20return%20true%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20%20See%20e%2Eg%2E%20http%3A%2F%2Fwww%2Equirksmode%2Eorg%2Fjs%2Fevents%2Fkeys%2Ehtml%20for%20keycodes%0A%20%20key%5Fdown%3A%20function%20%28event%29%20%7B%0A%20%20%20%20var%20key%2C%20target%2C%20tag%3B%0A%0A%20%20%20%20w3c%5Fslidy%2Ekey%5Fwanted%20%3D%20true%3B%0A%0A%20%20%20%20if%20%28%21event%29%0A%20%20%20%20%20%20event%20%3D%20window%2Eevent%3B%0A%0A%20%20%20%20%2F%2F%20kludge%20around%20NS%2FIE%20differences%20%0A%20%20%20%20if%20%28window%2Eevent%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20key%20%3D%20window%2Eevent%2EkeyCode%3B%0A%20%20%20%20%20%20target%20%3D%20window%2Eevent%2EsrcElement%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28event%2Ewhich%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20key%20%3D%20event%2Ewhich%3B%0A%20%20%20%20%20%20target%20%3D%20event%2Etarget%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%0A%20%20%20%20%20%20return%20true%3B%20%2F%2F%20Yikes%21%20unknown%20browser%0A%0A%20%20%20%20%2F%2F%20ignore%20event%20if%20key%20value%20is%20zero%0A%20%20%20%20%2F%2F%20as%20for%20alt%20on%20Opera%20and%20Konqueror%0A%20%20%20%20if%20%28%21key%29%0A%20%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%2F%2F%20avoid%20interfering%20with%20keystroke%0A%20%20%20%20%2F%2F%20behavior%20for%20non%2Dslidy%20chrome%20elements%0A%20%20%20%20if%20%28%21w3c%5Fslidy%2Eslidy%5Fchrome%28target%29%20%26%26%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Especial%5Felement%28target%29%29%0A%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%2F%2F%20check%20for%20concurrent%20control%2Fcommand%2Falt%20key%0A%20%20%20%20%2F%2F%20but%20are%20these%20only%20present%20on%20mouse%20events%3F%0A%0A%20%20%20%20if%20%28event%2EctrlKey%20%7C%7C%20event%2EaltKey%20%7C%7C%20event%2EmetaKey%29%0A%20%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%2F%2F%20dismiss%20table%20of%20contents%20if%20visible%0A%20%20%20%20if%20%28w3c%5Fslidy%2Eis%5Fshown%5Ftoc%28%29%20%26%26%20key%20%21%3D%209%20%26%26%20key%20%21%3D%2016%20%26%26%20key%20%21%3D%2038%20%26%26%20key%20%21%3D%2040%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Ehide%5Ftable%5Fof%5Fcontents%28true%29%3B%0A%0A%20%20%20%20%20%20if%20%28key%20%3D%3D%2027%20%7C%7C%20key%20%3D%3D%2084%20%7C%7C%20key%20%3D%3D%2067%29%0A%20%20%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28key%20%3D%3D%2034%29%20%2F%2F%20Page%20Down%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Eview%5Fall%29%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Enext%5Fslide%28false%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2033%29%20%2F%2F%20Page%20Up%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Eview%5Fall%29%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%20%20w3c%5Fslidy%2Eprevious%5Fslide%28false%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2032%29%20%2F%2F%20space%20bar%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Enext%5Fslide%28true%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2037%29%20%2F%2F%20Left%20arrow%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Eprevious%5Fslide%28%21event%2EshiftKey%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2036%29%20%2F%2F%20Home%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Efirst%5Fslide%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2035%29%20%2F%2F%20End%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fslide%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2039%29%20%2F%2F%20Right%20arrow%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Enext%5Fslide%28%21event%2EshiftKey%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2013%29%20%2F%2F%20Enter%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Eoutline%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Eoutline%2Evisible%29%0A%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Efold%28w3c%5Fslidy%2Eoutline%29%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eunfold%28w3c%5Fslidy%2Eoutline%29%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%20188%29%20%20%2F%2F%20%3C%20for%20smaller%20fonts%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Esmaller%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%20190%29%20%20%2F%2F%20%3E%20for%20larger%20fonts%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Ebigger%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%20189%20%7C%7C%20key%20%3D%3D%20109%29%20%20%2F%2F%20%2D%20for%20smaller%20fonts%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Esmaller%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%20187%20%7C%7C%20key%20%3D%3D%20191%20%7C%7C%20key%20%3D%3D%20107%29%20%20%2F%2F%20%3D%20%2B%20%20for%20larger%20fonts%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Ebigger%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2083%29%20%20%2F%2F%20S%20for%20smaller%20fonts%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Esmaller%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2066%29%20%20%2F%2F%20B%20for%20larger%20fonts%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Ebigger%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2090%29%20%20%2F%2F%20Z%20for%20last%20slide%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Elast%5Fslide%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2070%29%20%20%2F%2F%20F%20for%20toggle%20toolbar%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Etoggle%5Ftoolbar%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2065%29%20%20%2F%2F%20A%20for%20toggle%20view%20single%2Fall%20slides%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Etoggle%5Fview%28%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2075%29%20%20%2F%2F%20toggle%20action%20of%20left%20click%20for%20next%20page%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Emouse%5Fclick%5Fenabled%20%3D%20%21w3c%5Fslidy%2Emouse%5Fclick%5Fenabled%3B%0A%20%20%20%20%20%20var%20alert%5Fmsg%20%3D%20%28w3c%5Fslidy%2Emouse%5Fclick%5Fenabled%20%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%20%3A%20%22disabled%22%29%20%2B%20%20%22%20mouse%20click%20advance%22%3B%0A%0A%20%20%20%20%20%20alert%28w3c%5Fslidy%2Elocalize%28alert%5Fmsg%29%29%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2084%20%7C%7C%20key%20%3D%3D%2067%29%20%20%2F%2F%20T%20or%20C%20for%20table%20of%20contents%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Etoc%29%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Etoggle%5Ftable%5Fof%5Fcontents%28%29%3B%0A%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28key%20%3D%3D%2072%29%20%2F%2F%20H%20for%20help%0A%20%20%20%20%7B%0A%20%20%20%20%20%20window%2Elocation%20%3D%20w3c%5Fslidy%2Ehelp%5Fpage%3B%0A%20%20%20%20%20%20return%20w3c%5Fslidy%2Ecancel%28event%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2Felse%20alert%28%22key%20code%20is%20%22%2B%20key%29%3B%0A%0A%20%20%20%20return%20true%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20safe%20for%20both%20text%2Fhtml%20and%20application%2Fxhtml%2Bxml%0A%20%20create%5Felement%3A%20function%20%28name%29%20%7B%0A%20%20%20%20if%20%28this%2Exhtml%20%26%26%20%28typeof%20document%2EcreateElementNS%20%21%3D%20%27undefined%27%29%29%0A%20%20%20%20%20%20return%20document%2EcreateElementNS%28%22http%3A%2F%2Fwww%2Ew3%2Eorg%2F1999%2Fxhtml%22%2C%20name%29%0A%0A%20%20%20%20return%20document%2EcreateElement%28name%29%3B%0A%20%20%7D%2C%0A%0A%20%20get%5Felement%5Fstyle%3A%20function%20%28elem%2C%20IEStyleProp%2C%20CSSStyleProp%29%20%7B%0A%20%20%20%20if%20%28elem%2EcurrentStyle%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20return%20elem%2EcurrentStyle%5BIEStyleProp%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28window%2EgetComputedStyle%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20compStyle%20%3D%20window%2EgetComputedStyle%28elem%2C%20%22%22%29%3B%0A%20%20%20%20%20%20return%20compStyle%2EgetPropertyValue%28CSSStyleProp%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20%22%22%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20the%20string%20str%20is%20a%20whitespace%20separated%20list%20of%20tokens%0A%20%20%2F%2F%20test%20if%20str%20contains%20a%20particular%20token%2C%20e%2Eg%2E%20%22slide%22%0A%20%20has%5Ftoken%3A%20function%20%28str%2C%20token%29%20%7B%0A%20%20%20%20if%20%28str%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%2F%2F%20define%20pattern%20as%20regular%20expression%0A%20%20%20%20%20%20var%20pattern%20%3D%20%2F%5Cw%2B%2Fg%3B%0A%0A%20%20%20%20%20%20%2F%2F%20check%20for%20matches%0A%20%20%20%20%20%20%2F%2F%20place%20result%20in%20array%0A%20%20%20%20%20%20var%20result%20%3D%20str%2Ematch%28pattern%29%3B%0A%0A%20%20%20%20%20%20%2F%2F%20now%20check%20if%20desired%20token%20is%20present%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20result%2Elength%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28result%5Bi%5D%20%3D%3D%20token%29%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20false%3B%0A%20%20%7D%2C%0A%0A%20%20get%5Fclass%5Flist%3A%20function%20%28element%29%20%7B%0A%20%20%20%20if%20%28typeof%20element%2EclassName%20%21%3D%20%27undefined%27%29%0A%20%20%20%20%20%20return%20element%2EclassName%3B%0A%0A%20%20%20%20return%20element%2EgetAttribute%28%22class%22%29%3B%0A%20%20%7D%2C%0A%0A%20%20has%5Fclass%3A%20function%20%28element%2C%20name%29%20%7B%0A%20%20%20%20if%20%28element%2EnodeType%20%21%3D%201%29%0A%20%20%20%20%20%20return%20false%3B%0A%0A%20%20%20%20var%20regexp%20%3D%20new%20RegExp%28%22%28%5E%7C%20%29%22%20%2B%20name%20%2B%20%22%5CW%2A%22%29%3B%0A%0A%20%20%20%20if%20%28typeof%20element%2EclassName%20%21%3D%20%27undefined%27%29%0A%20%20%20%20%20%20return%20regexp%2Etest%28element%2EclassName%29%3B%0A%0A%20%20%20%20return%20regexp%2Etest%28element%2EgetAttribute%28%22class%22%29%29%3B%0A%20%20%7D%2C%0A%0A%20%20remove%5Fclass%3A%20function%20%28element%2C%20name%29%20%7B%0A%20%20%20%20var%20regexp%20%3D%20new%20RegExp%28%22%28%5E%7C%20%29%22%20%2B%20name%20%2B%20%22%5CW%2A%22%29%3B%0A%20%20%20%20var%20clsval%20%3D%20%22%22%3B%0A%0A%20%20%20%20if%20%28typeof%20element%2EclassName%20%21%3D%20%27undefined%27%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20clsval%20%3D%20element%2EclassName%3B%0A%0A%20%20%20%20%20%20if%20%28clsval%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20clsval%20%3D%20clsval%2Ereplace%28regexp%2C%20%22%22%29%3B%0A%20%20%20%20%20%20%20%20element%2EclassName%20%3D%20clsval%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%0A%20%20%20%20%7B%0A%20%20%20%20%20%20clsval%20%3D%20element%2EgetAttribute%28%22class%22%29%3B%0A%0A%20%20%20%20%20%20if%20%28clsval%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20clsval%20%3D%20clsval%2Ereplace%28regexp%2C%20%22%22%29%3B%0A%20%20%20%20%20%20%20%20element%2EsetAttribute%28%22class%22%2C%20clsval%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20add%5Fclass%3A%20function%20%28element%2C%20name%29%20%7B%0A%20%20%20%20if%20%28%21this%2Ehas%5Fclass%28element%2C%20name%29%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20element%2EclassName%20%21%3D%20%27undefined%27%29%0A%20%20%20%20%20%20%20%20element%2EclassName%20%2B%3D%20%22%20%22%20%2B%20name%3B%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20clsval%20%3D%20element%2EgetAttribute%28%22class%22%29%3B%0A%20%20%20%20%20%20%20%20clsval%20%3D%20clsval%20%3F%20clsval%20%2B%20%22%20%22%20%2B%20name%20%3A%20name%3B%0A%20%20%20%20%20%20%20%20element%2EsetAttribute%28%22class%22%2C%20clsval%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20HTML%20elements%20that%20can%20be%20used%20with%20class%3D%22incremental%22%0A%20%20%2F%2F%20note%20that%20you%20can%20also%20put%20the%20class%20on%20containers%20like%0A%20%20%2F%2F%20up%2C%20ol%2C%20dl%2C%20and%20div%20to%20make%20their%20contents%20appear%0A%20%20%2F%2F%20incrementally%2E%20Upper%20case%20is%20used%20since%20this%20is%20what%0A%20%20%2F%2F%20browsers%20report%20for%20HTML%20node%20names%20%28text%2Fhtml%29%2E%0A%20%20incremental%5Felements%3A%20null%2C%0A%20%20okay%5Ffor%5Fincremental%3A%20function%20%28name%29%20%7B%0A%20%20%20%20if%20%28%21this%2Eincremental%5Felements%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20inclist%20%3D%20new%20Array%28%29%3B%0A%20%20%20%20%20%20inclist%5B%22p%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22pre%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22li%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22blockquote%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22dt%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22dd%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22h2%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22h3%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22h4%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22h5%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22h6%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22span%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22address%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22table%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22tr%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22th%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22td%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22img%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20inclist%5B%22object%22%5D%20%3D%20true%3B%0A%20%20%20%20%20%20this%2Eincremental%5Felements%20%3D%20inclist%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20this%2Eincremental%5Felements%5Bname%2EtoLowerCase%28%29%5D%3B%0A%20%20%7D%2C%0A%0A%20%20next%5Fincremental%5Fitem%3A%20function%20%28node%29%20%7B%0A%20%20%20%20var%20br%20%3D%20this%2Eis%5Fxhtml%20%3F%20%22br%22%20%3A%20%22BR%22%3B%0A%20%20%20%20var%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%0A%20%20%20%20for%20%28%3B%3B%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20node%20%3D%20w3c%5Fslidy%2Enext%5Fnode%28slide%2C%20node%29%3B%0A%0A%20%20%20%20%20%20if%20%28node%20%3D%3D%20null%20%7C%7C%20node%2EparentNode%20%3D%3D%20null%29%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20if%20%28node%2EnodeType%20%3D%3D%201%29%20%20%2F%2F%20ELEMENT%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28node%2EnodeName%20%3D%3D%20br%29%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Ehas%5Fclass%28node%2C%20%22incremental%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%26%26%20w3c%5Fslidy%2Eokay%5Ffor%5Fincremental%28node%2EnodeName%29%29%0A%20%20%20%20%20%20%20%20%20%20return%20node%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Ehas%5Fclass%28node%2EparentNode%2C%20%22incremental%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%26%26%20%21w3c%5Fslidy%2Ehas%5Fclass%28node%2C%20%22non%2Dincremental%22%29%29%0A%20%20%20%20%20%20%20%20%20%20return%20node%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20node%3B%0A%20%20%7D%2C%0A%0A%20%20previous%5Fincremental%5Fitem%3A%20function%20%28node%29%20%7B%0A%20%20%20%20var%20br%20%3D%20this%2Eis%5Fxhtml%20%3F%20%22br%22%20%3A%20%22BR%22%3B%0A%20%20%20%20var%20slide%20%3D%20w3c%5Fslidy%2Eslides%5Bw3c%5Fslidy%2Eslide%5Fnumber%5D%3B%0A%0A%20%20%20%20for%20%28%3B%3B%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20node%20%3D%20w3c%5Fslidy%2Eprevious%5Fnode%28slide%2C%20node%29%3B%0A%0A%20%20%20%20%20%20if%20%28node%20%3D%3D%20null%20%7C%7C%20node%2EparentNode%20%3D%3D%20null%29%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20if%20%28node%2EnodeType%20%3D%3D%201%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28node%2EnodeName%20%3D%3D%20br%29%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Ehas%5Fclass%28node%2C%20%22incremental%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%26%26%20w3c%5Fslidy%2Eokay%5Ffor%5Fincremental%28node%2EnodeName%29%29%0A%20%20%20%20%20%20%20%20%20%20return%20node%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28w3c%5Fslidy%2Ehas%5Fclass%28node%2EparentNode%2C%20%22incremental%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%26%26%20%21w3c%5Fslidy%2Ehas%5Fclass%28node%2C%20%22non%2Dincremental%22%29%29%0A%20%20%20%20%20%20%20%20%20%20return%20node%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20node%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20set%20visibility%20for%20all%20elements%20on%20current%20slide%20with%0A%20%20%2F%2F%20a%20parent%20element%20with%20attribute%20class%3D%22incremental%22%0A%20%20set%5Fvisibility%5Fall%5Fincremental%3A%20function%20%28value%29%20%7B%0A%20%20%20%20var%20node%20%3D%20this%2Enext%5Fincremental%5Fitem%28null%29%3B%0A%0A%20%20%20%20if%20%28value%20%3D%3D%20%22hidden%22%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20while%20%28node%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eadd%5Fclass%28node%2C%20%22invisible%22%29%3B%0A%20%20%20%20%20%20%20%20node%20%3D%20w3c%5Fslidy%2Enext%5Fincremental%5Fitem%28node%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%2F%2F%20value%20%3D%3D%20%22visible%22%0A%20%20%20%20%7B%0A%20%20%20%20%20%20while%20%28node%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20w3c%5Fslidy%2Eremove%5Fclass%28node%2C%20%22invisible%22%29%3B%0A%20%20%20%20%20%20%20%20node%20%3D%20w3c%5Fslidy%2Enext%5Fincremental%5Fitem%28node%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20reveal%20the%20next%20hidden%20item%20on%20the%20slide%0A%20%20%2F%2F%20node%20is%20null%20or%20the%20node%20that%20was%20last%20revealed%0A%20%20reveal%5Fnext%5Fitem%3A%20function%20%28node%29%20%7B%0A%20%20%20%20node%20%3D%20w3c%5Fslidy%2Enext%5Fincremental%5Fitem%28node%29%3B%0A%0A%20%20%20%20if%20%28node%20%26%26%20node%2EnodeType%20%3D%3D%201%29%20%20%2F%2F%20an%20element%0A%20%20%20%20%20%20w3c%5Fslidy%2Eremove%5Fclass%28node%2C%20%22invisible%22%29%3B%0A%0A%20%20%20%20return%20node%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20exact%20inverse%20of%20revealNextItem%28node%29%0A%20%20hide%5Fprevious%5Fitem%3A%20function%20%28node%29%20%7B%0A%20%20%20%20if%20%28node%20%26%26%20node%2EnodeType%20%3D%3D%201%29%20%20%2F%2F%20an%20element%0A%20%20%20%20%20%20w3c%5Fslidy%2Eadd%5Fclass%28node%2C%20%22invisible%22%29%3B%0A%0A%20%20%20%20return%20this%2Eprevious%5Fincremental%5Fitem%28node%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20left%20to%20right%20traversal%20of%20root%27s%20content%0A%20%20next%5Fnode%3A%20function%20%28root%2C%20node%29%20%7B%0A%20%20%20%20if%20%28node%20%3D%3D%20null%29%0A%20%20%20%20%20%20return%20root%2EfirstChild%3B%0A%0A%20%20%20%20if%20%28node%2EfirstChild%29%0A%20%20%20%20%20%20return%20node%2EfirstChild%3B%0A%0A%20%20%20%20if%20%28node%2EnextSibling%29%0A%20%20%20%20%20%20return%20node%2EnextSibling%3B%0A%0A%20%20%20%20for%20%28%3B%3B%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20node%20%3D%20node%2EparentNode%3B%0A%0A%20%20%20%20%20%20if%20%28%21node%20%7C%7C%20node%20%3D%3D%20root%29%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20if%20%28node%20%26%26%20node%2EnextSibling%29%0A%20%20%20%20%20%20%20%20return%20node%2EnextSibling%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20null%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20right%20to%20left%20traversal%20of%20root%27s%20content%0A%20%20previous%5Fnode%3A%20function%20%28root%2C%20node%29%20%7B%0A%20%20%20%20if%20%28node%20%3D%3D%20null%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20node%20%3D%20root%2ElastChild%3B%0A%0A%20%20%20%20%20%20if%20%28node%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20while%20%28node%2ElastChild%29%0A%20%20%20%20%20%20%20%20%20%20node%20%3D%20node%2ElastChild%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20node%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28node%2EpreviousSibling%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20node%20%3D%20node%2EpreviousSibling%3B%0A%0A%20%20%20%20%20%20while%20%28node%2ElastChild%29%0A%20%20%20%20%20%20%20%20node%20%3D%20node%2ElastChild%3B%0A%0A%20%20%20%20%20%20return%20node%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28node%2EparentNode%20%21%3D%20root%29%0A%20%20%20%20%20%20return%20node%2EparentNode%3B%0A%0A%20%20%20%20return%20null%3B%0A%20%20%7D%2C%0A%0A%20%20previous%5Fsibling%5Felement%3A%20function%20%28el%29%20%7B%0A%20%20%20%20el%20%3D%20el%2EpreviousSibling%3B%0A%0A%20%20%20%20while%20%28el%20%26%26%20el%2EnodeType%20%21%3D%201%29%0A%20%20%20%20%20%20el%20%3D%20el%2EpreviousSibling%3B%0A%0A%20%20%20%20return%20el%3B%0A%20%20%7D%2C%0A%0A%20%20next%5Fsibling%5Felement%3A%20function%20%28el%29%20%7B%0A%20%20%20%20el%20%3D%20el%2EnextSibling%3B%0A%0A%20%20%20%20while%20%28el%20%26%26%20el%2EnodeType%20%21%3D%201%29%0A%20%20%20%20%20%20el%20%3D%20el%2EnextSibling%3B%0A%0A%20%20%20%20return%20el%3B%0A%20%20%7D%2C%0A%0A%20%20first%5Fchild%5Felement%3A%20function%20%28el%29%20%7B%0A%20%20%20%20var%20node%3B%0A%0A%20%20%20%20for%20%28node%20%3D%20el%2EfirstChild%3B%20node%3B%20node%20%3D%20node%2EnextSibling%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28node%2EnodeType%20%3D%3D%201%29%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20node%3B%0A%20%20%7D%2C%0A%0A%20%20first%5Ftag%3A%20function%20%28element%2C%20tag%29%20%7B%0A%20%20%20%20var%20node%3B%0A%0A%20%20%20%20if%20%28%21this%2Eis%5Fxhtml%29%0A%20%20%20%20%20%20tag%20%3D%20tag%2EtoUpperCase%28%29%3B%0A%0A%20%20%20%20for%20%28node%20%3D%20element%2EfirstChild%3B%20node%3B%20node%20%3D%20node%2EnextSibling%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28node%2EnodeType%20%3D%3D%201%20%26%26%20node%2EnodeName%20%3D%3D%20tag%29%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20node%3B%0A%20%20%7D%2C%0A%0A%20%20hide%5Fselection%3A%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28window%2EgetSelection%29%20%2F%2F%20Firefox%2C%20Chromium%2C%20Safari%2C%20Opera%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20selection%20%3D%20window%2EgetSelection%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28selection%2ErangeCount%20%3E%200%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20range%20%3D%20selection%2EgetRangeAt%280%29%3B%0A%20%20%20%20%20%20%20%20range%2Ecollapse%20%28false%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%2F%2F%20Internet%20Explorer%0A%20%20%20%20%7B%0A%20%20%20%20%20%20var%20textRange%20%3D%20document%2Eselection%2EcreateRange%20%28%29%3B%0A%20%20%20%20%20%20textRange%2Ecollapse%20%28false%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20get%5Fselected%5Ftext%3A%20function%20%28%29%20%7B%0A%20%20%20%20try%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28window%2EgetSelection%29%0A%20%20%20%20%20%20%20%20return%20window%2EgetSelection%28%29%2EtoString%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28document%2EgetSelection%29%0A%20%20%20%20%20%20%20%20return%20document%2EgetSelection%28%29%2EtoString%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28document%2Eselection%29%0A%20%20%20%20%20%20%20%20return%20document%2Eselection%2EcreateRange%28%29%2Etext%3B%0A%20%20%20%20%7D%0A%20%20%20%20catch%20%28e%29%0A%20%20%20%20%7B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%22%22%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20make%20note%20of%20length%20of%20selected%20text%0A%20%20%2F%2F%20as%20this%20evaluates%20to%20zero%20in%20click%20event%0A%20%20mouse%5Fbutton%5Fup%3A%20function%20%28e%29%20%7B%0A%20%20%20%20w3c%5Fslidy%2Eselected%5Ftext%5Flen%20%3D%20w3c%5Fslidy%2Eget%5Fselected%5Ftext%28%29%2Elength%3B%0A%20%20%7D%2C%0A%0A%20%20mouse%5Fbutton%5Fdown%3A%20function%20%28e%29%20%7B%0A%20%20%20%20w3c%5Fslidy%2Eselected%5Ftext%5Flen%20%3D%20w3c%5Fslidy%2Eget%5Fselected%5Ftext%28%29%2Elength%3B%0A%20%20%20%20w3c%5Fslidy%2Emouse%5Fx%20%3D%20e%2EclientX%3B%0A%20%20%20%20w3c%5Fslidy%2Emouse%5Fy%20%3D%20e%2EclientY%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20right%20mouse%20button%20click%20is%20reserved%20for%20context%20menus%0A%20%20%2F%2F%20it%20is%20more%20reliable%20to%20detect%20rightclick%20than%20leftclick%0A%20%20mouse%5Fbutton%5Fclick%3A%20function%20%28e%29%20%7B%0A%20%20%20%20if%20%28%21e%29%0A%20%20%20%20%20%20var%20e%20%3D%20window%2Eevent%3B%0A%0A%20%20%20%20if%20%28Math%2Eabs%28e%2EclientX%20%2Dw3c%5Fslidy%2Emouse%5Fx%29%20%2B%0A%20%20%20%20%20%20%20%20Math%2Eabs%28e%2EclientY%20%2Dw3c%5Fslidy%2Emouse%5Fy%29%20%3E%2010%29%0A%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20if%20%28w3c%5Fslidy%2Eselected%5Ftext%5Flen%20%3E%200%29%0A%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20var%20rightclick%20%3D%20false%3B%0A%20%20%20%20var%20leftclick%20%3D%20false%3B%0A%20%20%20%20var%20middleclick%20%3D%20false%3B%0A%20%20%20%20var%20target%3B%0A%0A%20%20%20%20if%20%28%21e%29%0A%20%20%20%20%20%20var%20e%20%3D%20window%2Eevent%3B%0A%0A%20%20%20%20if%20%28e%2Etarget%29%0A%20%20%20%20%20%20target%20%3D%20e%2Etarget%3B%0A%20%20%20%20else%20if%20%28e%2EsrcElement%29%0A%20%20%20%20%20%20target%20%3D%20e%2EsrcElement%3B%0A%0A%20%20%20%20%2F%2F%20work%20around%20Safari%20bug%0A%20%20%20%20if%20%28target%2EnodeType%20%3D%3D%203%29%0A%20%20%20%20%20%20target%20%3D%20target%2EparentNode%3B%0A%0A%20%20%20%20if%20%28e%2Ewhich%29%20%2F%2F%20all%20browsers%20except%20IE%0A%20%20%20%20%7B%0A%20%20%20%20%20%20leftclick%20%3D%20%28e%2Ewhich%20%3D%3D%201%29%3B%0A%20%20%20%20%20%20middleclick%20%3D%20%28e%2Ewhich%20%3D%3D%202%29%3B%0A%20%20%20%20%20%20rightclick%20%3D%20%28e%2Ewhich%20%3D%3D%203%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28e%2Ebutton%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%2F%2F%20Konqueror%20gives%201%20for%20left%2C%204%20for%20middle%0A%20%20%20%20%20%20%2F%2F%20IE6%20gives%200%20for%20left%20and%20not%201%20as%20I%20expected%0A%0A%20%20%20%20%20%20if%20%28e%2Ebutton%20%3D%3D%204%29%0A%20%20%20%20%20%20%20%20middleclick%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%2F%2F%20all%20browsers%20agree%20on%202%20for%20right%20button%0A%20%20%20%20%20%20rightclick%20%3D%20%28e%2Ebutton%20%3D%3D%202%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%0A%20%20%20%20%20%20leftclick%20%3D%20true%3B%0A%0A%20%20%20%20if%20%28w3c%5Fslidy%2Eselected%5Ftext%5Flen%20%3E%200%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Estop%5Fpropagation%28e%29%3B%0A%20%20%20%20%20%20e%2Ecancel%20%3D%20true%3B%0A%20%20%20%20%20%20e%2EreturnValue%20%3D%20false%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20dismiss%20table%20of%20contents%0A%20%20%20%20w3c%5Fslidy%2Ehide%5Ftable%5Fof%5Fcontents%28false%29%3B%0A%0A%20%20%20%20%2F%2F%20check%20if%20target%20is%20something%20that%20probably%20want%27s%20clicks%0A%20%20%20%20%2F%2F%20e%2Eg%2E%20a%2C%20embed%2C%20object%2C%20input%2C%20textarea%2C%20select%2C%20option%0A%20%20%20%20var%20tag%20%3D%20target%2EnodeName%2EtoLowerCase%28%29%3B%0A%0A%20%20%20%20if%20%28w3c%5Fslidy%2Emouse%5Fclick%5Fenabled%20%26%26%20leftclick%20%26%26%0A%20%20%20%20%20%20%20%20%21w3c%5Fslidy%2Especial%5Felement%28target%29%20%26%26%0A%20%20%20%20%20%20%20%20%21target%2Eonclick%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20w3c%5Fslidy%2Enext%5Fslide%28true%29%3B%0A%20%20%20%20%20%20w3c%5Fslidy%2Estop%5Fpropagation%28e%29%3B%0A%20%20%20%20%20%20e%2Ecancel%20%3D%20true%3B%0A%20%20%20%20%20%20e%2EreturnValue%20%3D%20false%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20true%3B%0A%20%20%7D%2C%0A%0A%20%20special%5Felement%3A%20function%20%28element%29%20%7B%0A%20%20%20%20if%20%28this%2Ehas%5Fclass%28element%2C%20%22non%2Dinteractive%22%29%29%0A%20%20%20%20%20%20return%20false%3B%0A%0A%20%20%20%20var%20tag%20%3D%20element%2EnodeName%2EtoLowerCase%28%29%3B%0A%0A%20%20%20%20return%20element%2Eonkeydown%20%7C%7C%0A%20%20%20%20%20%20element%2Eonclick%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22a%22%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22embed%22%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22object%22%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22video%22%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22audio%22%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22svg%22%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22canvas%22%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22input%22%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22textarea%22%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22select%22%20%7C%7C%0A%20%20%20%20%20%20tag%20%3D%3D%20%22option%22%3B%0A%20%20%7D%2C%0A%0A%20%20slidy%5Fchrome%3A%20function%20%28el%29%20%7B%0A%20%20%20%20while%20%28el%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20if%20%28el%20%3D%3D%20w3c%5Fslidy%2Etoc%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20el%20%3D%3D%20w3c%5Fslidy%2Etoolbar%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20w3c%5Fslidy%2Ehas%5Fclass%28el%2C%20%22outline%22%29%29%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%0A%20%20%20%20%20%20el%20%3D%20el%2EparentNode%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20false%3B%0A%20%20%7D%2C%0A%0A%20%20get%5Fkey%3A%20function%20%28e%29%0A%20%20%7B%0A%20%20%20%20var%20key%3B%0A%0A%20%20%20%20%2F%2F%20kludge%20around%20NS%2FIE%20differences%20%0A%20%20%20%20if%20%28typeof%20window%2Eevent%20%21%3D%20%22undefined%22%29%0A%20%20%20%20%20%20key%20%3D%20window%2Eevent%2EkeyCode%3B%0A%20%20%20%20else%20if%20%28e%2Ewhich%29%0A%20%20%20%20%20%20key%20%3D%20e%2Ewhich%3B%0A%0A%20%20%20%20return%20key%3B%0A%20%20%7D%2C%0A%0A%20%20get%5Ftarget%3A%20function%20%28e%29%20%7B%0A%20%20%20%20var%20target%3B%0A%0A%20%20%20%20if%20%28%21e%29%0A%20%20%20%20%20%20e%20%3D%20window%2Eevent%3B%0A%0A%20%20%20%20if%20%28e%2Etarget%29%0A%20%20%20%20%20%20target%20%3D%20e%2Etarget%3B%0A%20%20%20%20else%20if%20%28e%2EsrcElement%29%0A%20%20%20%20%20%20target%20%3D%20e%2EsrcElement%3B%0A%0A%20%20%20%20if%20%28target%2EnodeType%20%21%3D%201%29%0A%20%20%20%20%20%20target%20%3D%20target%2EparentNode%3B%0A%0A%20%20%20%20return%20target%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20does%20display%20property%20provide%20correct%20defaults%3F%0A%20%20is%5Fblock%3A%20function%20%28elem%29%20%7B%0A%20%20%20%20var%20tag%20%3D%20elem%2EnodeName%2EtoLowerCase%28%29%3B%0A%0A%20%20%20%20return%20tag%20%3D%3D%20%22ol%22%20%7C%7C%20tag%20%3D%3D%20%22ul%22%20%7C%7C%20tag%20%3D%3D%20%22p%22%20%7C%7C%20tag%20%3D%3D%20%22dl%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20tag%20%3D%3D%20%22li%22%20%7C%7C%20tag%20%3D%3D%20%22table%22%20%7C%7C%20tag%20%3D%3D%20%22pre%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20tag%20%3D%3D%20%22h1%22%20%7C%7C%20tag%20%3D%3D%20%22h2%22%20%7C%7C%20tag%20%3D%3D%20%22h3%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20tag%20%3D%3D%20%22h4%22%20%7C%7C%20tag%20%3D%3D%20%22h5%22%20%7C%7C%20tag%20%3D%3D%20%22h6%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20tag%20%3D%3D%20%22blockquote%22%20%7C%7C%20tag%20%3D%3D%20%22address%22%3B%20%0A%20%20%7D%2C%0A%0A%20%20add%5Flistener%3A%20function%20%28element%2C%20event%2C%20handler%29%20%7B%0A%20%20%20%20if%20%28window%2EaddEventListener%29%0A%20%20%20%20%20%20element%2EaddEventListener%28event%2C%20handler%2C%20false%29%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20element%2EattachEvent%28%22on%22%2Bevent%2C%20handler%29%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20used%20to%20prevent%20event%20propagation%20from%20field%20controls%0A%20%20stop%5Fpropagation%3A%20function%20%28event%29%20%7B%0A%20%20%20%20event%20%3D%20event%20%3F%20event%20%3A%20window%2Eevent%3B%0A%20%20%20%20event%2EcancelBubble%20%3D%20true%3B%20%20%2F%2F%20for%20IE%0A%0A%20%20%20%20if%20%28event%2EstopPropagation%29%0A%20%20%20%20%20%20event%2EstopPropagation%28%29%3B%0A%0A%20%20%20%20return%20true%3B%0A%20%20%7D%2C%0A%0A%20%20cancel%3A%20function%20%28event%29%20%7B%0A%20%20%20%20if%20%28event%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20event%2Ecancel%20%3D%20true%3B%0A%20%20%20%20%20%20%20event%2EreturnValue%20%3D%20false%3B%0A%0A%20%20%20%20%20%20if%20%28event%2EpreventDefault%29%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20w3c%5Fslidy%2Ekey%5Fwanted%20%3D%20false%3B%0A%20%20%20%20return%20false%3B%0A%20%20%7D%2C%0A%0A%2F%2F%20for%20each%20language%20define%20an%20associative%20array%0A%2F%2F%20and%20also%20the%20help%20text%20which%20is%20longer%0A%0A%20%20strings%5Fes%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22p%C3%A1g%2E%22%2C%0A%20%20%20%20%22help%3F%22%3A%22Ayuda%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22%C3%8Dndice%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22tabla%20de%20contenidos%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22Tabla%20de%20Contenidos%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22Reiniciar%20presentaci%C3%B3n%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22Inicio%22%0A%20%20%7D%2C%0A%20%20help%5Fes%3A%0A%20%20%20%20%22Utilice%20el%20rat%C3%B3n%2C%20barra%20espaciadora%2C%20teclas%20Izda%2FDcha%2C%20%22%20%2B%0A%20%20%20%20%22o%20Re%20p%C3%A1g%20y%20Av%20p%C3%A1g%2E%20Use%20S%20y%20B%20para%20cambiar%20el%20tama%C3%B1o%20de%20fuente%2E%22%2C%0A%0A%20%20strings%5Fca%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22p%C3%A0g%2E%2E%22%2C%0A%20%20%20%20%22help%3F%22%3A%22Ajuda%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22%C3%8Dndex%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22taula%20de%20continguts%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22Taula%20de%20Continguts%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22Reiniciar%20presentaci%C3%B3%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22Inici%22%0A%20%20%7D%2C%0A%20%20help%5Fca%3A%0A%20%20%20%20%22Utilitzi%20el%20ratol%C3%AD%2C%20barra%20espaiadora%2C%20tecles%20Esq%2E%2FDta%2E%20%22%20%2B%0A%20%20%20%20%22o%20Re%20p%C3%A0g%20y%20Av%20p%C3%A0g%2E%20Usi%20S%20i%20B%20per%20canviar%20grand%C3%A0ria%20de%20font%2E%22%2C%0A%0A%20%20strings%5Fcs%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22sn%C3%ADmek%22%2C%0A%20%20%20%20%22help%3F%22%3A%22n%C3%A1pov%C4%9Bda%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22obsah%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22obsah%20prezentace%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22Obsah%20prezentace%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22znovu%20spustit%20prezentaci%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22restart%22%0A%20%20%7D%2C%0A%20%20help%5Fcs%3A%0A%20%20%20%20%22Prezentaci%20m%C5%AF%C5%BEete%20proch%C3%A1zet%20pomoc%C3%AD%20kliknut%C3%AD%20my%C5%A1i%2C%20mezern%C3%ADku%2C%20%22%20%2B%0A%20%20%20%20%22%C5%A1ipek%20vlevo%20a%20vpravo%20nebo%20kl%C3%A1ves%20PageUp%20a%20PageDown%2E%20P%C3%ADsmo%20se%20%22%20%2B%0A%20%20%20%20%22d%C3%A1%20zv%C4%9Bt%C5%A1it%20a%20zmen%C5%A1it%20pomoc%C3%AD%20kl%C3%A1ves%20B%20a%20S%2E%22%2C%0A%0A%20%20strings%5Fnl%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22pagina%22%2C%0A%20%20%20%20%22help%3F%22%3A%22Help%3F%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22Inhoud%3F%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22inhoudsopgave%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22Inhoudsopgave%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22herstart%20presentatie%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22Herstart%3F%22%0A%20%20%7D%2C%0A%20%20help%5Fnl%3A%0A%20%20%20%20%20%22Navigeer%20d%2Em%2Ev%2E%20het%20muis%2C%20spatiebar%2C%20Links%2FRechts%20toetsen%2C%20%22%20%2B%0A%20%20%20%20%20%22of%20PgUp%20en%20PgDn%2E%20Gebruik%20S%20en%20B%20om%20de%20karaktergrootte%20te%20veranderen%2E%22%2C%0A%0A%20%20strings%5Fde%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22Seite%22%2C%0A%20%20%20%20%22help%3F%22%3A%22Hilfe%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22%C3%9Cbersicht%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22Inhaltsverzeichnis%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22Inhaltsverzeichnis%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22Pr%C3%A4sentation%20neu%20starten%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22Neustart%22%0A%20%20%7D%2C%0A%20%20help%5Fde%3A%0A%20%20%20%20%22Benutzen%20Sie%20die%20Maus%2C%20Leerschlag%2C%20die%20Cursortasten%20links%2Frechts%20oder%20%22%20%2B%0A%20%20%20%20%22Page%20up%2FPage%20Down%20zum%20Wechseln%20der%20Seiten%20und%20S%20und%20B%20f%C3%BCr%20die%20Schriftgr%C3%B6sse%2E%22%2C%0A%0A%20%20strings%5Fpl%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22slajd%22%2C%0A%20%20%20%20%22help%3F%22%3A%22pomoc%3F%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22spis%20tre%C5%9Bci%3F%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22spis%20tre%C5%9Bci%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22Spis%20Tre%C5%9Bci%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22Restartuj%20prezentacj%C4%99%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22restart%3F%22%0A%20%20%7D%2C%0A%20%20help%5Fpl%3A%0A%20%20%20%20%22Zmieniaj%20slajdy%20klikaj%C4%85c%20mysz%C4%85%2C%20naciskaj%C4%85c%20spacj%C4%99%2C%20strza%C5%82ki%20lewo%2Fprawo%22%20%2B%0A%20%20%20%20%22lub%20PgUp%20%2F%20PgDn%2E%20U%C5%BCyj%20klawiszy%20S%20i%20B%2C%20aby%20zmieni%C4%87%20rozmiar%20czczionki%2E%22%2C%0A%0A%20%20strings%5Ffr%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22page%22%2C%0A%20%20%20%20%22help%3F%22%3A%22Aide%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22Index%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22table%20des%20mati%C3%A8res%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22Table%20des%20mati%C3%A8res%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22Recommencer%20l%27expos%C3%A9%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22D%C3%A9but%22%0A%20%20%7D%2C%0A%20%20help%5Ffr%3A%0A%20%20%20%20%22Naviguez%20avec%20la%20souris%2C%20la%20barre%20d%27espace%2C%20les%20fl%C3%A8ches%20%22%20%2B%0A%20%20%20%20%22gauche%2Fdroite%20ou%20les%20touches%20Pg%20Up%2C%20Pg%20Dn%2E%20Utilisez%20%22%20%2B%0A%20%20%20%20%22les%20touches%20S%20et%20B%20pour%20modifier%20la%20taille%20de%20la%20police%2E%22%2C%0A%0A%20%20strings%5Fhu%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22oldal%22%2C%0A%20%20%20%20%22help%3F%22%3A%22seg%C3%ADts%C3%A9g%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22tartalom%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22tartalomjegyz%C3%A9k%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22Tartalomjegyz%C3%A9k%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22bemutat%C3%B3%20%C3%BAjraind%C3%ADt%C3%A1sa%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22%C3%BAjraind%C3%ADt%C3%A1s%22%0A%20%20%7D%2C%0A%20%20help%5Fhu%3A%0A%20%20%20%20%22Az%20oldalak%20k%C3%B6zti%20l%C3%A9pked%C3%A9shez%20kattintson%20az%20eg%C3%A9rrel%2C%20vagy%20%22%20%2B%0A%20%20%20%20%22haszn%C3%A1lja%20a%20sz%C3%B3k%C3%B6z%2C%20a%20bal%2C%20vagy%20a%20jobb%20ny%C3%ADl%2C%20illetve%20a%20Page%20Down%2C%20%22%20%2B%0A%20%20%20%20%22Page%20Up%20billenty%C5%B1ket%2E%20Az%20S%20%C3%A9s%20a%20B%20billenty%C5%B1kkel%20v%C3%A1ltoztathatja%20%22%20%2B%0A%20%20%20%20%22a%20sz%C3%B6veg%20m%C3%A9ret%C3%A9t%2E%22%2C%0A%0A%20%20strings%5Fit%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22pag%2E%22%2C%0A%20%20%20%20%22help%3F%22%3A%22Aiuto%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22Indice%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22indice%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22Indice%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22Ricominciare%20la%20presentazione%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22Inizio%22%0A%20%20%7D%2C%0A%20%20help%5Fit%3A%0A%20%20%20%20%22Navigare%20con%20mouse%2C%20barra%20spazio%2C%20frecce%20sinistra%2Fdestra%20o%20%22%20%2B%0A%20%20%20%20%22PgUp%20e%20PgDn%2E%20Usare%20S%20e%20B%20per%20cambiare%20la%20dimensione%20dei%20caratteri%2E%22%2C%0A%0A%20%20strings%5Fel%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22%CF%83%CE%B5%CE%BB%CE%AF%CE%B4%CE%B1%22%2C%0A%20%20%20%20%22help%3F%22%3A%22%CE%B2%CE%BF%CE%AE%CE%B8%CE%B5%CE%B9%CE%B1%3B%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22%CF%80%CE%B5%CF%81%CE%B9%CE%B5%CF%87%CF%8C%CE%BC%CE%B5%CE%BD%CE%B1%3B%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22%CF%80%CE%AF%CE%BD%CE%B1%CE%BA%CE%B1%CF%82%20%CF%80%CE%B5%CF%81%CE%B9%CE%B5%CF%87%CE%BF%CE%BC%CE%AD%CE%BD%CF%89%CE%BD%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22%CE%A0%CE%AF%CE%BD%CE%B1%CE%BA%CE%B1%CF%82%20%CE%A0%CE%B5%CF%81%CE%B9%CE%B5%CF%87%CE%BF%CE%BC%CE%AD%CE%BD%CF%89%CE%BD%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22%CE%B5%CF%80%CE%B1%CE%BD%CE%B5%CE%BA%CE%BA%CE%AF%CE%BD%CE%B7%CF%83%CE%B7%20%CF%80%CE%B1%CF%81%CE%BF%CF%85%CF%83%CE%AF%CE%B1%CF%83%CE%B7%CF%82%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22%CE%B5%CF%80%CE%B1%CE%BD%CE%B5%CE%BA%CE%BA%CE%AF%CE%BD%CE%B7%CF%83%CE%B7%3B%22%0A%20%20%7D%2C%0A%20%20help%5Fel%3A%0A%20%20%20%20%22%CE%A0%CE%BB%CE%BF%CE%B7%CE%B3%CE%B7%CE%B8%CE%B5%CE%AF%CF%84%CE%B5%20%CE%BC%CE%B5%20%CF%84%CE%BF%20%CE%BA%CE%BB%CE%AF%CE%BA%20%CF%84%CE%BF%CF%85%20%CF%80%CE%BF%CE%BD%CF%84%CE%B9%CE%BA%CE%B9%CE%BF%CF%8D%2C%20%CF%84%CE%BF%20space%2C%20%CF%84%CE%B1%20%CE%B2%CE%AD%CE%BB%CE%B7%20%CE%B1%CF%81%CE%B9%CF%83%CF%84%CE%B5%CF%81%CE%AC%2F%CE%B4%CE%B5%CE%BE%CE%B9%CE%AC%2C%20%22%20%2B%0A%20%20%20%20%22%CE%AE%20Page%20Up%20%CE%BA%CE%B1%CE%B9%20Page%20Down%2E%20%CE%A7%CF%81%CE%B7%CF%83%CE%B9%CE%BC%CE%BF%CF%80%CE%BF%CE%B9%CE%AE%CF%83%CF%84%CE%B5%20%CF%84%CE%B1%20%CF%80%CE%BB%CE%AE%CE%BA%CF%84%CF%81%CE%B1%20S%20%CE%BA%CE%B1%CE%B9%20B%20%CE%B3%CE%B9%CE%B1%20%CE%BD%CE%B1%20%CE%B1%CE%BB%CE%BB%CE%AC%CE%BE%CE%B5%CF%84%CE%B5%20%22%20%2B%0A%20%20%20%20%22%CF%84%CE%BF%20%CE%BC%CE%AD%CE%B3%CE%B5%CE%B8%CE%BF%CF%82%20%CF%84%CE%B7%CF%82%20%CE%B3%CF%81%CE%B1%CE%BC%CE%BC%CE%B1%CF%84%CE%BF%CF%83%CE%B5%CE%B9%CF%81%CE%AC%CF%82%2E%22%2C%0A%0A%20%20strings%5Fja%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22%E3%82%B9%E3%83%A9%E3%82%A4%E3%83%89%22%2C%0A%20%20%20%20%22help%3F%22%3A%22%E3%83%98%E3%83%AB%E3%83%97%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22%E7%9B%AE%E6%AC%A1%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22%E7%9B%AE%E6%AC%A1%E3%82%92%E8%A1%A8%E7%A4%BA%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22%E7%9B%AE%E6%AC%A1%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22%E6%9C%80%E5%88%9D%E3%81%8B%E3%82%89%E5%86%8D%E7%94%9F%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22%E6%9C%80%E5%88%9D%E3%81%8B%E3%82%89%22%0A%20%20%7D%2C%0A%20%20help%5Fja%3A%0A%20%20%20%20%20%22%E3%83%9E%E3%82%A6%E3%82%B9%E5%B7%A6%E3%82%AF%E3%83%AA%E3%83%83%E3%82%AF%20%E3%83%BB%20%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9%20%E3%83%BB%20%E5%B7%A6%E5%8F%B3%E3%82%AD%E3%83%BC%20%22%20%2B%0A%20%20%20%20%20%22%E3%81%BE%E3%81%9F%E3%81%AF%20Page%20Up%20%E3%83%BB%20Page%20Down%E3%81%A7%E6%93%8D%E4%BD%9C%EF%BC%8C%20S%20%E3%83%BB%20B%E3%81%A7%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88%E3%82%B5%E3%82%A4%E3%82%BA%E5%A4%89%E6%9B%B4%22%2C%0A%0A%20%20strings%5Fzh%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22%E5%B9%BB%E7%81%AF%E7%89%87%22%2C%0A%20%20%20%20%22help%3F%22%3A%22%E5%B8%AE%E5%8A%A9%3F%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22%E5%86%85%E5%AE%B9%3F%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22%E7%9B%AE%E5%BD%95%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22%E7%9B%AE%E5%BD%95%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8%E5%B1%95%E7%A4%BA%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8%3F%22%0A%20%20%7D%2C%0A%20%20help%5Fzh%3A%0A%20%20%20%20%22%E7%94%A8%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%2C%20%E7%A9%BA%E6%A0%BC%E6%9D%A1%2C%20%E5%B7%A6%E5%8F%B3%E7%AE%AD%E5%A4%B4%2C%20Pg%20Up%20%E5%92%8C%20Pg%20Dn%20%E5%AF%BC%E8%88%AA%2E%20%22%20%2B%0A%20%20%20%20%22%E7%94%A8%20S%2C%20B%20%E6%94%B9%E5%8F%98%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F%2E%22%2C%0A%0A%20%20strings%5Fru%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22%D1%81%D0%BB%D0%B0%D0%B9%D0%B4%22%2C%0A%20%20%20%20%22help%3F%22%3A%22%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%3F%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22%D1%81%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5%3F%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22%D0%BE%D0%B3%D0%BB%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22%D0%9E%D0%B3%D0%BB%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22%D0%BF%D0%B5%D1%80%D0%B5%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D1%82%D0%B8%D1%82%D1%8C%20%D0%BF%D1%80%D0%B5%D0%B7%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8E%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22%D0%BF%D0%B5%D1%80%D0%B5%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%3F%22%0A%20%20%7D%2C%0A%20%20help%5Fru%3A%0A%20%20%20%20%22%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D1%89%D0%B0%D0%B9%D1%82%D0%B5%D1%81%D1%8C%20%D0%BA%D0%BB%D0%B8%D0%BA%D0%B0%D1%8F%20%D0%BC%D1%8B%D1%88%D0%BA%D0%BE%D0%B9%2C%20%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8F%20%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D1%88%D1%83%20%D0%BF%D1%80%D0%BE%D0%B1%D0%B5%D0%BB%2C%20%D1%81%D1%82%D1%80%D0%B5%D0%BB%D0%BA%D0%B8%22%20%2B%0A%20%20%20%20%22%D0%B2%D0%BB%D0%B5%D0%B2%D0%BE%2F%D0%B2%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%20%D0%B8%D0%BB%D0%B8%20Pg%20Up%20%D0%B8%20Pg%20Dn%2E%20%D0%9A%D0%BB%D0%B0%D0%B2%D0%B8%D1%88%D0%B8%20S%20%D0%B8%20B%20%D0%BC%D0%B5%D0%BD%D1%8F%D1%8E%D1%82%20%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%20%D1%88%D1%80%D0%B8%D1%84%D1%82%D0%B0%2E%22%2C%0A%0A%20%20strings%5Fsv%3A%20%7B%0A%20%20%20%20%22slide%22%3A%22sida%22%2C%0A%20%20%20%20%22help%3F%22%3A%22hj%C3%A4lp%22%2C%0A%20%20%20%20%22contents%3F%22%3A%22inneh%C3%A5ll%22%2C%0A%20%20%20%20%22table%20of%20contents%22%3A%22inneh%C3%A5llsf%C3%B6rteckning%22%2C%0A%20%20%20%20%22Table%20of%20Contents%22%3A%22Inneh%C3%A5llsf%C3%B6rteckning%22%2C%0A%20%20%20%20%22restart%20presentation%22%3A%22visa%20presentationen%20fr%C3%A5n%20b%C3%B6rjan%22%2C%0A%20%20%20%20%22restart%3F%22%3A%22b%C3%B6rja%20om%22%0A%20%20%7D%2C%0A%20%20help%5Fsv%3A%0A%20%20%20%20%22Bl%C3%A4ddra%20med%20ett%20klick%20med%20v%C3%A4nstra%20musknappen%2C%20mellanslagstangenten%2C%20%22%20%2B%0A%20%20%20%20%22v%C3%A4nster%2D%20och%20h%C3%B6gerpiltangenterna%20eller%20tangenterna%20Pg%20Up%2C%20Pg%20Dn%2E%20%22%20%2B%0A%20%20%20%20%22Anv%C3%A4nd%20tangenterna%20S%20och%20B%20f%C3%B6r%20att%20%C3%A4ndra%20textens%20storlek%2E%22%2C%0A%0A%20%20strings%3A%20%7B%20%7D%2C%0A%0A%20%20localize%3A%20function%20%28src%29%20%7B%0A%20%20%20%20if%20%28src%20%3D%3D%20%22%22%29%0A%20%20%20%20%20%20return%20src%3B%0A%0A%20%20%20%20%20%2F%2F%20try%20full%20language%20code%2C%20e%2Eg%2E%20en%2DUS%0A%20%20%20%20%20var%20s%2C%20lookup%20%3D%20w3c%5Fslidy%2Estrings%5Bw3c%5Fslidy%2Elang%5D%3B%0A%0A%20%20%20%20%20if%20%28lookup%29%0A%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20s%20%3D%20lookup%5Bsrc%5D%3B%0A%0A%20%20%20%20%20%20%20if%20%28s%29%0A%20%20%20%20%20%20%20%20return%20s%3B%0A%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%2F%2F%20strip%20country%20code%20suffix%2C%20e%2Eg%2E%0A%20%20%20%20%20%2F%2F%20try%20en%20if%20undefined%20for%20en%2DUS%0A%20%20%20%20%20var%20lg%20%3D%20w3c%5Fslidy%2Elang%2Esplit%28%22%2D%22%29%3B%0A%0A%20%20%20%20%20if%20%28lg%2Elength%20%3E%201%29%0A%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20lookup%20%3D%20w3c%5Fslidy%2Estrings%5Blg%5B0%5D%5D%3B%0A%0A%20%20%20%20%20%20%20if%20%28lookup%29%0A%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20s%20%3D%20lookup%5Bsrc%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20if%20%28s%29%0A%20%20%20%20%20%20%20%20%20%20return%20s%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%2F%2F%20otherwise%20string%20as%20is%0A%20%20%20%20%20return%20src%3B%0A%20%20%7D%2C%0A%0A%20%20init%5Flocalization%3A%20function%20%28%29%20%7B%0A%20%20%20%20var%20i18n%20%3D%20w3c%5Fslidy%3B%0A%20%20%20%20var%20help%5Ftext%20%3D%20w3c%5Fslidy%2Ehelp%5Ftext%3B%0A%0A%20%20%20%20%2F%2F%20each%20such%20language%20array%20is%20declared%20in%20the%20localize%20array%0A%20%20%20%20%2F%2F%20this%20is%20used%20as%20in%20%20w3c%5Fslidy%2Elocalize%28%22foo%22%29%3B%0A%20%20%20%20this%2Estrings%20%3D%20%7B%0A%20%20%20%20%20%20%22es%22%3Athis%2Estrings%5Fes%2C%0A%20%20%20%20%20%20%22ca%22%3Athis%2Estrings%5Fca%2C%0A%20%20%20%20%20%20%22cs%22%3Athis%2Estrings%5Fcs%2C%0A%20%20%20%20%20%20%22nl%22%3Athis%2Estrings%5Fnl%2C%0A%20%20%20%20%20%20%22de%22%3Athis%2Estrings%5Fde%2C%0A%20%20%20%20%20%20%22pl%22%3Athis%2Estrings%5Fpl%2C%0A%20%20%20%20%20%20%22fr%22%3Athis%2Estrings%5Ffr%2C%0A%20%20%20%20%20%20%22hu%22%3Athis%2Estrings%5Fhu%2C%0A%20%20%20%20%20%20%22it%22%3Athis%2Estrings%5Fit%2C%0A%20%20%20%20%20%20%22el%22%3Athis%2Estrings%5Fel%2C%0A%20%20%20%20%20%20%22jp%22%3Athis%2Estrings%5Fja%2C%0A%20%20%20%20%20%20%22zh%22%3Athis%2Estrings%5Fzh%2C%0A%20%20%20%20%20%20%22ru%22%3Athis%2Estrings%5Fru%2C%0A%20%20%20%20%20%20%22sv%22%3Athis%2Estrings%5Fsv%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20i18n%2Estrings%5Fes%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fes%3B%0A%20%20%20%20i18n%2Estrings%5Fca%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fca%3B%0A%20%20%20%20i18n%2Estrings%5Fcs%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fcs%3B%0A%20%20%20%20i18n%2Estrings%5Fnl%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fnl%3B%0A%20%20%20%20i18n%2Estrings%5Fde%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fde%3B%0A%20%20%20%20i18n%2Estrings%5Fpl%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fpl%3B%0A%20%20%20%20i18n%2Estrings%5Ffr%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Ffr%3B%0A%20%20%20%20i18n%2Estrings%5Fhu%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fhu%3B%0A%20%20%20%20i18n%2Estrings%5Fit%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fit%3B%0A%20%20%20%20i18n%2Estrings%5Fel%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fel%3B%0A%20%20%20%20i18n%2Estrings%5Fja%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fja%3B%0A%20%20%20%20i18n%2Estrings%5Fzh%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fzh%3B%0A%20%20%20%20i18n%2Estrings%5Fru%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fru%3B%0A%20%20%20%20i18n%2Estrings%5Fsv%5Bhelp%5Ftext%5D%20%3D%20i18n%2Ehelp%5Fsv%3B%0A%0A%20%20%20%20w3c%5Fslidy%2Elang%20%3D%20document%2Ebody%2EparentNode%2EgetAttribute%28%22lang%22%29%3B%0A%0A%20%20%20%20if%20%28%21w3c%5Fslidy%2Elang%29%0A%20%20%20%20%20%20w3c%5Fslidy%2Elang%20%3D%20document%2Ebody%2EparentNode%2EgetAttribute%28%22xml%3Alang%22%29%3B%0A%0A%20%20%20%20if%20%28%21w3c%5Fslidy%2Elang%29%0A%20%20%20%20%20%20w3c%5Fslidy%2Elang%20%3D%20%22en%22%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2F%20hack%20for%20back%20button%20behavior%0Aif%20%28w3c%5Fslidy%2Eie6%20%7C%7C%20w3c%5Fslidy%2Eie7%29%0A%7B%0A%20%20document%2Ewrite%28%22%3Ciframe%20id%3D%27historyFrame%27%20%22%20%2B%0A%20%20%22src%3D%27javascript%3A%5C%22%3Chtml%22%2B%22%3E%3C%2F%22%2B%22html%3E%5C%22%27%20%22%20%2B%0A%20%20%22height%3D%271%27%20width%3D%271%27%20%22%20%2B%0A%20%20%22style%3D%27position%3Aabsolute%3Bleft%3A%2D800px%27%3E%3C%2Fiframe%3E%22%29%3B%0A%7D%0A%0A%2F%2F%20attach%20event%20listeners%20for%20initialization%0Aw3c%5Fslidy%2Eset%5Fup%28%29%3B%0A%0A%2F%2F%20hide%20the%20slides%20as%20soon%20as%20body%20element%20is%20available%0A%2F%2F%20to%20reduce%20annoying%20screen%20mess%20before%20the%20onload%20event%0AsetTimeout%28w3c%5Fslidy%2Ehide%5Fslides%2C%2050%29%3B%0A%0A" charset="utf-8" type="text/javascript"></script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Vertiefung und Spassaufgaben in der Vorlesung/Labor</h1>
  <p class="author">
Martin Sulzmann
  </p>
</div>
<div id="inhalt" class="slide section level1">
<h1>Inhalt</h1>
<ol style="list-style-type: decimal">
<li>Fingerbungen</li>
<li>Berechnung aller Untermengen (C Bitoperationen)</li>
<li>Count - Zhlen von Wrtern inklusive Testrahmen (C Zeiger und Strings)</li>
<li>Strings - Speicherverwaltung</li>
<li>Speicherverwaltung und Pointer am Beispiel von Fibonacci (C)</li>
<li>Erweiterbarer Testrahmen (C++ virtuelle Methoden)</li>
<li>Regulre Ausdrcke und Automaten</li>
<li>Playing with Templates and Lambdas (C++14)</li>
<li>Parser combinators</li>
</ol>
</div>
<div id="fingerbungen" class="slide section level1">
<h1>Fingerbungen</h1>
<p>Im folgenden betrachten wir Beispiele von Programmen. Dazu gibt es Vestndnissfragen und kleinere Programmieraufgaben.</p>
<h2 id="boolesche-bedingungen">Boolesche Bedingungen</h2>
<p>Was ist der Sinn und Zweck folgendes Programmtextes. Knnte ein Fehler darin versteckt sein?</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="kw">while</span>(a[i] != '\<span class="dv">0</span>' &amp;&amp; i &gt;=<span class="dv">0</span> &amp;&amp; i &lt; MAX) {
  i++;
}</code></pre></div>
<ul>
<li><p>Die Intention ist die Suche nach dem Ende eines String, siehe <code>a[i] != '\0'</code>.</p></li>
<li><p>Da es in C keine &quot;array out of bounds check&quot; gibt, wird versucht via <code>i &gt;=0 &amp;&amp; i &lt; MAX</code> unerlaubte Zugriffe abzufangen.</p></li>
</ul>
<p>Passt alles?</p>
<p>Nicht ganz. Die Reihenfolgen der einzelnen Bedingungen sind falsch. Aus der Mathematik kennt man dass <code>&amp;&amp;</code> ein kommutativer Operator ist. Dies gilt hier nicht mehr.</p>
<p>Z.B. die Anweisung <code>a[i] != '\0'</code> kann zu einer Speicherverletzung fhren weil der Index i sich ausserhalb der erlaubten Grenzen befindet. Die Bedingungen <code>i &gt;=0 &amp;&amp; i &lt; MAX</code> liefern daher FALSCH. Aber das Programm steigt von vorher aus, wegen der Speicherverletzung.</p>
<p>Deshalb sollte es richtig lauten.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="kw">while</span>(i &gt;=<span class="dv">0</span> &amp;&amp; i &lt; MAX &amp;&amp; a[i] != '\<span class="dv">0</span>') {
  i++;
}</code></pre></div>
<ol style="list-style-type: decimal">
<li><p>Zuerst die berprfung, ob Indexgrenzen gltig sind.</p></li>
<li><p>Dann der Zugriff auf die Position.</p></li>
</ol>
<p>Das Prinzip dahinter heisst &quot;Kurzschlussauswertung&quot;:</p>
<ol style="list-style-type: decimal">
<li><p>Im Falle von &quot;UND&quot; verknpften Bedingungen werden diese in der textuellen Reihenfolge von links nach rechts ausgewertet.</p></li>
<li><p>Falls eine (Teil)Bedingung FALSCH liefert, liefert der ganze Ausdruck FALSCH.</p></li>
<li><p>Wichtig hier ist, dass die Anweisung <code>a[i] != '\0'</code> gar nicht ausgewertet wird.</p></li>
</ol>
<p>Analog dazu ist die Auswertung von &quot;ODER&quot; verknpften Bedingungen. Wiederum in textueller Reihenfolge von links nach rechts. Sobald eine (Teil)Bedingung WAHR liefert, liefert der ganze Ausdruck WAHR. Danach folgende Bedingungen werden nicht mehr ausgewertet.</p>
<p>Was bedeutet dies fr die Verhersagbarkeit der zeitlichen Ausfhrung eines Programmes? Da auf Grund der Kurzschlussauswertung nicht alle (Teil)Bedingungen ausgewertet werden mssen, kann die Ausfhrungszeit sehr unterschiedlich sein.</p>
<p>Betrachte folgendes (knstliches) Beispiel.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="kw">if</span>(x &gt; <span class="dv">5</span> &amp;&amp; factorial(y) &gt; x)  {
}</code></pre></div>
<ul>
<li><p>Angenommen x ist kleiner als 5. Dann wird der Ausdruck <code>factorial(y) &gt; x</code> nicht ausgewertet.</p></li>
<li><p>Angenommen x ist grer als 5. Der Ausdruck <code>factorial(y) &gt; x</code> muss ausgewertet werden und kann je nach Paramter y einige Zeit in Anspruch nehmen (die Berechnungsformel fr die Fakultt einer Zahl ist zwar einfach, bentigt aber einen gewissen Berechnungsaufwand).</p></li>
</ul>
<p>Zusammengefasst. Je nach Wert des Parameters x ist die zeitliche Ausfhrung des Programms unterschiedlich.</p>
<p>Aber ist es nicht von Vorteil, einen Ausdruck wie <code>factorial(y) &gt; x</code> erst gar nicht zu berechnen (wenn der linke Teil schon FALSCH liefert)? Jein. In gewissen Bereichen (man denke an eingebettete Systeme) mchte man, dass die zeitliche Ausfhrungen eines Programmes unabhngig ist von irgendwelchen Laufzeitparametern (&quot;best case = worst case&quot;). Das Prinzip der Kurschlussauswertung macht dies aber schwierig.</p>
<p>Wie knnte man die Kurschlussauswertung umgehen? Der oft angewendete Trick ist die Booleschen Operatoren durch ihre Bitweisen Pendants zu ersetzen.</p>
<p>Z.B. im folgenden Programmtext werden immer beide Bedingungen ausgewertet</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="kw">if</span>(x &gt; <span class="dv">5</span> &amp;  factorial(y) &gt; x)  {
}</code></pre></div>
<p>Die Regel lautet. Verwende <code>&amp;</code> anstatt <code>&amp;&amp;</code> und <code>|</code> anstatt <code>||</code>. Dadurch wird die Kurzschlussauswertung umgangen.</p>
<p>Ist dies aber nicht gefhrlich, siehe obiges Beispiel zum Arrayzugriff? Richtig. Falls aber gewnscht ist die Kurzschlussauswertung zu umgehen, muss das Programm umgeschrieben werden. Z.B. im Falle des obigen Beispiels</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">bool stop = false;
<span class="kw">while</span>(!stop) { 
  <span class="kw">if</span>(i &gt;=<span class="dv">0</span> &amp; i &lt; MAX) {
         <span class="kw">if</span>(a[i] != '\<span class="dv">0</span>') {
             i++;
         } <span class="kw">else</span> {
             stop = true;
         }
  } <span class="kw">else</span> {
      stop = true; <span class="co">// out-of bounds</span>
  }
}</code></pre></div>
<p>Diese Lsung ist &quot;aufwendiger&quot; aber in gewisser Hinsicht ist der Programmablauf viel durchschaubarer. Solch ein Programmierstil wird vor allem in Bereichen angewandt in denen die Robustheit von Programmen (zeitliches Verhalten, Korrektheit, ...) eine grosse Rolle spiel. Man denke an eingebettete Systeme im Flugzeug, Auto, Ampelsteuerung etc.</p>
<h2 id="kontrollstrukturen-schleifen">Kontrollstrukturen (Schleifen)</h2>
<p>Vergleich von while, do-while und for Schleifen.</p>
<ol style="list-style-type: decimal">
<li><p>Geben Sie fr jede Art von Schleife ein Beispiel.</p></li>
<li><p>Kann jede Schleifenart in die andere bersetzt werden?</p></li>
<li><p>Welche Schleife finden Sie am sinnvollsten?</p></li>
<li><p>Braucht man Schleifen berhaupt?</p></li>
</ol>
<p>Schleifen sind in der Tat nicht notwendig, sobald ihre Programmiersprache rekursive Funktionsaufrufe untersttzt. Ein (praktisches) Problem dabei ist, dass die Schachtelungstiefe von Funktionsaufrufen in der Regel begrenzt ist</p>
<h2 id="zeiger">Zeiger</h2>
<p>Betrachten Sie folgende Ausdrcke. Annahme dabei ist</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> a[<span class="dv">20</span>];
<span class="dt">int</span> i,j;</code></pre></div>
<ol style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">a[i]</code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">a[i] + j</code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">*(a + i)</code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li></li>
</ol>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">*(a + i) + j</code></pre></div>
<p>Was machen die einzelnen Ausdrcke?</p>
<p>Betrachten Sie folgenden Programmtext.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> a[<span class="dv">10</span>];
<span class="dt">int</span> i;

i = <span class="dv">0</span>;
<span class="kw">while</span>(i &lt; <span class="dv">10</span>) {
  a[i] = i;
  i++;
}</code></pre></div>
<p>Schreiben Sie obiges Programm um. Dabei sollen Sie anstatt einer while Schleife eine for Schleife verwenden und anstatt des Arrayzugriffs nur Zeigerzugriffe verwenden.</p>
</div>
<div id="berechnung-aller-untermengen-bitoperationen" class="slide section level1">
<h1>Berechnung aller Untermengen (Bitoperationen)</h1>
<p>C Programmierkonzepte: Bitoperationen, Schleifen und bedingte Anweisungen</p>
<p>Wir betrachten eine Menge von Elementen, z.B. <code>{A, B, C, D}</code>. Aus der Kombinatorik wissen wir, dass es genau <code>2^4 = 16</code> verschiedene Untermenge fr eine Menge mit 4 Elementen gibt.</p>
<p>Fr unser obiges Beispiel, gibt es folgende Untermengen.</p>
<pre><code> 0 : {}
 1 : {A }
 2 : {B }
 3 : {A B }
 4 : {C }
 5 : {A C }
 6 : {B C }
 7 : {A B C }
 8 : {D }
 9 : {A D }
 10 : {B D }
 11 : {A B D }
 12 : {C D }
 13 : {A C D }
 14 : {B C D }
 15 : {A B C D }</code></pre>
<p>Ihre Aufgabe ist es ein C Programm zu schreiben, welches die Menge aller Untermengen einer 4-elementigen Menge auf der Konsole ausgibt.</p>
<h2 id="lsungsidee">Lsungsidee</h2>
<ul>
<li>Element in der Untermenge durch ein Bit reprsentiert</li>
<li>Generiere alle mglichen Bitkombinatinen</li>
<li>Fr jede Bitkombination, teste ob Element vorhanden</li>
</ul>
<h2 id="lsungsvorschlag">Lsungsvorschlag</h2>
<p>Falls Bit Position gesetzt liefere die Position als Wert zurck. Ansonsten gebe <code>-1</code> zurck.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> test(<span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x, <span class="dt">int</span> pos) {
  <span class="kw">if</span> (x &amp; (<span class="dv">1</span>&lt;&lt;pos)) <span class="kw">return</span> pos;
  <span class="kw">return</span> -<span class="dv">1</span>;
}</code></pre></div>
<p>Ausgabe von Element an bestimmer Position.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> printElem(<span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x, <span class="dt">int</span> pos) {
  <span class="kw">switch</span>(pos) {
  <span class="kw">case</span> <span class="dv">0</span> : printf(<span class="st">&quot;A &quot;</span>);
           <span class="kw">break</span>;
  <span class="kw">case</span> <span class="dv">1</span> : printf(<span class="st">&quot;B &quot;</span>);
           <span class="kw">break</span>;
  <span class="kw">case</span> <span class="dv">2</span> : printf(<span class="st">&quot;C &quot;</span>);
           <span class="kw">break</span>;
  <span class="kw">case</span> <span class="dv">3</span> : printf(<span class="st">&quot;D &quot;</span>);
           <span class="kw">break</span>;
  }

}</code></pre></div>
<p>Fr alle mglichen Bitkombinationen (gleich alle Zahlen zwischen <code>0</code> und <code>15</code>), teste fr jede Position ob Element vorhanden.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">
<span class="dt">int</span> main() {
  <span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x;
  <span class="dt">int</span> pos;

  <span class="kw">for</span>(x=<span class="dv">0</span>; x &lt; <span class="dv">16</span>; x++) {
    printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st"> %d : {&quot;</span>, x);
    <span class="kw">for</span>(pos=<span class="dv">0</span>; pos&lt;<span class="dv">4</span>; pos++) {
      printElem(x, test(x,pos));
    }
    printf(<span class="st">&quot;}&quot;</span>);
  }
  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>);

  <span class="kw">return</span> <span class="dv">0</span>;
}</code></pre></div>
<p>Erweiteren Sie die Aufgabe:</p>
<ul>
<li><p>Geben Sie die Menge aller Untermenge einer <code>n</code>-elementigen Menge aus, wobei <code>n</code> ein frei whlbarer Parameter ist.</p></li>
<li><p>Als Namensbezeichnung fr Elemente benutzen Sie einfach 1, 2, ...</p></li>
</ul>
<h2 id="lsung-komplett">Lsung komplett</h2>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="ot"># include &lt;stdio.h&gt;</span>

<span class="dt">int</span> test(<span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x, <span class="dt">int</span> pos) {
  <span class="kw">if</span> (x &amp; (<span class="dv">1</span>&lt;&lt;pos)) <span class="kw">return</span> pos;
  <span class="kw">return</span> -<span class="dv">1</span>;
}

<span class="dt">void</span> printElem(<span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x, <span class="dt">int</span> pos) {
  <span class="kw">switch</span>(pos) {
  <span class="kw">case</span> <span class="dv">0</span> : printf(<span class="st">&quot;A &quot;</span>);
           <span class="kw">break</span>;
  <span class="kw">case</span> <span class="dv">1</span> : printf(<span class="st">&quot;B &quot;</span>);
           <span class="kw">break</span>;
  <span class="kw">case</span> <span class="dv">2</span> : printf(<span class="st">&quot;C &quot;</span>);
           <span class="kw">break</span>;
  <span class="kw">case</span> <span class="dv">3</span> : printf(<span class="st">&quot;D &quot;</span>);
           <span class="kw">break</span>;
  }

}

<span class="dt">int</span> main() {
  <span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x;
  <span class="dt">int</span> pos;

  <span class="kw">for</span>(x=<span class="dv">0</span>; x &lt; <span class="dv">16</span>; x++) {
    printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st"> %d : {&quot;</span>, x);
    <span class="kw">for</span>(pos=<span class="dv">0</span>; pos&lt;<span class="dv">4</span>; pos++) {
      printElem(x, test(x,pos));
    }
    printf(<span class="st">&quot;}&quot;</span>);
  }
  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>);

  <span class="kw">return</span> <span class="dv">0</span>;
}</code></pre></div>
<p>Was sticht ins Auge?</p>
<ul>
<li><p>In C/C++ ist es mglich &quot;freistehende&quot; Funktionen zu definieren welche nicht an eine Klasse gebunden sind.</p></li>
<li><p>Funktionsdefinitionen drfen nicht geschachtelt sein.</p></li>
<li><p>Funktionen mssen erst deklariert werden bevor man die Funktion verwenden kann. Dies gilt auch fr Variablen, Klassen etc.</p></li>
<li><p>Jede Funktionsdefinition impliziert eine Funktionsdeklaration. Obige Reihenfolge ist wichtig. Aufgabe. Vertausche &quot;main&quot; mit &quot;test&quot; und kompiliere neu.</p></li>
<li><p>Reihenfolgen kann vertauscht werden, solange &quot;Vorwrtsreferenzen&quot; gegeben sind. Betrachte folgende Variante.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="ot"># include &lt;stdio.h&gt;</span>


<span class="co">// forward references</span>
<span class="dt">int</span> test(<span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x, <span class="dt">int</span> pos); 
<span class="dt">void</span> printElem(<span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x, <span class="dt">int</span> pos);

<span class="dt">int</span> main() {
  <span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x;
  <span class="dt">int</span> pos;

  <span class="kw">for</span>(x=<span class="dv">0</span>; x &lt; <span class="dv">16</span>; x++) {
    printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st"> %d : {&quot;</span>, x);
    <span class="kw">for</span>(pos=<span class="dv">0</span>; pos&lt;<span class="dv">4</span>; pos++) {
      printElem(x, test(x,pos));
    }
    printf(<span class="st">&quot;}&quot;</span>);
  }
  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>);

  <span class="kw">return</span> <span class="dv">0</span>;
}

<span class="dt">int</span> test(<span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x, <span class="dt">int</span> pos) {
  <span class="kw">if</span> (x &amp; (<span class="dv">1</span>&lt;&lt;pos)) <span class="kw">return</span> pos;
  <span class="kw">return</span> -<span class="dv">1</span>;
}

<span class="dt">void</span> printElem(<span class="dt">unsigned</span> <span class="dt">short</span> <span class="dt">int</span> x, <span class="dt">int</span> pos) {
  <span class="kw">switch</span>(pos) {
  <span class="kw">case</span> <span class="dv">0</span> : printf(<span class="st">&quot;A &quot;</span>);
           <span class="kw">break</span>;
  <span class="kw">case</span> <span class="dv">1</span> : printf(<span class="st">&quot;B &quot;</span>);
           <span class="kw">break</span>;
  <span class="kw">case</span> <span class="dv">2</span> : printf(<span class="st">&quot;C &quot;</span>);
           <span class="kw">break</span>;
  <span class="kw">case</span> <span class="dv">3</span> : printf(<span class="st">&quot;D &quot;</span>);
           <span class="kw">break</span>;
  }

}</code></pre></div>
<ul>
<li>Wieso inferriert der Kompiler nicht automatisch diese Vorwrtsreferenzen? Zum Teil historisch bedingut. Aus Effizienzgrnden versuchte man ursprnglich den Quelltext in einem Durchgang (&quot;pass&quot;) zu kompilieren.</li>
</ul>
</div>
<div id="count---zhlen-von-wrtern-inklusive-testrahmen-zeiger-und-strings" class="slide section level1">
<h1>Count - Zhlen von Wrtern inklusive Testrahmen (Zeiger und Strings)</h1>
<h2 id="strings">Strings</h2>
<p>Wir betrachten Strings und Manipulationen auf Strings. In C wird ein String durch eine Sequenz von alphanumerischen Zeichen reprsentiert.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">char</span> s1[<span class="dv">10</span>];
<span class="dt">char</span>* s2;
<span class="dt">char</span>* s3[<span class="dv">5</span>];
<span class="dt">char</span> s4[<span class="dv">5</span>][<span class="dv">6</span>];
<span class="dt">char</span>** s5;</code></pre></div>
<ul>
<li>s1 beschreibt einen String fester Gre.</li>
<li>s2 ist ein Zeiger (Pointer) auf das erste Element eines Strings. Der vom String belegte Speicherbereich wird im Regelfall dynamisch angelegt</li>
<li>s3 beschreibt ein Array von 5 Strings, wobei die einzelnen Strings durch Zeiger beschrieben sind.</li>
<li>s4 beschreibt ein Array von 5 Strings,wobei die einzelnen Strings von fester Gre sind.</li>
<li>s5 beschreibt einen Zeiger auf einen String</li>
</ul>
<p>WICHTIG: Das Ende des Strings wird gekennzeichnet durch das Nullterminator Zeichen:</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">'\<span class="dv">0</span>'</code></pre></div>
<p>String Initialisierung.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">char</span> s1[] = <span class="st">&quot;Hallo&quot;</span>;
<span class="dt">char</span> s2[] = { 'H', 'a', 'l', 'l', 'o' };</code></pre></div>
<p>Die Initialisierung von <code>s2</code> enthlt einen typischen Fehler. Was ist falsch?</p>
<p>Zur Erinnerung. Jeder String muss mit Null terminiert werden wobei wir die Null durch das Zeichen <code>'\0'</code> beschreiben. Diese Zeichen fehlt im Falle von `s2. Richtig muss es also lauten</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">char</span> s1[] = <span class="st">&quot;Hallo&quot;</span>;
<span class="dt">char</span> s2[] = { 'H', 'a', 'l', 'l', 'o', `\<span class="dv">0</span>` };</code></pre></div>
<p>Im Falle der Notation <code>&quot;Hallo&quot;</code> wird automatisch die Null angehngt.</p>
<p>Weiteres Problem. Folgende Variante sollen sie <em>nicht</em> verwenden.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">char</span>* s3 = <span class="st">&quot;Hallo&quot;</span>;</code></pre></div>
<h2 id="zhlen-von-wrtern">Zhlen von Wrtern</h2>
<p>Ein Wort ist eine Sequenz von Zeichen in der das Leerzeichen (white-space) nicht vorkommt. Aufgabe ist es eine Funktion zu schreiben, die die Anzahl der Wrter in einem String zhlt.</p>
<p>Verwenden Sie folgenden Funktionsprototypen.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> count(<span class="dt">char</span>* input);</code></pre></div>
<p>Wir entwickeln eine Musterlsung fr diese Aufgabe. Wichtig dabei ist der Nachweis der Korrektheit.</p>
<p>Um ein erstes Verstndnis zu bekommen betrachten wir mgliche Eingaben und die erwarteten Ausgaben.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">count(<span class="st">&quot;&quot;</span>) ==&gt; <span class="dv">0</span>
count(<span class="st">&quot;Hallo&quot;</span>) ==&gt; <span class="dv">1</span>
count(<span class="st">&quot;  Hallo&quot;</span>) ==&gt; <span class="dv">1</span>
count(<span class="st">&quot;  Ha llo&quot;</span>) ==&gt; <span class="dv">2</span></code></pre></div>
<p>Bevor man mit der Implementierung anfngt ist es elementar wichtig genau die Aufgabenstellung zu analysieren. <em>WAS</em> genau ist gefordert? <em>WAS</em> sind typische Eingaben und die erwarteten Ergebnisse?</p>
<p>Das <em>WIE</em> implementiere ich die Aufgabenstellung ist hier erst einmal zweitrangig.</p>
<p>Deshalb entwerfen wir als erstes einen Testrahmen, mit dessen Hilfe wir unsere Implementierung testen knnen. Von der &quot;Java&quot; Vorlesung sind Sie mit Unit-Tests vertraut. Solch ein Unit-Test Framework steht uns hier nicht zur Verfgung (gibt es natrlich auch fr C/C++). Den notwendigen Testrahmen haben wir uns aber schnell selber gebaut.</p>
<p>Zuerst beschreiben wir die mglichen Testergebnisse.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">typedef</span> <span class="kw">enum</span> {
  OK,
  FAIL
} Test;</code></pre></div>
<p>Ein Testfall besteht aus einem String und dem erwarteten Ergebnis. Wir schreiben eine kleine Hilfsfunktion, die einen Testfall ausfhrt und auf das erwartete Ergebnis testet.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">Test testCount(<span class="dt">char</span>* input, <span class="dt">int</span> expected) {
  Test t;
  
  <span class="kw">if</span>(expected == count(input)) {
    t = OK;
  }
  <span class="kw">else</span> {
    t = FAIL;
  }
  <span class="kw">return</span> t;
}</code></pre></div>
<p>Wir werden sicherlich eine Reihe von Testfllen bentigen, deshalb fassen wir einen Testfall in einer Struktur zusammen.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">typedef</span> <span class="kw">struct</span> {
  <span class="dt">char</span>* input;
  <span class="dt">int</span> expected;
} TestCase;</code></pre></div>
<p>Folgende Hilfsfunktion erlaubt uns die automatische Ausfhrung einer ganzen Reihe von Testfllen.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">void</span> runTests(<span class="dt">int</span> no, TestCase test[]) {
  Test t;
  <span class="dt">int</span> i;

  <span class="kw">for</span>(i=<span class="dv">0</span>; i &lt; no; i++) {
    printf(<span class="st">&quot;Test </span><span class="ch">%d</span><span class="st">: &quot;</span>, i);
    t = testCount(test[i].input, test[i].expected);
    <span class="kw">if</span>(OK == t)
      printf(<span class="st">&quot;OK </span><span class="ch">\n</span><span class="st">&quot;</span>);
    <span class="kw">if</span>(FAIL == t)
      printf(<span class="st">&quot;FAIL </span><span class="ch">\n</span><span class="st">&quot;</span>);
  }
}</code></pre></div>
<p>Eingabe <code>no</code> beschreibt die Anzahl der Testflle. Die eigentlichen Testflle werden als Array <code>test</code> bestehend aus Strukturen des Typs <code>TestCase</code> bergeben. Auf jeden Testfall wenden wir die Hilfsfunktion <code>testCount</code> an.</p>
<p>In unseren Fall protokollieren wir die Testergebnisse durch Aufgabe auf der Konsole. In Industrieprojekten werden die Testergebnisse normalerweise auf Platte geschrieben und mit der Versionsnummer der getesteten Software versehen.</p>
<p>Hier ist eine Auswahl signifikanter Testflle.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">int</span> main() {
  <span class="dt">const</span> <span class="dt">int</span> testNo = <span class="dv">9</span>;
  TestCase tests[<span class="dv">9</span>] = { 
       {<span class="st">&quot;&quot;</span>, <span class="dv">0</span>},
       {<span class="st">&quot;Hallo&quot;</span>, <span class="dv">1</span>},
       {<span class="st">&quot;  Hallo&quot;</span>, <span class="dv">1</span>},
       {<span class="st">&quot;Hallo&quot;</span>, <span class="dv">1</span>},
       {<span class="st">&quot;  Hallo  &quot;</span>, <span class="dv">1</span>},              

       {<span class="st">&quot;Hal lo&quot;</span>, <span class="dv">2</span>},  
       {<span class="st">&quot; Hal lo&quot;</span>, <span class="dv">2</span>},  
       {<span class="st">&quot;Hal lo &quot;</span>, <span class="dv">2</span>},  
       {<span class="st">&quot; Hal lo  &quot;</span>, <span class="dv">2</span>}              
     };

  runTests(testNo,tests);
}</code></pre></div>
<p>Den Testrahmen haben wir also, wir haben aber immer noch keine einzige Zeile der Funktion <code>count</code> implementiert! Keine Angst kommt gleich. Die wichtige Nachricht an dieser Stelle ist: Ein Grossteil der Entwicklungszeit wird nicht auf das <em>WIE</em> verwendet, der meiste Entwicklungsaufwand beschftigt sich mit <em>WAS</em>:</p>
<ul>
<li>... soll die Software eigentlich leisen?</li>
<li>... ging schief, wo liegt der Fehler?</li>
<li>...</li>
</ul>
<p>Nun endlich zur eigentlichen Implementierung. Betrachten wir noch einmal die Beispieleingaben und -ausgaben.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">count(<span class="st">&quot;&quot;</span>) ==&gt; <span class="dv">0</span>
count(<span class="st">&quot;Hallo&quot;</span>) ==&gt; <span class="dv">1</span>
count(<span class="st">&quot;  Hallo&quot;</span>) ==&gt; <span class="dv">1</span>
count(<span class="st">&quot;  Ha llo&quot;</span>) ==&gt; <span class="dv">2</span></code></pre></div>
<p>Im Falle des leeren Strings geben wir <code>0</code> zurck. Ansonsten suchen wir den Anfang eines Wortes? WIE machen wir das?</p>
<p>Entweder (a) wir befinden uns schon am Anfang eines Wortes, oder (b) das aktuelle Zeichen ist ein Leerzeichen.</p>
<p>Im Fall (b) berspringen wir alle Leerzeichen. Aha, wir haben die Aufgabe zerlegt in eine Teilaufgabe. Hier ist eine Funktion, die die Teilaufgabe (a) umsetzt.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">char</span>* leerzeichen(<span class="dt">char</span>* input) {
  <span class="kw">while</span>(*input == <span class="st">' '</span>) 
    input++;
  <span class="kw">return</span> input;
}</code></pre></div>
<p>Wir &quot;iterieren&quot; durch den String solange bis wir auf ein Zeichen treffen, welches nicht eine Leerzeichen ist. Rckgabe ist ein Zeiger auf das getroffene Nicht-Leerzeichen.</p>
<p>Betrachten wir Fall (a). Wir befinden uns am Anfang eines Wortes. Ein Wort besteht aus einer Sequenz von Nicht-Leerzeichen. Also iterieren wir durch den String bis wir auf ein Leerzeichen treffen. Das stimmt fast! Zu beachten ist hier der Spezialfall, dass wir das Ende des Strings erreichen. Fall (a) lsst sich wiederum sehr einfach mit Hilfe einer Funktion beschreiben.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">char</span>* zeichen(<span class="dt">char</span>* input) {
  <span class="kw">while</span>(*input != <span class="st">'</span><span class="ch">\0</span><span class="st">'</span> &amp;&amp; *input != <span class="st">' '</span>) 
    input++;
  <span class="kw">return</span> input;
}</code></pre></div>
<p>Wir haben jetzt die einzelnen Teilaufgaben. Damit lsst sich nun die <code>count</code> Aufgabe einfach lsen.</p>
<p>Zuerst in Pseudo-Code:</p>
<p>Solange das Ende nicht erreicht ist:</p>
<ol style="list-style-type: decimal">
<li>berspringe alle Leerzeichen</li>
<li><p>Fall Zeichen gefunden</p>
<ol style="list-style-type: lower-alpha">
<li>zhle Anzahl gefunder Wrter hoch</li>
<li>Gehe zu Wortende</li>
</ol></li>
</ol>
<p>Hier ist die (literale) Umsetzung.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">int</span> count(<span class="dt">char</span>* input) {
  <span class="dt">int</span> cnt = <span class="dv">0</span>;

  <span class="kw">while</span>(*input != <span class="st">'</span><span class="ch">\0</span><span class="st">'</span>) {
    input = leerzeichen(input);    
    <span class="kw">if</span>(*input != <span class="st">'</span><span class="ch">\0</span><span class="st">'</span>) {
      cnt++;
      input = zeichen(input);
    }
  }
  <span class="kw">return</span> cnt;
}</code></pre></div>
<h3 id="als-anhang-der-komplette-programmcode">Als Anhang der komplette Programmcode</h3>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="ot">#include &quot;stdio.h&quot;</span>

<span class="co">// Ueberspringe alle Leerzeichen</span>
<span class="co">// Rueckgabe ist Zeiger auf das erste Nichtleerzeichen</span>
<span class="dt">char</span>* leerzeichen(<span class="dt">char</span>* input) {
  <span class="kw">while</span>(*input == <span class="st">' '</span>) 
    input++;
  <span class="kw">return</span> input;
}

<span class="co">// Scanne durch string solange bis wir auf ein</span>
<span class="co">// Leerzeichen oder das Ende des Strings treffen.</span>
<span class="co">// Effektiv ueberspringen wir ein Wort.</span>
<span class="co">// Rueckgabe: Zeiger auf Ende oder Leerzeichen.</span>
<span class="dt">char</span>* zeichen(<span class="dt">char</span>* input) {
  <span class="kw">while</span>(*input != <span class="st">'</span><span class="ch">\0</span><span class="st">'</span> &amp;&amp; *input != <span class="st">' '</span>) 
    input++;
  <span class="kw">return</span> input;
}


<span class="dt">int</span> count(<span class="dt">char</span>* input) {
  <span class="dt">int</span> cnt = <span class="dv">0</span>;

  <span class="co">// Solange das Ende nicht erreicht ist:</span>
  <span class="co">// 1. Ueberspringe alle Leerzeichen</span>
  <span class="co">// 2. Falls Zeichen gefunden</span>
  <span class="co">//     (a) setze Zaehler hoch</span>
  <span class="co">//     (b) Gehe zu Wortende</span>

  <span class="kw">while</span>(*input != <span class="st">'</span><span class="ch">\0</span><span class="st">'</span>) {
    input = leerzeichen(input);    
    <span class="kw">if</span>(*input != <span class="st">'</span><span class="ch">\0</span><span class="st">'</span>) {
      cnt++;
      input = zeichen(input);
    }
  }
  <span class="kw">return</span> cnt;
}


<span class="kw">typedef</span> <span class="kw">enum</span> {
  OK,
  FAIL
} Test;

Test testCount(<span class="dt">char</span>* input, <span class="dt">int</span> expected) {
  Test t;
  
  <span class="kw">if</span>(expected == count(input)) {
    t = OK;
  }
  <span class="kw">else</span> {
    t = FAIL;
  }
  <span class="kw">return</span> t;
}


<span class="kw">typedef</span> <span class="kw">struct</span> {
  <span class="dt">char</span>* input;
  <span class="dt">int</span> expected;
} TestCase;


<span class="dt">void</span> runTests(<span class="dt">int</span> no, TestCase test[]) {
  Test t;
  <span class="dt">int</span> i;

  <span class="kw">for</span>(i=<span class="dv">0</span>; i &lt; no; i++) {
    printf(<span class="st">&quot;Test </span><span class="ch">%d</span><span class="st">: &quot;</span>, i);
    t = testCount(test[i].input, test[i].expected);
    <span class="kw">if</span>(OK == t)
      printf(<span class="st">&quot;OK </span><span class="ch">\n</span><span class="st">&quot;</span>);
    <span class="kw">if</span>(FAIL == t)
      printf(<span class="st">&quot;FAIL </span><span class="ch">\n</span><span class="st">&quot;</span>);
  }
}


<span class="dt">int</span> main() {
  <span class="dt">const</span> <span class="dt">int</span> testNo = <span class="dv">9</span>;
  TestCase tests[<span class="dv">9</span>] = { 
       {<span class="st">&quot;&quot;</span>, <span class="dv">0</span>},
       {<span class="st">&quot;Hallo&quot;</span>, <span class="dv">1</span>},
       {<span class="st">&quot;  Hallo&quot;</span>, <span class="dv">1</span>},
       {<span class="st">&quot;Hallo&quot;</span>, <span class="dv">1</span>},
       {<span class="st">&quot;  Hallo  &quot;</span>, <span class="dv">1</span>},              

       {<span class="st">&quot;Hal lo&quot;</span>, <span class="dv">2</span>},  
       {<span class="st">&quot; Hal lo&quot;</span>, <span class="dv">2</span>},  
       {<span class="st">&quot;Hal lo &quot;</span>, <span class="dv">2</span>},  
       {<span class="st">&quot; Hal lo  &quot;</span>, <span class="dv">2</span>}              
     };

  runTests(testNo,tests);

}</code></pre></div>
<h3 id="als-anhang-zustandsbasierte-modellierung">Als Anhang: Zustandsbasierte Modellierung</h3>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">
<span class="ot">#include &quot;stdio.h&quot;</span>

<span class="co">/*</span>

<span class="co">1. Woerter in einem String zaehlen.</span>

<span class="co">Was ist ein Wort?</span>
<span class="co">Wir definieren ein Wort als eine Sequenz von</span>
<span class="co">Zeichen welche nicht getrennt ist durch Leerzeichen.</span>

<span class="co">2. Zustands-basierte Modellierung.</span>

<span class="co">Wir definieren unser Alphabet als die Menge</span>

<span class="co">Sigma = { CH, EOS, WS }</span>

<span class="co">wobei</span>

<span class="co">EOS = Nullterminator</span>

<span class="co">WS = Leerzeichen ('white space')</span>

<span class="co">CH = Zeichen ('character')</span>


<span class="co">Die Menge von Zustaenden und Transitionen ist wie folgt.</span>

<span class="co">1 -- WS --&gt; 1</span>

<span class="co">1 -- EOS --&gt; 2</span>

<span class="co">1 -- CH --&gt; 3</span>

<span class="co">3 -- WS --&gt; 1</span>

<span class="co">3 -- CH --&gt; 3</span>

<span class="co">3 -- EOS --&gt; 2</span>

<span class="co">Menge von Zustaenden ist {1,2,3}</span>

<span class="co">1 ist der Startzustand</span>

<span class="co">3 ist der Finalzustand</span>

<span class="co">Obiger Automat ist ein Beipsiel eines endlichen Automaten.</span>

<span class="co">3. Zaehlen von Woertern.</span>

<span class="co">Um die Woerten zu zaehlen, benoetigen wir neben einer Eingabe (Zeichen WS, CH, EOS)</span>
<span class="co">auch eine Ausgabe (Anzahl der gefunden Woerter).</span>

<span class="co">Dazu koennen wir einen Mealy/Moore Automaten verwenden.</span>
<span class="co">Z.B. im Fall eines Mealy Automaten koennen wir auf die Transition eine Ausgabe legen.</span>

<span class="co">Notation.</span>

<span class="co">Wir schreiben</span>

<span class="co">state1 -- In / Out --&gt; state2</span>

<span class="co">Fuer einen Uebergang von Zustand state1 nach Zustand state2,</span>
<span class="co">falls das aktuelle Eingabesymbol In ist.</span>
<span class="co">Als Ausgabe finden wir Out.</span>
<span class="co">Ein Mealy Automate liefert einen Trace von Ausgabesymbolen.</span>
<span class="co">Wir benutzen zur Vereinfachung eine Zustandsvariable.</span>


<span class="co">-- / cnt=0 --&gt; 1</span>

<span class="co">1 -- WS --&gt; 1</span>

<span class="co">1 -- EOS --&gt; 2</span>

<span class="co">1 -- CH / cnt++ --&gt; 3</span>

<span class="co">3 -- WS --&gt; 1</span>

<span class="co">3 -- CH --&gt; 3</span>

<span class="co">3 -- EOS --&gt; 2</span>



<span class="co"> */</span>



<span class="co">// Implementierung 1</span>

<span class="dt">char</span>* scanWS(<span class="dt">char</span>* s) {

  <span class="kw">while</span>(*s == ' ') {
    s++;
  }
  <span class="kw">return</span> s;  
}

<span class="dt">int</span> isCH(<span class="dt">char</span> c) {
  <span class="kw">return</span> (c != ' ' &amp;&amp; c != '\<span class="dv">0</span>');
}

<span class="dt">char</span>* scanCH(<span class="dt">char</span>* s) {

  <span class="kw">while</span>(isCH(*s)) {
    s++;
  }
  <span class="kw">return</span> s;
}


<span class="dt">int</span> countWords(<span class="dt">char</span>* s) {
  <span class="dt">int</span> cnt = <span class="dv">0</span>;

  s = scanWS(s);

  <span class="kw">while</span>(isCH(*s)) {
    cnt++;
    s = scanCH(s);
    s = scanWS(s);
  }
  <span class="kw">return</span> cnt;
}

<span class="co">// Implementierung 2</span>
<span class="co">// Direkte Umsetzung des Modells.</span>

<span class="dt">int</span> countWordsModell(<span class="dt">char</span>* s) {
  <span class="dt">int</span> state = <span class="dv">1</span>;
  <span class="dt">int</span> cnt = <span class="dv">0</span>;

  <span class="kw">while</span>(<span class="dv">1</span>) {
    <span class="kw">switch</span>(state) {
    <span class="kw">case</span> <span class="dv">1</span>:
       <span class="kw">if</span>(*s == ' ')
     state = <span class="dv">1</span>;
       <span class="kw">if</span>(*s == '\<span class="dv">0</span>')
     state = <span class="dv">2</span>;
       <span class="kw">if</span>(isCH(*s)) {
     cnt++;
     state = <span class="dv">3</span>;
       }
       <span class="kw">break</span>;
    <span class="kw">case</span> <span class="dv">2</span>:
      <span class="kw">return</span> cnt;              
    <span class="kw">case</span> <span class="dv">3</span>:
       <span class="kw">if</span>(*s == ' ')
     state = <span class="dv">1</span>;
       <span class="kw">if</span>(*s == '\<span class="dv">0</span>')
     state = <span class="dv">2</span>;
       <span class="kw">if</span>(isCH(*s))
     state = <span class="dv">3</span>;
       <span class="kw">break</span>;

    } <span class="co">// switch</span>

   s++; <span class="co">// next symbol</span>

  } <span class="co">// while</span>
}



<span class="dt">int</span> main() {

  <span class="co">// Write your own tests and use cases :)</span>
  
  <span class="kw">return</span> <span class="dv">1</span>;
}</code></pre></div>
</div>
<div id="strings---speicherverwaltung" class="slide section level1">
<h1>Strings - Speicherverwaltung</h1>
<p>Speicherveraltung (malloc/free) am Beispiel von strings.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include &lt;stdio.h&gt;</span>
<span class="ot">#include &lt;stdlib.h&gt;</span></code></pre></div>
<p><code>printf</code> ist Teil der <code>stdio</code> Bibliothek. <code>malloc</code> und <code>free</code> sind Teil der <code>stdlib</code> Bibliothek.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">char</span>* initString(<span class="dt">int</span> n) {
  <span class="dt">char</span>* p = malloc((n<span class="dv">+1</span>) * <span class="kw">sizeof</span>(<span class="dt">char</span>));
  <span class="dt">char</span>* q = p;
  <span class="dt">int</span> i;
  <span class="kw">for</span>(i = <span class="dv">0</span>; i &lt; n; i++, q++) {
    *q = ' ';
  }
  *q = '\<span class="dv">0</span>';

  <span class="kw">return</span> p;
}</code></pre></div>
<p>Die <code>initString</code> Funktion liefert einen String mit n Leerzeichen.</p>
<ul>
<li><p>Dazu werden n+1 Zeichen (char) mit Hilfe von `malloc' allokiert.</p></li>
<li><p>Die ersten n Stellen im String werden mit Leerzeichen beschrieben.</p></li>
<li><p>Wichtig ist die Nullterminierung (zur Kennzeichnung des Ende des Strings) mittels des Ascii-codes 0.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> len(<span class="dt">char</span>* s) {
  <span class="dt">int</span> i = <span class="dv">0</span>;
  <span class="kw">while</span>(*s != '\<span class="dv">0</span>') {
    s++;
    i++;
  }
  <span class="kw">return</span> i;
}</code></pre></div>
<p>Wir berechnen die Lnge eines Strings. Eine solche Funktion ist natrlich in der C Standard Bibliothek schon vorhanden. Zur bung schreiben wir unsere eigene `len' Funktion.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">char</span>* duplicateChars(<span class="dt">char</span>* s) {
  <span class="dt">int</span> i = len(s);
  <span class="dt">char</span>* t = initString(<span class="dv">2</span>*i);
  <span class="dt">char</span>* p = t;
  <span class="dt">char</span>* r = s;

  <span class="kw">while</span>(*s != '\<span class="dv">0</span>') {
    *p = *s;
    p++;
    *p = *s;
    p++;
    s++;

  }
  free(r);
  
  <span class="kw">return</span> t;
}</code></pre></div>
<p>Die <code>duplicateChars</code> Funktion dupliziert jedes Zeichen in einem String.</p>
<ul>
<li><p>Dazu wird ein String entsprechender Gre angelegt.</p></li>
<li><p>Wir iterieren ber den bestehenden String und kopieren jedes Zeichen zweimal.</p></li>
</ul>
<p>Beachte. Der bestehende String wird gelscht. D.h. der von dem String belegte Speicher wird freigegeben. Siehe den Aufruf <code>free(r)</code>.</p>
<p>Es folgt ein Anwendungsbeispiel.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> main() {
  <span class="dt">char</span>* s;
  <span class="dt">char</span>* t;

  s = initString(<span class="dv">3</span>);
  s[<span class="dv">0</span>] = '<span class="dv">1</span>';
  s[<span class="dv">1</span>] = '<span class="dv">2</span>';
  s[<span class="dv">2</span>] = '<span class="dv">3</span>';
  
  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st"> %s&quot;</span>, s);

  t = duplicateChars(s);
  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st"> %s&quot;</span>, t);
  
  <span class="kw">return</span> <span class="dv">1</span>;
}</code></pre></div>
<p>Der String &quot;123&quot; wird anglegt. Dann werden die Zeichen verdoppelt. Die zwei <code>printf</code> Ausgaben liefern.</p>
<pre><code>123
112233</code></pre>
<p>Beachte. Nach dem Aufruf <code>duplicateChars(s)</code> kann nicht mehr auf den String &quot;123&quot; dargestellt durch den Zeiger <code>s</code> zugegriffen werden, da dieser Speicher freigegeben wurde.</p>
<h2 id="beachte">Beachte</h2>
<p>Was passiert mit dem in <code>main</code> angelegten string <code>s</code>?</p>
<p>Dieser wird nicht mittels <code>free</code> freigeben! Wir haben dadurch ein Speicherleck.</p>
<h2 id="als-anhang-der-komplette-programmcode-1">Als Anhang der komplette Programmcode</h2>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include &lt;stdio.h&gt;</span>
<span class="ot">#include &lt;stdlib.h&gt;</span>


<span class="dt">char</span>* initString(<span class="dt">int</span> n) {
  <span class="dt">char</span>* p = malloc((n<span class="dv">+1</span>) * <span class="kw">sizeof</span>(<span class="dt">char</span>));
  <span class="dt">char</span>* q = p;
  <span class="dt">int</span> i;
  <span class="kw">for</span>(i = <span class="dv">0</span>; i &lt; n; i++, q++) {
    *q = ' ';
  }
  *q = '\<span class="dv">0</span>';

  <span class="kw">return</span> p;
}


<span class="dt">int</span> len(<span class="dt">char</span>* s) {
  <span class="dt">int</span> i = <span class="dv">0</span>;
  <span class="kw">while</span>(*s != '\<span class="dv">0</span>') {
    s++;
    i++;
  }
  <span class="kw">return</span> i;
}

<span class="dt">char</span>* duplicateChars(<span class="dt">char</span>* s) {
  <span class="dt">int</span> i = len(s);
  <span class="dt">char</span>* t = initString(<span class="dv">2</span>*i);
  <span class="dt">char</span>* p = t;
  <span class="dt">char</span>* r = s;

  <span class="kw">while</span>(*s != '\<span class="dv">0</span>') {
    *p = *s;
    p++;
    *p = *s;
    p++;
    s++;

  }
  free(r);
  
  <span class="kw">return</span> t;
}


<span class="dt">int</span> main() {
  <span class="dt">char</span>* s;
  <span class="dt">char</span>* t;

  s = initString(<span class="dv">3</span>);
  s[<span class="dv">0</span>] = '<span class="dv">1</span>';
  s[<span class="dv">1</span>] = '<span class="dv">2</span>';
  s[<span class="dv">2</span>] = '<span class="dv">3</span>';
  
  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st"> %s&quot;</span>, s);

  t = duplicateChars(s);
  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st"> %s&quot;</span>, t);
  
  <span class="kw">return</span> <span class="dv">1</span>;
}</code></pre></div>
</div>
<div id="speicherverwaltung-und-pointer-am-beispiel-von-fibonacci-c" class="slide section level1">
<h1>Speicherverwaltung und Pointer am Beispiel von Fibonacci (C)</h1>
<p>Explizite Speicherverwaltung und Pointer sind ``trickreiche'' C Themen Anhand eines erweiterten Beispiels sollen diesen Themen gebt werden. Als Beispiel betrachten wir Fibonacci.</p>
<p>Der komplette erarbeitete Source Code befindet sich im Anhang. Fragen und erweiterte Aufgaben befinden sich im Haupttext.</p>
<h2 id="fibonacci">Fibonacci</h2>
<p>In C kann die Fibonacci wie folgt ausgedrckt werden.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> fib(<span class="dt">int</span> n){
 <span class="dt">int</span> f1, f2;
 <span class="kw">if</span> (n&lt;=<span class="dv">1</span>) <span class="kw">return</span> <span class="dv">1</span>;
 f1=fib(n<span class="dv">-1</span>);
 f2=fib(n<span class="dv">-2</span>);
 <span class="kw">return</span> f1+f2;
}</code></pre></div>
<p>Was ergibt der Aufruf <code>fib(3)</code>?</p>
<p>Die Funktionsaufrufabfolge kann durch einen Stack simuliert werden. Das Laufzeitsystem benutzt einen Run-Time Stack zur Verwaltung von Funktionsaufrufen Dieser Run-Time Stack kann mittels Debugger beobachtet werden</p>
<p>Aufgabe: Setzen Sie geignete <code>break points</code> und verfolgen Sie die Berechung von <code>fib(3)</code>.</p>
<h2 id="run-time-stack">Run-Time Stack</h2>
<p>Der Speicherbereich bei der Ausfhrung des Programmes ist wie folgt aufgeteilt.</p>
<pre><code> CODE
 STATIC DATA
 STACK
 ...
 HEAP</code></pre>
<ul>
<li>CODE enthlt den bersetzten und gelinkten Source Code</li>
<li>STATIC DATA enthlt alle statischen Datenanteile</li>
<li>STACK ist der Speicherbereich fr lokale Daten (Variablen definiert in Funktionen, Funktionsparameter und der Rckgabewerte)</li>
<li>HEAP ist der Speicherbereich fr dynamische Daten, die explizt vom Programm allokiert werden</li>
<li>STACK und HEAP befinden sich in der Regel an gegenseitigen Enden des Speicherbereichs (wo genau hngt von Compiler/Platform ab). Beide Bereiche wachsen und schrumpfen zur Laufzeit.</li>
</ul>
<h2 id="speicheradressen-und-run-time-stack">Speicheradressen und Run-Time Stack</h2>
<p>Folgende Variante der Fibonacci Implementierung, erlaubt es uns zu beobachten an welchem Ende des Speichers sich der Stack befindet.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> fib2(<span class="dt">int</span> n) {
 <span class="dt">int</span> f1, f2;
 <span class="dt">int</span>* nPtr;
 printf(<span class="st">&quot;fib2(%d)</span><span class="ch">\n</span><span class="st">&quot;</span>,n);
 nPtr = &amp;n;
 printf(<span class="st">&quot;&amp;n = %ld </span><span class="ch">\n</span><span class="st">&quot;</span>,(<span class="dt">long</span> <span class="dt">int</span>)nPtr);
 <span class="kw">if</span> (n&lt;=<span class="dv">1</span>) <span class="kw">return</span> <span class="dv">1</span>;
 f1=fib2(n<span class="dv">-1</span>);
 f2=fib2(n<span class="dv">-2</span>);
 <span class="kw">return</span> f1+f2;
}</code></pre></div>
<ul>
<li><code>&amp;n</code> liefert Adresse der Variable <code>n</code></li>
<li>Dargestellt durch Pointer auf einen <code>int</code> Wert.</li>
<li>Zur Ausgabe wird der Pointer in einen <code>long int</code> Wert gecastet</li>
</ul>
<h2 id="nochmal-ausfhrung-von-fibonacci">Nochmal Ausfhrung von Fibonacci</h2>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> fib(<span class="dt">int</span> n){
 <span class="dt">int</span> f1, f2;
 <span class="kw">if</span> (n&lt;=<span class="dv">1</span>) <span class="kw">return</span> <span class="dv">1</span>;
 f1=fib(n<span class="dv">-1</span>);
 f2=fib(n<span class="dv">-2</span>);
 <span class="kw">return</span> f1+f2;
}</code></pre></div>
<pre><code> fib(4) -&gt; fib(3)  -&gt; fib(2)  -&gt; fib(1)
                              -&gt; fib(0)
                   -&gt; fib(1)
        -&gt; fib(2)  -&gt; fib(1)
                   -&gt; fib(0)</code></pre>
<ul>
<li>Was fllt auf?</li>
<li>Mehrfache Berechnung von z.B. <code>fib(2)</code></li>
<li>Idee:
<ul>
<li>Speichere Wert beim ersten Aufruf</li>
<li>Bei nochmaligen Aufruf fhre ein &quot;look-up&quot; durch</li>
</ul></li>
<li>Vorteil: Erspannte mehrfache Berechnungen die zum gleichen Ergebnis fhren</li>
<li>Diese Technik ist auch bekannt als <em>dynamische Programmierung</em></li>
<li>Optimierung von Fibonacci durch Speicherung bereits berechneter Ergebnisse</li>
</ul>
<h3 id="reine-funktionen"><em>Reine</em> Funktionen</h3>
<p>Funktion <code>fib</code> ist ein Beispiel einer <em>reinen</em> Funktion (auch <em>Referenz</em> transparent genannt, auf English <em>pure/referentially transparent function</em>). Eine reine Funktion liefert fr jeden Aufruf bei gleicher Eingabe das gleiche Ergebnis. Im allgemeinen gilt dies fr Funktionen in C nicht. Betrachte eine Funktion, deren Berechnung von einer globalen oder statischen Variablen abhngt.</p>
<h2 id="fibonacci-array">Fibonacci Array</h2>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="kw">enum</span>  Status {
  Full=<span class="dv">0</span>,
  Empty=<span class="dv">1</span>
};
<span class="kw">struct</span> Fib {
  <span class="dt">int</span> fib;
  <span class="kw">enum</span> Status status;
};
<span class="kw">struct</span> Fib fibArr[<span class="dv">100</span>];</code></pre></div>
<p>Das Fibonacci Array dient zur Speicherung der ersten 100 Werte von Fibonacci.</p>
<ul>
<li>Wir benutzen ein enum um zu signaliseren, ob der Wert schon berechnet wurde.</li>
</ul>
<p>Der Zugriff darauf geschieht via zweier Operationen:</p>
<ul>
<li>Speicheren einen berechnten Wert.</li>
<li>Lookup eines Wertes.</li>
</ul>
<p>Es folgt eine Implementierungsskizze beider Operationnen.</p>
<ul>
<li>Speichere Wert <code>fib(n) = x</code>:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">  fibArr[n].fib = x;
  fibArr[n].status = Full;</code></pre></div>
<ul>
<li>Lookup <code>fib(n)</code>:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">  <span class="kw">if</span> (fibArr[n].status == Full) 
     <span class="kw">return</span> fibArr[n].fib;
  <span class="kw">else</span>
     <span class="kw">return</span> fib(n);</code></pre></div>
<p>Aufgabe: Was fehlt in der Implementierungsskizze? (Hinweis: Die Lnge des Fibonacci Arrays ist begrenzt)</p>
<h2 id="array-versus-pointer">Array versus Pointer</h2>
<p>Wir wiederholen die Definition des Fibonacci Arrays und fgen eine Typdefinition hinzu.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="kw">enum</span>  Status {
  Full=<span class="dv">0</span>,
  Empty=<span class="dv">1</span>
};
<span class="kw">struct</span> Fib {
  <span class="dt">int</span> fib;
  <span class="kw">enum</span> Status status;
};
<span class="kw">struct</span> Fib fibArr[<span class="dv">100</span>];
<span class="kw">typedef</span> <span class="kw">struct</span> Fib* FibPtr;</code></pre></div>
<p>Der Typ <code>FibPtr</code> beschreibt einen Zeiger auf die Struktur <code>Fib</code>. Beachte:</p>
<ul>
<li>Der Name jedes Arrays stellt einen konstanten Zeiger auf das erste Arrayelement dar.</li>
<li>Deshalb zeigt <code>fibArr</code> auf das erste Element in dem Array von 100 Element vom Typ der Struktur <code>Fib</code>.</li>
<li>Effektiv ist <code>fibArr</code> ein Pointer vom Typ <code>FibPtr</code>.</li>
</ul>
<p>Als nchstes gehen wir die Optimierung von Fibonacci mit Hilfe des Fibonacci Arrays an.</p>
<h2 id="ausgabe-fibonacci-array">Ausgabe Fibonacci Array</h2>
<p>Zuerst definieren wir eine Hilfsfunktion, die es uns erlaubt die einzelnen Elemente des Fibonacci Arrays auszugeben. Der erste Parameter ist ein Zeiger auf das erste Element und der zweite Parameter beschreibt die Lnge des Arrays. Aktuell gehen wir von 100 Elementen aus, das kann sich ja aber auch ndern.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> printFibArray(FibPtr f, <span class="dt">int</span> len) {
  <span class="dt">int</span> i;
  
  <span class="kw">for</span>(i=<span class="dv">0</span>; i&lt;len; i++) {
    printf(<span class="st">&quot;fib[%d]=&quot;</span>,i);
    <span class="kw">if</span>(f[i].status == Empty) {
      printf(<span class="st">&quot;Empty</span><span class="ch">\n</span><span class="st">&quot;</span>);
    }
    <span class="kw">else</span> {
      printf(<span class="st">&quot;%d</span><span class="ch">\n</span><span class="st">&quot;</span>,f[i].fib);
    }
  }
}</code></pre></div>
<p>Aufgabe: Durch falsche Anwendung ist der Parameter <code>f</code> mglicherweise gleich dem NULL Zeiger. Fge Sie eine Abfrage ein, die einen Zugriff auf NULL ausschliesst.</p>
<h2 id="allokation-des-fibonacci-arrays">Allokation des Fibonacci Arrays</h2>
<p>Wir allokieren ein Fibonacci Array von variabler Lnge.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">FibPtr allocFibArray(<span class="dt">int</span> len) {
  FibPtr f, f2;
  <span class="dt">int</span> i;
  f = malloc(<span class="kw">sizeof</span>(<span class="kw">struct</span> Fib) * len);
  f2 = f;
  <span class="kw">for</span>(i = <span class="dv">0</span>, f2 = f; i &lt; len; i++,f2++) {
    f2-&gt;status = Empty;
  }
  <span class="kw">return</span> f;
};

<span class="co">// Anstatt return, Uebergebe pointer</span>
<span class="dt">void</span> allocFibArray2(<span class="dt">int</span> len, FibPtr* f) {
  *f = allocFibArray(len);
}</code></pre></div>
<ul>
<li><p>In der ersten Variante wir das allokierte Fibonacci Array als Rckgabewert geliefert. Genau genau erhalten wir als Rckgabewert einen Zeiger auf das erste Element.</p></li>
<li><p>Alternativ kann als Argument ein Speicherbereich fr den Rckgabewert bereitgestellt werden.</p></li>
<li><p>In der zweiten Variante, erhalten wir als Argument einen Zeiger auf <code>FibPtr</code>. Der Wert auf den der Zeiger zeigt wird gleich dem Zeiger auf das erste Element des Fibonacci Arrays gesetzt.</p></li>
<li><p>Beide Varianten sind gleichwertig. Es ist eine Frage des Geschmacks/Stils, ob man Rckgabewerte verwendet oder diese via Zeiger als Argument bergibt.</p></li>
</ul>
<p>Aufgaben:</p>
<ul>
<li>Was ist das Problem mit folgender Variante?</li>
</ul>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">void</span> allocFibArray2(<span class="dt">int</span> len, FibPtr f)</code></pre></div>
<ul>
<li><p>In obiger Implementierung gehen wir davon aus, dass immer gengend Speicher vorhanden ist. Sprich der <code>malloc</code> Aufruf liefert uns den angeforderten Speicher.</p>
<ul>
<li>Was knnte passieren im Falle von Speichermangel?</li>
<li>Skizzieren Sie eine Erweiterung von <code>allocFibArray</code> die Speichermangel abfngt.</li>
</ul></li>
</ul>
<h2 id="fibonacci-und-dynamische-programmierung">Fibonacci und dynamische Programmierung</h2>
<p>Wir gehen davon aus, dass ein Fiboncacci Array fester Gre gegeben ist. Zur Strukturierung verwenden wir eine Struktur, die die Arraylnge und den Zeiger auf das erste Arrayelement enthlt.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="kw">struct</span> FibArray {
  FibPtr f;
  <span class="dt">int</span> len;
};</code></pre></div>
<p>Es folgt der Source Code von Fibonacci mit dynamischer Programmierung. Erklrungen finden sich im Anschluss.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> fib3(<span class="kw">struct</span> FibArray fa, <span class="dt">int</span> n){
  <span class="dt">int</span> f1, f2, fib;

 <span class="kw">if</span> (n &lt;= <span class="dv">0</span>) <span class="kw">return</span> <span class="dv">1</span>;

 <span class="co">// Lookup </span>
 <span class="kw">if</span>(n &lt; fa.len) {
   <span class="kw">if</span>(fa.f[n].status == Full) {
     <span class="kw">return</span> fa.f[n].fib;
   }
 }

 <span class="co">// Berechne fib</span>
 <span class="kw">if</span> (n&lt;=<span class="dv">1</span>) { 
   fib = <span class="dv">1</span>;
 }
 <span class="kw">else</span> {
    f1=fib3(fa,n<span class="dv">-1</span>);
    f2=fib3(fa,n<span class="dv">-2</span>);
    fib = f1 + f2;
 }

 <span class="co">// Speichere fib Wert</span>
 <span class="kw">if</span>(n &lt; fa.len) {
   <span class="kw">if</span>(fa.f[n].status == Empty) { <span class="co">// Redundant?</span>
     fa.f[n].status = Full;
     fa.f[n].fib = fib; 
   }
 }
 <span class="kw">return</span> fib;
}</code></pre></div>
<ul>
<li><p>Lookup falls schon berechet und Index innerhalb der gegebenen Arraygrenze lieft.</p></li>
<li>Berechne fib, falls
<ul>
<li>erste Berechnung, oder</li>
<li>Index ausserhalb Grenze liegt</li>
</ul></li>
<li><p>Speichere Wert, falls Index innerhalb Grenzen liegt.</p></li>
</ul>
<p>Aufgabe: Erklren Sie wieso die <code>Redundant</code> markiert Stelle berflssig ist. (Erklrung findet sich im Anhang)</p>
<h2 id="dynamische-erweiterung-des-fibonacci-array">Dynamische Erweiterung des Fibonacci Array</h2>
<p>Aufgabe: Implementieren Sie eine Variante, die eine dynamische Anpassung des Fibonacci Arrays erlaubt.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> fib4(<span class="kw">struct</span> FibArray* fa, <span class="dt">int</span> n);</code></pre></div>
<p><code>fa</code> wird nun als Pointer bergeben, so knnen wir von aussen Lngenanpassungen sehen.</p>
<p>Eine Implementierung von <code>fib4</code> findet sich im Anhang.</p>
<h2 id="zusammenfassung">Zusammenfassung</h2>
<p>Wir haben den Umgang mit Arrays, Pointer und manueller Speicherverwaltung am Beispiel von Fibonacci und dynamischer Programmierung gebt.</p>
<h2 id="anhang-kompletter-source-code">Anhang: Kompletter Source Code</h2>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include &quot;stdio.h&quot;</span>
<span class="ot">#include &quot;stdlib.h&quot;</span>

<span class="co">// Standard Fibonacci</span>
<span class="dt">int</span> fib(<span class="dt">int</span> n){
 <span class="dt">int</span> f1, f2;
 printf(<span class="st">&quot;fib(%d)</span><span class="ch">\n</span><span class="st">&quot;</span>,n);
 <span class="kw">if</span> (n&lt;=<span class="dv">1</span>) <span class="kw">return</span> <span class="dv">1</span>;
 f1=fib(n<span class="dv">-1</span>);
 f2=fib(n<span class="dv">-2</span>);
 <span class="kw">return</span> f1+f2;
}

<span class="co">// Standard Fibonacci</span>
<span class="co">// and print n's memory location</span>
<span class="dt">int</span> fib2(<span class="dt">int</span> n) {
 <span class="dt">int</span> f1, f2;
 <span class="dt">int</span>* nPtr;
 printf(<span class="st">&quot;fib2(%d)</span><span class="ch">\n</span><span class="st">&quot;</span>,n);
 nPtr = &amp;n;
 printf(<span class="st">&quot;&amp;n = %ld </span><span class="ch">\n</span><span class="st">&quot;</span>,(<span class="dt">long</span> <span class="dt">int</span>)nPtr);
 <span class="kw">if</span> (n&lt;=<span class="dv">1</span>) <span class="kw">return</span> <span class="dv">1</span>;
 f1=fib2(n<span class="dv">-1</span>);
 f2=fib2(n<span class="dv">-2</span>);
 <span class="kw">return</span> f1+f2;
}

<span class="kw">enum</span>  Status {
  Full=<span class="dv">0</span>,
  Empty=<span class="dv">1</span>
};

<span class="kw">struct</span> Fib {
  <span class="dt">int</span> fib;
  <span class="kw">enum</span> Status status;
};

<span class="kw">struct</span> Fib fibArr[<span class="dv">100</span>];

<span class="kw">typedef</span> <span class="kw">struct</span> Fib* FibPtr;

<span class="dt">void</span> printFibArray(FibPtr f, <span class="dt">int</span> len) {
  <span class="dt">int</span> i;
  
  <span class="kw">for</span>(i=<span class="dv">0</span>; i&lt;len; i++) {
    printf(<span class="st">&quot;fib[%d]=&quot;</span>,i);
    <span class="kw">if</span>(f[i].status == Empty) {
      printf(<span class="st">&quot;Empty</span><span class="ch">\n</span><span class="st">&quot;</span>);
    }
    <span class="kw">else</span> {
      printf(<span class="st">&quot;%d</span><span class="ch">\n</span><span class="st">&quot;</span>,f[i].fib);
    }
  }
}

FibPtr allocFibArray(<span class="dt">int</span> len) {
  FibPtr f, f2;
  <span class="dt">int</span> i;

  f = malloc(<span class="kw">sizeof</span>(<span class="kw">struct</span> Fib) * len);

  f2 = f;
  <span class="kw">for</span>(i = <span class="dv">0</span>, f2 = f; i &lt; len; i++,f2++) {
    f2-&gt;status = Empty;
  }

  <span class="kw">return</span> f;
};

<span class="co">// Variante: Pointer auf zu allokierenden Speicherbereich</span>
<span class="co">// wird als Argument uebergeben. Deshalb Uebergabe als</span>
<span class="co">// 'Referenz' =&gt; pointer of pointer</span>
<span class="dt">void</span> allocFibArray2(<span class="dt">int</span> len, FibPtr* f) {
  *f = allocFibArray(len);
}

<span class="kw">struct</span> FibArray {
  FibPtr f;
  <span class="dt">int</span> len;
};

<span class="co">// Fibonacci und dynamische Programmierung</span>
<span class="dt">int</span> fib3(<span class="kw">struct</span> FibArray fa, <span class="dt">int</span> n){
  <span class="dt">int</span> f1, f2, fib;

 <span class="kw">if</span> (n &lt;= <span class="dv">0</span>) <span class="kw">return</span> <span class="dv">1</span>;

 <span class="co">// Lookup falls schon berechnet</span>
 <span class="co">// und Index innerhalb Grenzen ist</span>
 <span class="kw">if</span>(n &lt; fa.len) {
   <span class="kw">if</span>(fa.f[n].status == Full) {
     <span class="kw">return</span> fa.f[n].fib;
   }
 }

 <span class="co">// Berechne fib, weil</span>
 <span class="co">// (a) erste Berechnung, oder</span>
 <span class="co">// (b) Index ausserhalb Grenzen ist</span>
 <span class="kw">if</span> (n&lt;=<span class="dv">1</span>) { 
   fib = <span class="dv">1</span>;
 }
 <span class="kw">else</span> {
    f1=fib3(fa,n<span class="dv">-1</span>);
    f2=fib3(fa,n<span class="dv">-2</span>);
    fib = f1 + f2;
 }

 <span class="co">// Set fib Wert, falls Index innerhalb Grenzen ist</span>
 <span class="kw">if</span>(n &lt; fa.len) {
   <span class="kw">if</span>(fa.f[n].status == Empty) { <span class="co">// Redundant?</span>
     fa.f[n].status = Full;
     fa.f[n].fib = fib; 
   }
 }
 <span class="kw">return</span> fib;
}


<span class="co">// Redundant, weil falls nicht Empty =&gt; Full,</span>
<span class="co">// aber dann haetten wir ja schon einen lookup</span>
<span class="co">// durchgefuehrt und hatten den gespeicherten fib Wert</span>
<span class="co">// zurueckgegeben. Also, muss der status hier immer Empty sein.</span>



<span class="co">// Fibonacci und dynamische Programmierung</span>
<span class="co">// mit dynamischer Anpassung von fa.</span>
<span class="co">// Pointer auf FibArray, so dass wir Laengenaenderung</span>
<span class="co">// von 'aussen' beobachten koennen.</span>
<span class="dt">int</span> fib4(<span class="kw">struct</span> FibArray* fa, <span class="dt">int</span> n){
  <span class="dt">int</span> f1, f2, fib;

 <span class="kw">if</span> (n &lt;= <span class="dv">0</span>) <span class="kw">return</span> <span class="dv">1</span>;

 <span class="kw">if</span>(n &lt; fa-&gt;len) {
   <span class="kw">if</span>(fa-&gt;f[n].status == Full) {
     <span class="kw">return</span> fa-&gt;f[n].fib;
   }
 }
 <span class="co">// Dynamische Anpassung durch Verdopplung</span>
 <span class="co">// (1) Allokieren neuen Speicherbereich</span>
 <span class="co">// (2) Kopiere 'alt' nach 'neu'</span>
 <span class="co">// (3) Gebe 'alt' frei</span>
 <span class="kw">else</span> {
  FibPtr fPtr;
  <span class="dt">int</span> i;
  fPtr = allocFibArray(fa-&gt;len * <span class="dv">2</span>);    <span class="co">// (1)</span>
  <span class="kw">for</span>(i=<span class="dv">0</span>; i &lt; fa-&gt;len; i++)            <span class="co">// (2)</span>
              fPtr[i] = fa-&gt;f[i];        
  free(fa-&gt;f);                          <span class="co">// (3)</span>
  fa-&gt;f = fPtr;
  fa-&gt;len = fa-&gt;len * <span class="dv">2</span>;
 }

 <span class="kw">if</span> (n&lt;=<span class="dv">1</span>) { 
   fib = <span class="dv">1</span>;
 }
 <span class="kw">else</span> {
    f1=fib4(fa,n<span class="dv">-1</span>);
    f2=fib4(fa,n<span class="dv">-2</span>);
    fib = f1 + f2;
 }

 <span class="kw">if</span>(n &lt; fa-&gt;len) {
   <span class="kw">if</span>(fa-&gt;f[n].status == Empty) { <span class="co">// Immer noch redundant?</span>
     fa-&gt;f[n].status = Full;
     fa-&gt;f[n].fib = fib; 
   }
 }
 <span class="kw">return</span> fib;
}
<span class="co">// if(fa-&gt;f[n].status == Empty) ist redundant</span>
<span class="co">// aber NICHT if(n &lt; fa-&gt;len),</span>
<span class="co">// wir haben keine Garantie dass der erweiterte Bereich</span>
<span class="co">// gross genug ist!</span>

<span class="co">// Mittels defines Auswahl der jeweiligen Version</span>
<span class="co">// #define STANDARD_FIB</span>
<span class="co">// #define FIB_MEM_LOC</span>
<span class="co">// #define FIB_DYN</span>
<span class="ot">#define FIB_DYN_DYN</span>

<span class="dt">int</span> main() {

<span class="ot">#ifdef STANDARD_FIB</span>

  printf(<span class="st">&quot;fib(%d) = %d </span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dv">4</span>,fib(<span class="dv">4</span>));

<span class="ot">#endif</span>

<span class="ot">#ifdef FIB_MEM_LOC</span>

  printf(<span class="st">&quot;fib2(%d) = %d </span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dv">4</span>,fib2(<span class="dv">4</span>));

<span class="ot">#endif</span>


<span class="ot">#ifdef FIB_DYN</span>

  FibPtr f;
  <span class="kw">struct</span> FibArray fa;
  <span class="dt">int</span> len;

  len = <span class="dv">9</span>;

  allocFibArray2(len,&amp;f);
  printFibArray(f,len);

  fa.len = len;
  fa.f = f;

  fib3(fa,len<span class="dv">+1</span>);

  printFibArray(fa.f,fa.len);

<span class="ot">#endif</span>



<span class="ot">#ifdef FIB_DYN_DYN</span>

  FibPtr f;
  <span class="kw">struct</span> FibArray fa;
  <span class="dt">int</span> len;

  len = <span class="dv">9</span>;

  allocFibArray2(len,&amp;f);
  printFibArray(f,len);

  fa.len = len;
  fa.f = f;

  fib4(&amp;fa,len*<span class="dv">3</span>);

  printFibArray(fa.f,fa.len);

<span class="ot">#endif</span>

  <span class="kw">return</span> <span class="dv">1</span>;
}</code></pre></div>
</div>
<div id="erweiterbarer-testrahmen-c-virtuelle-methoden" class="slide section level1">
<h1>Erweiterbarer Testrahmen (C++ virtuelle Methoden)</h1>
<p>Wir betrachten eine Verallgemeinerung unseres Testrahmens.</p>
<h2 id="abstrakte-testklasse">Abstrakte Testklasse</h2>
<p>Zuerst kapseln den allgemeinen Testfall in einer abstrakten Klasse.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">typedef</span> <span class="kw">enum</span> {
  OK,
  FAIL
} TestResult;


<span class="kw">class</span> TestCase {
  <span class="kw">public</span>:

  <span class="kw">virtual</span> TestResult execute() = <span class="dv">0</span>;

};</code></pre></div>
<h2 id="generische-testausfhrung">Generische Testausfhrung</h2>
<p>Die Testausfhrung kann dann generisch beschrieben werden.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">void</span> runTests(<span class="dt">int</span> no, TestCase* test[]) {
  TestResult t;
  <span class="dt">int</span> i;

  <span class="kw">for</span>(i=<span class="dv">0</span>; i &lt; no; i++) {
    cout &lt;&lt; <span class="st">&quot;Test &quot;</span> &lt;&lt; i &lt;&lt; <span class="st">&quot; &quot;</span>; 
    t = test[i]-&gt;execute();
    <span class="kw">if</span>(OK == t)
      cout &lt;&lt; <span class="st">&quot;OK</span><span class="ch">\n</span><span class="st">&quot;</span>;
    <span class="kw">if</span>(FAIL == t)
      cout &lt;&lt; <span class="st">&quot;FAIL</span><span class="ch">\n</span><span class="st">&quot;</span>;
  }
}</code></pre></div>
<p>Beachte: Virtuelle Methoden verlangen einen dynamischen Zeigertyp.</p>
<h2 id="spezielle-testinstanz">Spezielle Testinstanz</h2>
<p>Wir knnen uns dann eine spezielle Testinstanz als Erweiterung der abstrakten Testklasse bauen.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">class</span> TestCount : <span class="kw">public</span> TestCase {
  <span class="dt">char</span>* input;
  <span class="dt">int</span> expected;
 <span class="kw">public</span>:
  TestCount(<span class="dt">char</span>* input_, <span class="dt">int</span> expected_) {
    input = input_; expected = expected_; }

  TestResult execute() {
     <span class="kw">if</span>(expected == count(input)) 
        <span class="kw">return</span> OK;
     <span class="kw">return</span> FAIL;
  }

};</code></pre></div>
<h2 id="als-anhang-der-komplette-programmcode-2">Als Anhang der komplette Programmcode</h2>
<p>Beachte: Wir bekommen die Warnung</p>
<pre><code>warning: deprecated conversion from string constant to char*</code></pre>
<p>Korrekterweise sollten wir entweder <code>string</code> bentzen oder casten. Beides wurde hier der Einfachheithalber nicht gemacht.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="ot">#include &lt;iostream&gt;</span>
<span class="kw">using</span> <span class="kw">namespace</span> std;


<span class="co">// Generischer Testrahmen</span>

<span class="kw">typedef</span> <span class="kw">enum</span> {
  OK,
  FAIL
} TestResult;


<span class="kw">class</span> TestCase {
  <span class="kw">public</span>:

  <span class="kw">virtual</span> TestResult execute() = <span class="dv">0</span>;

};

<span class="dt">void</span> runTests(<span class="dt">int</span> no, TestCase* test[]) {
  TestResult t;
  <span class="dt">int</span> i;

  <span class="kw">for</span>(i=<span class="dv">0</span>; i &lt; no; i++) {
    cout &lt;&lt; <span class="st">&quot;Test &quot;</span> &lt;&lt; i &lt;&lt; <span class="st">&quot; &quot;</span>; 
    t = test[i]-&gt;execute();
    <span class="kw">if</span>(OK == t)
      cout &lt;&lt; <span class="st">&quot;OK</span><span class="ch">\n</span><span class="st">&quot;</span>;
    <span class="kw">if</span>(FAIL == t)
      cout &lt;&lt; <span class="st">&quot;FAIL</span><span class="ch">\n</span><span class="st">&quot;</span>;
  }
}

<span class="co">// Count Implementierung</span>

<span class="dt">char</span>* leerzeichen(<span class="dt">char</span>* input) {
  <span class="kw">while</span>(*input == <span class="st">' '</span>) 
    input++;
  <span class="kw">return</span> input;
}

<span class="dt">char</span>* zeichen(<span class="dt">char</span>* input) {
  <span class="kw">while</span>(*input != <span class="st">'</span><span class="ch">\0</span><span class="st">'</span> &amp;&amp; *input != <span class="st">' '</span>) 
    input++;
  <span class="kw">return</span> input;
}

<span class="dt">int</span> count(<span class="dt">char</span>* input) {
  <span class="dt">int</span> cnt = <span class="dv">0</span>;

  <span class="kw">while</span>(*input != <span class="st">'</span><span class="ch">\0</span><span class="st">'</span>) {
    input = leerzeichen(input);    
    <span class="kw">if</span>(*input != <span class="st">'</span><span class="ch">\0</span><span class="st">'</span>) {
      cnt++;
      input = zeichen(input);
    }
  }
  <span class="kw">return</span> cnt;
}

<span class="co">// Count Test Erweiterung</span>

<span class="kw">class</span> TestCount : <span class="kw">public</span> TestCase {
  <span class="dt">char</span>* input;
  <span class="dt">int</span> expected;
 <span class="kw">public</span>:
  TestCount(<span class="dt">char</span>* input_, <span class="dt">int</span> expected_) {
    input = input_; expected = expected_; }

  TestResult execute() {
     <span class="kw">if</span>(expected == count(input)) 
        <span class="kw">return</span> OK;
     <span class="kw">return</span> FAIL;
  }

};


<span class="dt">int</span> main() {

  <span class="co">// Count Testfaelle</span>

 <span class="dt">const</span> <span class="dt">int</span> testNo = <span class="dv">9</span>;
  TestCase* tests[<span class="dv">9</span>] = { 
    <span class="kw">new</span> TestCount(<span class="st">&quot;&quot;</span>,<span class="dv">0</span>),
    <span class="kw">new</span> TestCount(<span class="st">&quot;Hallo&quot;</span>, <span class="dv">1</span>),
    <span class="kw">new</span> TestCount(<span class="st">&quot;  Hallo&quot;</span>, <span class="dv">1</span>),
    <span class="kw">new</span> TestCount(<span class="st">&quot;Hallo&quot;</span>, <span class="dv">1</span>),
    <span class="kw">new</span> TestCount(<span class="st">&quot;  Hallo  &quot;</span>, <span class="dv">1</span>),
    <span class="kw">new</span> TestCount(<span class="st">&quot;Hal lo&quot;</span>, <span class="dv">2</span>),  
    <span class="kw">new</span> TestCount(<span class="st">&quot; Hal lo&quot;</span>, <span class="dv">2</span>),  
    <span class="kw">new</span> TestCount(<span class="st">&quot;Hal lo &quot;</span>, <span class="dv">2</span>),  
    <span class="kw">new</span> TestCount(<span class="st">&quot; Hal lo  &quot;</span>, <span class="dv">2</span>)  
  };

  runTests(testNo,tests);


}</code></pre></div>
</div>
<div id="regulre-ausdrcke-und-automaten-c" class="slide section level1">
<h1>Regulre Ausdrcke und Automaten (C++)</h1>
<p>Diese Aufgabe besteht aus folgenden Teilen:</p>
<ol style="list-style-type: decimal">
<li><p>Vereinfachung regulrer Ausdrcke</p></li>
<li><p>Transformation Regulrer Ausdrcke in endliche Automaten</p></li>
<li><p>Ausfhrung des endlichen Automaten</p></li>
</ol>
<p>Teile der Aufgabe sind schon vorgegeben. Siehe Files <code>RE.h</code> und <code>FSA.h</code>. Ihre Aufgabe ist es, die fehlenden Teile zu vervollstndigen. Die Grundgerste der einzelnen Teilaufgaben finden Sie im ilias.</p>
<h2 id="regulre-ausdrcke">Regulre Ausdrcke</h2>
<p>In der theoretischen Informatik haben sie schon regulre Ausdrcke kennengelernt. Mittels regulrer Ausdrcke lassen sich regulre Sprache beschreiben, wobei eine Sprache aus einer Menge von Wrtern besteht. Jedes Wort besteht aus einer endlichen Anzahl von Zeichen. In unserem Fall stellen wir Zeichen als <code>char</code> dar. Deshalb sind Wrter nichts anderes als Strings.</p>
<p>Wir betrachten folgende syntaktischen Konstrukte:</p>
<ul>
<li><code>eps</code> -- &quot;Epsilon&quot; der leere String</li>
<li><code>phi</code> -- &quot;Phi&quot; die leere Sprache</li>
<li><code>c</code> -- das Zeichen <code>c</code></li>
<li><code>r1 + r2</code> -- Alternative zwischen <code>r1</code> und <code>r2</code>
<ul>
<li>Auch geschrieben als <code>r1 | r2</code></li>
</ul></li>
<li><code>r1 r2</code> -- Verkettung/Konkatenation von <code>r1</code> mit <code>r2</code></li>
<li><code>r*</code> -- Kleenesche Hlle, entweder leerer String oder beliebige Verkettung von <code>r</code></li>
</ul>
<p>Die Sprache <code>L(r)</code> beschrieben durch den regulren Ausdruck <code>r</code> ist definiert wie folgt:</p>
<ul>
<li><code>L(phi) = {}</code></li>
<li><code>L(eps) = { eps }</code></li>
<li><code>L(c) = { c }</code></li>
<li><code>L(r1 + r2) = { w | w in L(r1) oder w in L(r2) }</code></li>
<li><code>L(r1 r2) = { w1 w2 | w1 in L(r1) und w2 in L(r2) }</code></li>
<li><code>L(r*) = { w | w = eps oder w=w1 ... wn jedes wi in  L(r)  }</code></li>
</ul>
<p>Im ersten Schritt bilden wir die Syntax von regulren Ausdrcken nach C++ ab. Dazu verwenden wir Vererbung.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">class RE {};
class Phi : public RE {};
class Eps : public RE {};
class Ch : public RE {
 private:
  <span class="dt">char</span> c;
 public:
  Ch (<span class="dt">char</span> _c) { c = _c; }
};
class Alt : public RE {
 private:
  RE* r1;
  RE* r2;
 public:
  Alt (RE* _r1, RE* _r2) { r1 = _r1; r2 = _r2; }
};
class Conc : public RE {
 private:
  RE* r1;
  RE* r2;
 public:
  Conc (RE* _r1, RE* _r2) { r1 = _r1; r2 = _r2; }
};
class Star : public RE {
 private:
  RE* r;
 public:
  Star (RE* _r) { r = _r; }
};</code></pre></div>
<p>Z.B. die abgeleitete Klasse <code>Alt</code> reprsentiert die Alternativen zwischen zwei regulren Ausdrcken. Die Alternativen werden als private Instanzvariablen <code>r1</code> und <code>r2</code> gespeichert. Beides sind Zeiger weil, wie wir noch sehen werden, wir virtuelle Methoden auf der Basisklassen und den Ableitungen definieren werden. Der <code>Alt</code> Konstruktor bekommt als Argument zwei regulre Ausdrcke in C++ Reprsentation und initialisiert die Instanzvariablen.</p>
<h2 id="standard-methoden-auf-regulren-ausdrcken">Standard Methoden auf Regulren Ausdrcken</h2>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">class RE {
 public:
  virtual REType ofType()=<span class="dv">0</span>;
  virtual string pretty()=<span class="dv">0</span>;
  virtual bool containsEps()=<span class="dv">0</span>;
};</code></pre></div>
<p><code>ofType</code> liefert einen enum Wert, der die Art des regulren Ausdrucks kennzeichnet. <code>pretty</code> ist eine &quot;pretty print&quot; Methode, die den regulren Ausdruck in einen String bersetzt. <code>containsEps</code> liefert <code>true</code> falls in der Sprache, die vom dem regulre Ausdruck beschrieben wird, sich der leere String befindet.</p>
<p>Obige virtuelle Methoden sind schon fr die abgeleiteten Klassen definiert. Zur Lsung der Aufgaben drfen Sie weitere (virtuelle) Methoden zur Klasse <code>RE</code> hinzufgen.</p>
<p>Als Beispiel der Definition der virtuellen Methoden, betrachten wir die abgeleitete Klasse <code>Alt</code>.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="kw">enum</span> REType {
  PhiType, EpsType, ChType,
  AltType, ConcType, StarType };

class Alt : public RE {
 private:
  RE* r1;
  RE* r2;
 public:
  Alt (RE* _r1, RE* _r2) { r1 = _r1; r2 = _r2; }
  REType ofType() { <span class="kw">return</span> AltType; }
  string pretty() {
    string s(<span class="st">&quot;(&quot;</span>);
    s.append(r1-&gt;pretty());
    s.append(<span class="st">&quot;+&quot;</span>);
    s.append(r2-&gt;pretty());
    s.append(<span class="st">&quot;)&quot;</span>);
    <span class="kw">return</span> s;
  }
  bool containsEps() { 
    <span class="kw">return</span> (r1-&gt;containsEps() || r2-&gt;containsEps());
  }
};</code></pre></div>
<p>Die Syntax von regulren Ausdrcken ist fest vorgegeben. Sprich fr die Klasse <code>RE</code> gibt es keine weiteren Ableitungen, ausser den oben beschriebenen. Deshalb benutzen wir einen enum, wobei die Tags des enums jede Ableitung der Klasse <code>RE</code> beschreiben. Z.B. <code>AltType</code> beschreibt <code>Alt</code>, <code>ConcType</code> beschreibt <code>Conc</code> usw. Deshalb liefert <code>ofType</code> fr die Ableitung <code>Alt</code> den Wert <code>AltType</code>.</p>
<p>Im Falle von <code>pretty</code> wird ersichtlich, wieso wir virtuelle Methoden verwenden. <code>pretty</code> wird fr jede Alternative aufgerufen. Zur Laufzeit wir dann basierend auf der konkreten Instanz der Alternativen, die geeignete <code>pretty</code> Definition ausgewhlt.</p>
<p>Die resultierenden Strings werden dann mit &quot;+&quot; verbunden. Beachte: Mittels Klammern &quot;(&quot; und &quot;)&quot; wird eine eindeutige Darstellunge garantiert. Z.B.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">  RE* r = new Conc (new Ch('c'), new Alt(new Ch('a'), new Ch('b')));
  cout &lt;&lt; r-&gt;pretty() &lt;&lt; endl;</code></pre></div>
<p>liefert <code>(c(a+b))</code>. Ohne die Klammern erhalten wir <code>ca+b</code> was nicht eindeutig ist. Natrlich knnten wir eine Prferenz zwischen den Alternativ-, Verkettungs- und Staroperator definieren, um die Anzahl der Klammern zu reduzieren (freiwillige Aufgabe).</p>
<p>Im Falle einer Alternative, ist der leere String enthalten, falls eine der beiden Alternativen den leeren String enthlt. Die Methode <code>containsEps</code> setzt diese Vorgabe literal um.</p>
<h2 id="teilaufgabe-1-vereinfachung-regulrer-ausdrcke">Teilaufgabe 1: Vereinfachung Regulrer Ausdrcke</h2>
<p>Betrachte folgenden regulren Ausdruck.</p>
<pre><code>   eps ((a*)* (phi + b))</code></pre>
<p>Obiger Ausdruck kann vereinfacht werden in die Form</p>
<pre><code>   (a*) b</code></pre>
<p>Beide Ausdrcke sind quivalent. Der letztere Ausdruck ist aber in einfacher und verstndlicherer Form.</p>
<p>Ziel ist einen regulrern Ausdruck soweit wie mglich zu vereinfachen. Dazu verwenden wir Vereinfachungsregeln formuliert in der Form</p>
<pre><code> linkeSeite ==&gt; rechteSeite</code></pre>
<ol style="list-style-type: decimal">
<li><p><code>eps r ==&gt; r</code></p></li>
<li><p><code>r1 r2 ==&gt; phi</code> falls <code>L(r1)={}</code> oder <code>L(r2)={}</code></p></li>
<li><p><code>r* ==&gt; eps</code> falls <code>L(r)={}</code></p></li>
<li><p><code>(r*)* ==&gt; r*</code></p></li>
<li><p><code>r + r ==&gt; r</code></p></li>
<li><p><code>r1 + r2 ==&gt; r2</code> falls <code>L(r1)={}</code></p></li>
<li><p><code>r1 + r2 ==&gt; r1</code> falls <code>L(r2)={}</code></p></li>
</ol>
<p>Fr jede der obigen Regeln gilt <code>L(linkeSeite) = L(rechteSeite)</code>.</p>
<p>Angewandt auf unser Beispiel.</p>
<pre><code>      eps ((a*)* (phi + b))
==&gt;1  (a*)* (phi + b)
==&gt;4  a* (phi + b)
==&gt;6  a* b</code></pre>
<h3 id="weiteres-vorgehen">Weiteres Vorgehen</h3>
<p>Wir erweitern Klasse <code>RE</code> wie folgt.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">class RE {
 public:
  ...  
  virtual bool isPhi()=<span class="dv">0</span>;
  virtual RE* simp() { <span class="kw">return</span> this; }
};</code></pre></div>
<p>Methode <code>isPhi</code> liefert <code>true</code> falls der Ausdruck die leere Sprache beschreibt und ist schon vordefiniert.</p>
<p>Methode <code>simp</code> fhrt die Vereinfachungsregeln aus. Per Default liefert <code>simp</code> den rsprnglichen Ausdruck. Ihre Aufgabe ist es <code>simp</code> in den abgeleiteten Klassen geeignet zu erweitern.</p>
<p>Als Beispiel betrachte man <code>Alt</code> und die Umsetzung der Regeln 6 und 7.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">  RE* simp() { 

    <span class="co">// First, simplify subparts</span>
    r1 = r1-&gt;simp();
    r2 = r2-&gt;simp();

    <span class="co">// Then, check if any of the simplification rules are applicable</span>

    <span class="co">// 6. `r1 + r2 ==&gt; r2` falls `L(r1)={}`</span>
    <span class="kw">if</span>(r1-&gt;isPhi()) <span class="kw">return</span> r2;
    <span class="co">// 7. `r1 + r2 ==&gt; r1` falls `L(r2)={}`</span>
    <span class="kw">if</span>(r2-&gt;isPhi()) <span class="kw">return</span> r1;

    <span class="kw">return</span> <span class="kw">this</span>;
  }</code></pre></div>
<p>Etwas schwierger sind Regeln 3 und 4 im Falle von <code>Star</code>.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">  RE* simp() {

    <span class="co">// Simplify subparts</span>
    r = r-&gt;simp();

    <span class="co">// Then, check if any of the simplification rules are applicable</span>

    <span class="co">// 3. `r* ==&gt; eps` falls `L(r)={}`</span>
    <span class="kw">if</span>(r-&gt;isPhi()) {
      <span class="kw">return</span> <span class="kw">new</span> Eps();      
    } 
    <span class="co">// 4. `(r*)* ==&gt; r*`</span>
    <span class="kw">if</span>(r-&gt;ofType() == StarType) {
      <span class="kw">return</span> <span class="kw">this</span>-&gt;r;
    }  

    <span class="kw">return</span> <span class="kw">this</span>;
  }</code></pre></div>
<p>Beachte: In obiger Beispielimplementierung ignorieren wir das Problem der Speicherverwaltung. Z.B. im Falle von Regel (6) <code>r1 + r2 ==&gt; r2</code> falls <code>L(r1)={}</code> sollte jemand de von <code>r1</code> belegten Speicherbereich freigeben. In dieser Aufgabe drfen Sie das Aufrumen der von regulren Ausdrcken Speicherpltze ignorieren. Als freiwillige Zusatzaufgabe berlegen Sie sich ein geeignetes Verwaltungsschema welches garantiert, dass der belegte Speicherplatz freigeben wird. Die Herausforderung hierbei ist zu organisieren wer und wann den Speicherplatz freigeben soll.</p>
<p>Ihre eigentliche Aufgabe ist die Implementierung der noch fehlenden obigen Vereinfachungsregeln. Fr Regel (5) <code>r + r ==&gt; r</code> bentigen Sie eine Methode zum Test auf Gleichheit zwischen regulren Ausdrcken.</p>
<p>Die einfachste Implementierung wendet die <code>pretty</code> Funktion an und vergleicht dann die beiden daraus resultierenden Strings.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> equals(RE* r1, RE* r2) {
  <span class="kw">return</span> r1-&gt;pretty() == r2-&gt;pretty();
}</code></pre></div>
<p>Alternativ knnten wir rekursiv ber den Strukturaufbau der regulren Ausdrcke laufen und die einzelnen Komponenten vergleichen.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> equals(RE* r1, RE* r2) {
  <span class="dt">bool</span> b;

  <span class="kw">if</span>(r1-&gt;ofType() != r2-&gt;ofType())
     <span class="kw">return</span> <span class="kw">false</span>;

  <span class="kw">switch</span>(r1-&gt;ofType()) {
    <span class="kw">case</span> PhiType: b = <span class="kw">true</span>;
                  <span class="kw">break</span>;
    <span class="kw">case</span> EpsType: b = <span class="kw">true</span>;
                  <span class="kw">break</span>;
    <span class="kw">case</span> ChType: {
                  Ch* c1 = (Ch*)r1;
                  Ch* c2 = (Ch*) r2;
                  b = c1-&gt;getChar() == c2-&gt;getChar();
                  <span class="kw">break</span>;
    }
   <span class="kw">case</span> StarType: {
                   Star* r3 = (Star*) r1;
                   Star* r4 = (Star*) r2;
                   b = equals(r3-&gt;getRE(),r4-&gt;getRE());
                   <span class="kw">break</span>;
   }
  <span class="kw">case</span> AltType: {
                 Alt* r3 = (Alt*) r1;
                 Alt* r4 = (Alt*) r2;
                 b = equals(r3-&gt;getLeft(),r4-&gt;getLeft()) &amp;&amp;
             equals(r3-&gt;getRight(), r4-&gt;getRight());
                 <span class="kw">break</span>;
  }
  <span class="kw">case</span> ConcType: {
                 Conc* r3 = (Conc*) r1;
                 Conc* r4 = (Conc*) r2;
                 b = equals(r3-&gt;getLeft(),r4-&gt;getLeft()) &amp;&amp;
             equals(r3-&gt;getRight(), r4-&gt;getRight());
                 <span class="kw">break</span>;
  }
  }<span class="co">// switch</span>
  <span class="kw">return</span> b;
} <span class="co">// equals</span></code></pre></div>
<p>Zusammengefasst. Erweiteren Sie <code>RE.h</code> mit den noch fehlenden Vereinfachungsregeln. Als eine mgliche Testroutine knnen Sie folgendes Gerst verwenden.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">
<span class="co">// Main fuer Teilaufgabe 1</span>
<span class="co">// Bitte weitere Testfaelle hinzufuegen.</span>


<span class="ot">#include &quot;RE.h&quot;</span>
<span class="ot">#include &lt;iostream&gt;</span>

<span class="kw">using</span> <span class="kw">namespace</span> std;

<span class="dt">int</span> main() {

  <span class="co">// phi + c</span>
  RE* r3 = <span class="kw">new</span> Alt (<span class="kw">new</span> Phi(), <span class="kw">new</span> Ch(<span class="st">'c'</span>));

  <span class="co">// c + phi</span>
  RE* r4 = <span class="kw">new</span> Alt (<span class="kw">new</span> Ch(<span class="st">'c'</span>), <span class="kw">new</span> Phi());

  cout &lt;&lt; r3-&gt;pretty() &lt;&lt; endl;

  cout &lt;&lt; r3-&gt;simp()-&gt;pretty() &lt;&lt; endl;

  <span class="co">// c**</span>
  RE* r5 = <span class="kw">new</span> Star(<span class="kw">new</span> Star (<span class="kw">new</span> Ch(<span class="st">'c'</span>)));

  cout &lt;&lt; r5-&gt;pretty() &lt;&lt; endl;
  cout &lt;&lt; r5-&gt;simp()-&gt;pretty() &lt;&lt; endl;

  <span class="co">// phi*</span>
  RE* r6 = <span class="kw">new</span> Star(<span class="kw">new</span> Phi());

  cout &lt;&lt; r6-&gt;pretty() &lt;&lt; endl;
  cout &lt;&lt; r6-&gt;simp()-&gt;pretty() &lt;&lt; endl;

  <span class="co">// (phi + c) + c**</span>
  RE* r7 = <span class="kw">new</span> Alt(r3,r5);

  cout &lt;&lt; r7-&gt;pretty() &lt;&lt; endl;
  <span class="co">// exhaustively apply simplifications</span>
  cout &lt;&lt; simpFix(r7)-&gt;pretty() &lt;&lt; endl;
}</code></pre></div>
<h2 id="teilaufgabe-2-transformation-regulrer-ausdrcke-in-automaten">Teilaufgabe 2: Transformation Regulrer Ausdrcke in Automaten</h2>
<p>Die nchste Aufgabe ist die Transformation von regulren Ausdrcken in Automaten. Ihre Aufgabe ist die Implementierung eines Transformationsalgorithmus der einen regulren Ausdruck in einen Automaten umwandelt.</p>
<h3 id="endliche-automanten">Endliche Automanten</h3>
<p>Zuerst ein kurze Wiederhohlung der grundlegenden Konzepte endlicher Automaten.</p>
<p>Ziel ist die berprfung, ob eine Eingabewort Teil der vom Automaten akzeptierten Sprache ist. Dazu werden nacheinander die einzelnen Zeichen des Eingabewortes betrachtet. Je nach aktuellem Zustand und aktuellem Zeichen, ndert sich der Zustand des Automaten (Beachte: Wir betrachten hier auch spontante Zustandsbergange, auch epsilon Transitionen genannt). Falls smtliche Zeichen des Eingabewortes betrachtet, sprich konsumiert wurden, und der Automat befindet sich in einem Finalzustand, dann ist das Eingabewort Teil der vom Automaten akzeptierten Sprache.</p>
<p>Formal ist ein endlicher Automat beschrieben duch</p>
<ol style="list-style-type: decimal">
<li>Einer Menge Sigma aller Zeichen die vom Automaten behandelt werden, oft wird Sigma auch als das Alphabet des Automaten bezeichnet.</li>
<li>Einer Menge Q aller Automantenzustnde.</li>
<li>Einen Initialzustand, auch Startzustand genannt, oft bezeichnet als q0 oder s0.</li>
<li>Einer Menge F von Finalzustnden, auch End- oder Stopzustnde, genannt. Initialzustand und Finalzustnde sind natrlich Elemente der Menge Q.</li>
<li>Einer Menge T von Transitionen, auch bergnge genannt, von einem Zustand in den anderen. Ein bergang (Transition) kann auf folgende zwei Arten beschrieben werden.
<ol style="list-style-type: decimal">
<li>Konsumierung eines Zeichens aus Sigma.</li>
<li>Spontaner bergang, auch &quot;epsilon&quot; Transition genannt.</li>
</ol></li>
</ol>
<p>Beispiel:</p>
<pre><code> Sigma = {a,b,c}
 Q = {1,2,3,4,5}
 Initialzustand = 1
 Finalzustnde = {4,5}
 Transitionen:
    1 -----&gt; 2
    1 --a--&gt; 3
    1 --a--&gt; 5
    2 --a--&gt; 2
    2 --b--&gt; 2
    2 --a--&gt; 3
    3 --c--&gt; 4
    5 --b--&gt; 4</code></pre>
<p>Fr Eingabewort &quot;ab&quot; betrachten wir die Ausfhrung des Automaten.</p>
<p>Wir starten im Zustand 1. Unser Automat ist nichtdeterministisch, deshalb kann der Automat zu jeden Zeitpunkt in einer Menge von &quot;aktiven&quot; Zustnden befinden.</p>
<p>Bei der Abarbeitung des Eingabewortes gibt es zwei prinzipielle Aktionen.</p>
<ul>
<li><p>Verfolge alle spontanen bergange, d.h. wir bilden die Hlle (englisch closure) aller spontanten bergnge.</p></li>
<li><p>Konsumiere aktuelles Zeichen des Eingabeworts</p></li>
</ul>
<pre><code>1. current = { 1 }

Als erstes betrachten wir alle spontanen (epsilon) bergange
die von 1 ausgehen.

Daraus folgt current = {1, 2} 
wegen      1 -----&gt; 2


Aktuelles Eingabezeichen ist a, die erste Position in &quot;ab&quot;.

Daraus folgt current = {2,3,5} wegen
    1 --a--&gt; 3
    1 --a--&gt; 5
    2 --a--&gt; 3
    2 --a--&gt; 2

2. current = {2,3,5}

 Hlle der spontanen bergnge ist hier gleich current

Aktuelles Eingabezeichen ist b, die zweite Position in &quot;ab&quot;.

Daraus folgt current = {2,4} wegen
    2 --b--&gt; 2
    5 --b--&gt; 4

Da 4 ein Finalzustand ist, gehrt &quot;ab&quot; zur der vom
dem Automaten akzeptierten Sprache.</code></pre>
<h3 id="von-regulren-ausdrcken-zu-endlichen-automaten">Von regulren Ausdrcken zu endlichen Automaten</h3>
<p>Endliche Automaten haben eine sehr einfache operationelle Beschreibung als eine Sequenz von Transitionsbergngen. In vielen Situationen sind jedoch regulre Ausdrcke der geeignetere Formalismus. Beide Formalismen sind gleichwertig, d.h. ihre Ausdrcksstrke ist gleichwertig. Sprich jeder regulre Ausdruck kann in einen endlichen Automaten umgewandelt werden und umgekehrt. Hier betrachten wir nur die Richtung von regulren Ausdrcken nach endlichen Automaten. Im folgenden betrachten wir einen speziellen Algorithmus der einen regulren Ausdruck in einen Automaten umwandelt (transformiert).</p>
<h4 id="thompson-nfa-algorithmus">Thompson NFA Algorithmus</h4>
<p>Ein mglicher Algorithmus ist der Thompson NFA Algorithmus beschrieben hier:</p>
<p><a href="http://en.wikipedia.org/wiki/Thompson's_construction_algorithm" class="uri">http://en.wikipedia.org/wiki/Thompson's_construction_algorithm</a></p>
<p>Gegeben sein ein regulrer Ausdruck. Der Algorithmus von Ken Thompson zeigt wie man aus dem regulrern Ausdruck einen Automaten konstruiert. Der Automat ist nichtdeterministischen weil mehrere Folgezustnde nichtdeterministisch erreicht werden knnen. Deshalb NFA, was auf Englisch heisst &quot;non-deterministic finite automata&quot;.</p>
<p>Sie knnen natrlich sonst einen Algorithmus verwenden. Wichtig ist, dass der konstruierte Automat die gleiche Sprache akzeptiert, wie der regulre Ausdruck. Zum Testen, ob Ihre Transformation diese Kriterium erfllt wird Ihnen eine Testrahmen zur Verfgung gestellt (siehe unten).</p>
<h4 id="c-umsetzung">C++ Umsetzung</h4>
<p>Folgende Klassen sind gegeben. Bauen Sie Ihre Lsung auf Grundlage dieser Klassen auf.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">class Transition;
class NFA;
class FSA;</code></pre></div>
<p><code>Transition</code> beschreibt eine Transition innerhalb eines Automaten. <code>NFA</code> beschreibt eine nicht-deterministischen Automaten, der aus einer Menge von Transitionen, einem Startzustand und einer Menge von Finalzustnden besteht. <code>FSA</code> ermglicht die Ausfhrung eines NFA und wird erst spter relevant.</p>
<p>Zuerst betrachen wir die Klasse <code>Transition</code>.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">class Transition {
 private:
  <span class="dt">int</span> from; 
  <span class="dt">char</span> c; 
  <span class="dt">int</span> to;
  bool epsilon;
 public:

  Transition(<span class="dt">int</span> _from, <span class="dt">int</span> _to) {
    from = _from; to = _to; 
    epsilon = true;
  } 
  Transition(<span class="dt">int</span> _from, <span class="dt">char</span> _c, <span class="dt">int</span> _to) {
    from = _from; c = _c; to = _to; 
    epsilon = false;
  } 
  bool isEpsilonTransition() { <span class="kw">return</span> epsilon; }
  <span class="dt">int</span> toState() { <span class="kw">return</span> to; }
  bool trigger(<span class="dt">int</span> from, <span class="dt">char</span> c) {
    <span class="kw">return</span> (!epsilon &amp;&amp; from == this-&gt;from &amp;&amp; c == this-&gt;c);
  }
  bool trigger(<span class="dt">int</span> from) {
    <span class="kw">return</span> (epsilon &amp;&amp; from == this-&gt;from);
  }
};</code></pre></div>
<p>Zustnde werden als Integer Werte reprsentiert. Eine Transition kann zwei Formen haben.</p>
<pre><code> from --- c ---&gt; to

 from ---------&gt; to</code></pre>
<p>Der bergang von <code>from</code> nach <code>to</code> findet statt, falls die aktuelle Eingabe mit dem Zeichen <code>c</code> bereinstimmt, oder wir knnen spontan von <code>from</code> nach <code>to</code> bergehen. Letzer Fall ist eine sogeannte &quot;epsilon&quot; Transition. Die berladenen Konstruktoren von <code>Transition</code> erlauben die Konstruktion von Transitionen beider Arten.</p>
<p>Sind epsilon Transitionen notwendig? Nein. Jeder Automat mit epsilon Transitionen kann in einen Automaten ohne epsilon Transitionen. Jedoch sind epsilon Transitionen sehr hilfreich um nicht-deterministische Vorgnge einfach zu beschreiben. Siehe Aufgabe bersetzung von regulren Ausdrcken nach Automaten.</p>
<p>Methode <code>isEpsilonTransition</code> unterscheidet zwischen beiden Arten. berladene Methode <code>trigger</code> testet ob ein bergang mglich ist. Methode <code>toState</code> liefert den Folgezustand.</p>
<p>Nun zu der <code>NFA</code> Klasse.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">class NFA {
 private:
  vector&lt;Transition&gt; ts;
  <span class="dt">int</span> init;
  vector&lt;<span class="dt">int</span>&gt; final;

 public:
  NFA(vector&lt;Transition&gt; _ts, <span class="dt">int</span> _init, vector&lt;<span class="dt">int</span>&gt; _final) {
    ts = _ts;
    init = _init;
    final = _final;
  }
  NFA(vector&lt;Transition&gt; _ts, <span class="dt">int</span> _init, <span class="dt">int</span> _final) {
    ts = _ts;
    init = _init;
    final.push_back(_final);
  }
  vector&lt;Transition&gt; getTransitions() { <span class="kw">return</span> ts; }
  <span class="dt">int</span> getInitial() { <span class="kw">return</span> init; }
  vector&lt;<span class="dt">int</span>&gt; getFinals() { <span class="kw">return</span> final; }

  friend class FSA;
};</code></pre></div>
<p>Ein <code>NFA</code> besteht aus einer Menge von Transitionen, einem Startzustand und einer Menge von Finalzustnden. Wir benutzen STL <code>vector</code> zur Speicherung von Transitionen und Finalzustnden. Der zweite Konstruktor erleichert die Erstellung eines NFAs mit genau einem Start und Endzustand.</p>
<p>Ihre Aufgabe ist die Implementierung einer Transformationsfunktion von regulren Automaten (RE) nach nicht-deterministischen Automaten (NFA).</p>
<p>Es gibt mindestens zwei mgliche Anstze.</p>
<ul>
<li>Virtuelle Methode der Klasse <code>RE</code>
<ul>
<li><code>RE.h</code> muss dann <code>FSA.h</code> importieren</li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">class</span> RE {
 <span class="kw">public</span>:
   <span class="kw">virtual</span> NFA transform()=<span class="dv">0</span>;
   <span class="co">// und restliche Methoden</span>
};</code></pre></div>
<ul>
<li>Eigenstndige Funktion</li>
</ul>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">NFA transform(RE* r);</code></pre></div>
<p>Weitere Beispiele fr beide Anstze finden Sie unter Laboraufgaben (siehe Evaluator fr arithmetische Ausdrcke).</p>
<p>Unten finden Sie ein Gerst fuer den Ansatz &quot;Eigenstndige Funktion&quot;. Die beiden Flle <code>Phi</code> und <code>Alt</code> sind schon implementiert.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="ot">#include &quot;FSA.h&quot;</span>
<span class="ot">#include &quot;RE.h&quot;</span>


<span class="dt">int</span> nameSupply;

<span class="dt">void</span> init() {
  nameSupply = <span class="dv">0</span>;
}

<span class="dt">int</span> fresh() {
  <span class="kw">return</span> nameSupply++;
}


<span class="co">// Macht die eigentliche Arbeit</span>
NFA transformWorker(RE *r);

<span class="co">// Schnittstelle fuer Benutzer</span>
<span class="co">// Ruecksetzen des &quot;name supplies&quot; zur Generierung von eindeutigen Zustaenden</span>
<span class="co">// Aufruf von transform2</span>
NFA transform(RE *r) {
  init();
  <span class="kw">return</span> transformWorker(r);
}


<span class="co">// Wir liefern einen NFA zurueck mit genau einem Start und</span>
<span class="co">// genau einem Stop(end)zustand.</span>
NFA transformWorker(RE *r) {
  vector&lt;Transition&gt; ts;
  <span class="dt">int</span> start, stop;

  <span class="kw">switch</span>(r-&gt;ofType()) {

  <span class="kw">case</span> EpsType: <span class="co">// TODO</span>
  <span class="kw">case</span> ChType: <span class="co">// TODO</span>
  <span class="kw">case</span> StarType: <span class="co">// TODO</span>
  <span class="kw">case</span> ConcType: <span class="co">// TODO</span>

  <span class="co">// Phi: Akzeptiert kein Wort</span>
  <span class="co">// NFA besteht aus einem Start und Stopzustand und *keiner* Transition</span>
  <span class="kw">case</span> PhiType: 
    start = fresh();
    stop = fresh();
    <span class="kw">return</span> NFA(ts, start, stop);

  <span class="kw">case</span> AltType: {
     Alt* r2 = (Alt*) r;

     <span class="co">// 1. Baue NFAs der linken und rechten Alternative</span>
     NFA n1 = transformWorker(r2-&gt;getLeft());
     NFA n2 = transformWorker(r2-&gt;getRight());

     <span class="co">// 2. Generieren neuen Start-/Stopzustand.</span>
     <span class="co">//    Sammle Start-/Stopzustaende von n1 und n2</span>
     <span class="co">// N.B. Annahme: finals besteht aus genau einem Zustand</span>
     start = fresh();
     stop = fresh();
     <span class="dt">int</span> n1_start = n1.getInitial();
     <span class="dt">int</span> n1_stop  = n1.getFinals()[<span class="dv">0</span>];
     <span class="dt">int</span> n2_start = n2.getInitial();
     <span class="dt">int</span> n2_stop  = n2.getFinals()[<span class="dv">0</span>];


     <span class="co">// 3. Sammle Transitionen auf von n1 und n2.</span>
     <span class="co">//    Verbinde neuen Start-/Endzustand mit alten Start-/Endzustaenden.</span>
     vector&lt;Transition&gt; t1 = n1.getTransitions();
     vector&lt;Transition&gt; t2 = n2.getTransitions();

     ts.insert(ts.end(),t1.begin(),t1.end());
     ts.insert(ts.end(),t2.begin(),t2.end());
     ts.push_back(Transition(start, n1_start));
     ts.push_back(Transition(start, n2_start));
     ts.push_back(Transition(n1_stop, stop));
     ts.push_back(Transition(n2_stop, stop));

     <span class="kw">return</span> NFA(ts,start,stop);
  }
      


  } <span class="co">// switch</span>

} <span class="co">// transformWorker</span></code></pre></div>
<h2 id="teilaufgabe-3-ausfhrung-nfa">Teilaufgabe 3: Ausfhrung NFA</h2>
<p>Eine weitere Aufgabe ist die Ausfhrung des aus dem regulren Ausdrucks konstrukierten NFA. Der Rahmen zur Ausfhrung wird durch die Klasse <code>FSA</code> definiert.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c">class FSA : public NFA {
 private:
  vector&lt;<span class="dt">int</span>&gt; current;
  <span class="dt">void</span> closure();
 public:
  FSA(NFA fsa) : NFA(fsa.ts,fsa.init,fsa.final) {
    current.push_back(init);
    closure();
  }
  <span class="dt">void</span> reset();
  <span class="dt">void</span> step(<span class="dt">char</span> c);
  bool isFinal();
  bool run(string s);

};</code></pre></div>
<p>Ein FSA nimmt einen NFA. Instanzvariable <code>current</code> beschreibt die Menge der &quot;aktiven&quot; Zustnde. Beachte wir gehen von einem nicht-deterministischen Automaten aus. Im Falle eines deterministischen Automaten, wrde die Menge aus genau einem Zustand bestehen.</p>
<p>Am Anfang wird <code>current</code> gleich dem Startzustand des NFA gesetzt. bergnge finden nur statt (sprich Transitionen werden getriggert) bei Lesen eines Zeichens. Da der NFA &quot;epsilon&quot; Transitionen enthlt, mssen wir alle von <code>current</code> aus erreichbaren Zustnde bilden die via einer oder mehrerer epsilon Transitionenen erreichbar sind. Dies geschieht durch Aufruf der Methode <code>closure</code>.</p>
<h3 id="closure"><code>closure</code></h3>
<p>Ihre Aufgabe ist es Methode <code>closure</code> zu implementieren. Zuerst betrachten wir ein Beispiel mit folgenden drei Transitionen (Zustandsbergngen).</p>
<pre><code>s1 -----&gt; s2
s2 --a--&gt; s3
s2 -----&gt; s4</code></pre>
<p>Von Zustand <code>s1</code> gibt es eine &quot;epsilon&quot; Transition nach <code>s2</code>. Von Zustand <code>s2</code> ist ein bergang in den Zustand <code>s3</code> mglich, falls die aktuelle Eingabe <code>a</code> ist. Der letzte Zustandsbergang ist wieder ein &quot;epsilon&quot; Transition.</p>
<p>Annahme: <code>current = {s1}</code></p>
<ol style="list-style-type: decimal">
<li>Schritt <code>current = {s1, s2}</code> wegen folgender &quot;epsilon&quot; Transition <code>s1 -----&gt; s2</code>.</li>
</ol>
<p>Aufgrund des neu hinzugefgten Zustandes <code>s2</code> knnen weitere Zustnde via &quot;epsilon&quot; erreicht werden.</p>
<ol start="2" style="list-style-type: decimal">
<li>Schritt: <code>current = {s1, s2, s4}</code> wegen &quot;epsilon&quot; Transition <code>s2 -----&gt; s4</code>.</li>
</ol>
<p>Keine weiteren Zustnde knnen via &quot;epsilon&quot; erreicht werden. Die <code>closure</code> von <code>{s1}</code> ist <code>{s1,s2,s4}</code>.</p>
<p>Beachte, Zustand <code>s3</code> kann nur erreicht werden falls die aktuelle Eingabe <code>a</code> ist. Deshalb ist <code>s3</code> nicht in der <code>closure</code> von <code>{s1}</code>.</p>
<p>Hinweise zur Implementierung von <code>closure</code>:</p>
<p>Fr jeden Zustand <code>s1</code> in <code>current</code> und jede &quot;epsilon&quot; Transition <code>s2 -----&gt; s3</code>, fgen wir <code>s3</code> zu <code>current</code> hinzu falls folgende Bedingungen gelten:</p>
<ul>
<li>`s1 == s2'</li>
<li><code>s3</code> ist nicht schon enthalten in <code>current</code></li>
</ul>
<p>Dieser Vorgang wird solange ausgefhrt, bis keine Zustnde mehr zu <code>current</code> hinzugefgt werden knnen.</p>
<p>Im Detail:</p>
<ol style="list-style-type: decimal">
<li>Iterieren Sie ber die Menge der Transitionen.</li>
<li>Mit Hilfe der Methode <code>isEpsilonTransition</code> der Klasse <code>Transition</code> knnen Sie alle epsilon Transitionen herausfiltern.</li>
<li>Mit Hilfe der Methoden <code>trigger</code> und <code>toState</code> der Klasse <code>Transition</code> knnen Sie Testen, ob ein Zustand erreicht wird. Angenommen <code>t</code> ist eine Transition und <code>q</code> ein Zustand (Integer), dann liefert der Ausdruck <code>t.isEpsilonTransition() &amp;&amp; t.trigger(q)</code> wahr, falls <code>t</code> eine epsilon Transition ist und Transition <code>t als Startpunkt den Zustand</code>q<code>hat.    Via</code>t.toState(q)` knnen Sie den Endpunkt der (epsilon) Transition berechnen.</li>
<li>Um zu berprfen, ob ein Element in einem Vektor ist benutzen Sie die <code>find</code> Method. Angenommen <code>v</code> ist vom Typ <code>vector&lt;int&gt;</code> und <code>q</code> ist ein Zustand, dann liefert der Ausdruck <code>find(v.begin(),v.end(),q) == v.end()</code> wahr, falls <code>q</code> nicht in dem Vektor <code>v</code> enthalten ist.</li>
</ol>
<h3 id="weitere-methoden">Weitere Methoden</h3>
<p>Methoden <code>reset</code>, <code>isFinal</code>, <code>step</code> und <code>run</code> sind schon gegeben.</p>
<p>Ein <code>reset</code> bedeutet, wir brechen die Ausfhrung ab, und starten neu:</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">void</span> FSA::reset() {
    current.clear();
    current.push_back(init);
    closure();
}</code></pre></div>
<p>Methoden <code>isFinal</code> berprft, ob wir einen Finalzustand erreicht haben:</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> FSA::isFinal() {
    <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>; i &lt; <span class="kw">final</span>.size(); i++) {
      <span class="kw">if</span>(find(current.begin(),current.end(),<span class="kw">final</span>[i]) != current.end())
    <span class="kw">return</span> <span class="kw">true</span>;
    }     
    <span class="kw">return</span> <span class="kw">false</span>;
}</code></pre></div>
<p>Methode <code>step</code> nimmt als Eingabe das aktuelle Zeichen <code>c</code>. Basierend auf der Menge der &quot;aktiven&quot; Zustnde in <code>current</code>, werden alle Folgezustnde berechnet die mit der Eingabe <code>c</code> erreicht werden knnen. Diese Menge wird gleich <code>current</code> gesetzt. Es folgt das bilden der transitiven Hlle der &quot;epsilon&quot; Transitionen mittels <code>closure</code>.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">void</span> FSA::step(<span class="dt">char</span> c) {
    vector&lt;<span class="dt">int</span>&gt; next;
    <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>; i &lt; ts.size(); i++) {
      <span class="kw">for</span> (<span class="dt">int</span> j=<span class="dv">0</span>; j &lt; current.size(); j++) {
        <span class="kw">if</span>(ts[i].trigger(current[j],c))
      next.push_back(ts[i].toState());
      }
    }
    current = next;
    closure();
}</code></pre></div>
<p>Methode <code>run</code> berprft ob der Eingabestring von dem Automaten akzeptiert wird.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> FSA::run(string s) {
  reset();
  <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>; i &lt; s.length(); i++) {
    step(s[i]);
  }
  <span class="kw">return</span> isFinal();
}</code></pre></div>
<h2 id="testrahmen">Testrahmen</h2>
<p>Zum Testen der Teilaufgaben benutzen Sie bitte folgenden Testrahmen.</p>
<p>Annahme: Sie haben <code>FSA.h</code> mit einer Implementierung der <code>closure</code> Funktion erweitert und Teilaufgbe 1 as eingenstndige Funktion folgender Form realisiert (falls als Methode, mssen Sie einfach den transform Aufruf geeignet umschreiben).</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">NFA transform(RE *r);</code></pre></div>
<h3 id="testorakel">Testorakel</h3>
<p>Zur berprfung, ob ihre Implemenierung korrekt ist bentigen wir eine unabhngige Implementierung eines Automaten.</p>
<p>Die untenstehende Implementierung beruht auf Brzozowski's Derivaten. Die Details sind unwichtig. Falls Sie's interessiert, weitere Informationen finden Sie <a href="hier">http://lambda-the-ultimate.org/node/2293</a>.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">RE* deriv(RE* r, <span class="dt">char</span> l) {

  <span class="kw">switch</span>(r-&gt;ofType()) {
  <span class="kw">case</span> PhiType: 
    <span class="kw">return</span> r;
  <span class="kw">case</span> EpsType: 
    <span class="kw">return</span> <span class="kw">new</span> Phi();
  <span class="kw">case</span> ChType: 
    <span class="kw">if</span> (((Ch*)r)-&gt;getChar() == l) {
      <span class="kw">return</span> <span class="kw">new</span> Eps();
    }
    <span class="kw">else</span> {
      <span class="kw">return</span> <span class="kw">new</span> Phi();
    }
  <span class="kw">case</span> StarType: {
    RE* r1 = ((Star*) r)-&gt;getRE();
    <span class="kw">return</span> <span class="kw">new</span> Conc(deriv(r1,l),r);
  }
  <span class="kw">case</span> AltType: {
    RE* r1 = ((Alt*) r)-&gt;getLeft();
    RE* r2 = ((Alt*) r)-&gt;getRight();
    <span class="kw">return</span> <span class="kw">new</span> Alt(deriv(r1,l), deriv(r2,l));
  }
  <span class="kw">case</span> ConcType: { 
    RE* r1 = ((Conc*)r)-&gt;getLeft();
    RE* r2 = ((Conc*)r)-&gt;getRight();
    <span class="kw">if</span>(r1-&gt;containsEps()) {
      <span class="kw">return</span> <span class="kw">new</span> Alt(<span class="kw">new</span> Conc(deriv(r1,l),r2), deriv(r2,l));
    }
    <span class="kw">else</span> {
      <span class="kw">return</span> <span class="kw">new</span> Conc(deriv(r1,l),r2);
    }
  }

  }<span class="co">// switch</span>

}

<span class="dt">bool</span> match(RE* r, string s) {
  <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>; i &lt; s.length(); i++) {
    r = deriv(r, s[i]);
  }
  <span class="kw">return</span> r-&gt;containsEps();
}</code></pre></div>
<h3 id="testausfhrung">Testausfhrung</h3>
<p>Ein Testfall besteht aus einem regulren Ausdruck und einem Eingabestring. Testausfhrung ist wie folgt.</p>
<ol style="list-style-type: decimal">
<li>Transformiere RE nach NFA</li>
<li>Baue FSA</li>
<li>Fuehre FSA fuer Eingabestring aus (&quot;run&quot;)</li>
<li>Ueberpruefe ob Eingabestring in RE enthalten</li>
<li>Rueckgabe true falls Ergebnisse 3. und 4. uebereinstimmen. Sprich das Testorakel (Referenzimplementierung) und Ihre Implementierung liefern das gleiche Ergebnis. Ansonsten Rueckgabe false.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">bool</span> testExec(RE* r, string s) {
  NFA nfa = transform(r);
  FSA fsa(nfa);
  <span class="dt">bool</span> b1 = fsa.run(s);
  <span class="dt">bool</span> b2 = match(r,s);

  <span class="kw">return</span> b1 == b2;
}</code></pre></div>
<h3 id="main">main</h3>
<p>Unten finden Sie ein paar einfache Testflle. Sie sollten natrlich Ihre Implementierung gegen weitere Flle testen.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">int</span> main() {

  <span class="co">// Testfaelle</span>

  <span class="co">// (ab)*</span>
  RE * r1 = <span class="kw">new</span> Star(<span class="kw">new</span> Conc(<span class="kw">new</span> Ch(<span class="st">'a'</span>), <span class="kw">new</span> Ch(<span class="st">'b'</span>)));
  string s1 = <span class="st">&quot;abab&quot;</span>;

  cout &lt;&lt; testExec(r1,s1) &lt;&lt; endl;

  string s2 = <span class="st">&quot;ababa&quot;</span>;

  cout &lt;&lt; testExec(r1,s2) &lt;&lt; endl;
}</code></pre></div>
</div>
<div id="anhang-zu-regulre-ausdrcke-und-automaten" class="slide section level1">
<h1>Anhang zu Regulre Ausdrcke und Automaten</h1>
<h2 id="fsa.h"><code>FSA.h</code></h2>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// File: FSA.h</span>
<span class="co">// Endliche Automaten</span>

<span class="ot">#ifndef __FSA__</span>
<span class="ot">#define __FSA__</span>

<span class="ot">#include &lt;vector&gt;</span>
<span class="ot">#include &lt;string&gt;</span>
<span class="ot">#include &lt;algorithm&gt;</span>

<span class="kw">using</span> <span class="kw">namespace</span> std;

<span class="kw">class</span> Transition;
<span class="kw">class</span> NFA;
<span class="kw">class</span> FSA;



<span class="kw">class</span> Transition {
 <span class="kw">private</span>:
  <span class="dt">int</span> from; 
  <span class="dt">char</span> c; 
  <span class="dt">int</span> to;
  <span class="dt">bool</span> epsilon;
 <span class="kw">public</span>:

  Transition(<span class="dt">int</span> _from, <span class="dt">int</span> _to) {
    from = _from; to = _to; 
    epsilon = <span class="kw">true</span>;
  } 
  Transition(<span class="dt">int</span> _from, <span class="dt">char</span> _c, <span class="dt">int</span> _to) {
    from = _from; c = _c; to = _to; 
    epsilon = <span class="kw">false</span>;
  } 
  <span class="dt">bool</span> isEpsilonTransition() { <span class="kw">return</span> epsilon; }
  <span class="dt">int</span> toState() { <span class="kw">return</span> to; }
  <span class="dt">bool</span> trigger(<span class="dt">int</span> from, <span class="dt">char</span> c) {
    <span class="kw">return</span> (!epsilon &amp;&amp; from == <span class="kw">this</span>-&gt;from &amp;&amp; c == <span class="kw">this</span>-&gt;c);
  }
  <span class="dt">bool</span> trigger(<span class="dt">int</span> from) {
    <span class="kw">return</span> (epsilon &amp;&amp; from == <span class="kw">this</span>-&gt;from);
  }
};

<span class="kw">class</span> NFA {
 <span class="kw">private</span>:
  vector&lt;Transition&gt; ts;
  <span class="dt">int</span> init;
  vector&lt;<span class="dt">int</span>&gt; <span class="kw">final</span>;

 <span class="kw">public</span>:
  NFA(vector&lt;Transition&gt; _ts, <span class="dt">int</span> _init, vector&lt;<span class="dt">int</span>&gt; _final) {
    ts = _ts;
    init = _init;
    <span class="kw">final</span> = _final;
  }
  NFA(vector&lt;Transition&gt; _ts, <span class="dt">int</span> _init, <span class="dt">int</span> _final) {
    ts = _ts;
    init = _init;
    <span class="kw">final</span>.push_back(_final);
  }
  vector&lt;Transition&gt; getTransitions() { <span class="kw">return</span> ts; }
  <span class="dt">int</span> getInitial() { <span class="kw">return</span> init; }
  vector&lt;<span class="dt">int</span>&gt; getFinals() { <span class="kw">return</span> <span class="kw">final</span>; }

  <span class="kw">friend</span> <span class="kw">class</span> FSA;
};

<span class="kw">class</span> FSA : <span class="kw">public</span> NFA {
 <span class="kw">private</span>:
  vector&lt;<span class="dt">int</span>&gt; current;
  <span class="dt">void</span> closure();
 <span class="kw">public</span>:
  FSA(NFA fsa) : NFA(fsa.ts,fsa.init,fsa.<span class="kw">final</span>) {
    current.push_back(init);
    closure();
  }
  <span class="dt">void</span> reset();
  <span class="dt">void</span> step(<span class="dt">char</span> c);
  <span class="dt">bool</span> isFinal();
  <span class="dt">bool</span> run(string s);

};

<span class="dt">void</span> FSA::reset() {
    current.clear();
    current.push_back(init);
    closure();
}

<span class="dt">bool</span> FSA::isFinal() {
    <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>; i &lt; <span class="kw">final</span>.size(); i++) {
      <span class="kw">if</span>(find(current.begin(),current.end(),<span class="kw">final</span>[i]) != current.end())
    <span class="kw">return</span> <span class="kw">true</span>;
    }     
    <span class="kw">return</span> <span class="kw">false</span>;
}

<span class="dt">void</span> FSA::closure() {
 <span class="co">// Ihre Aufgabe</span>
}

<span class="dt">void</span> FSA::step(<span class="dt">char</span> c) {
    vector&lt;<span class="dt">int</span>&gt; next;
    <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>; i &lt; ts.size(); i++) {
      <span class="kw">for</span> (<span class="dt">int</span> j=<span class="dv">0</span>; j &lt; current.size(); j++) {
        <span class="kw">if</span>(ts[i].trigger(current[j],c))
      next.push_back(ts[i].toState());
      }
    }
    current = next;
    closure();
}

<span class="dt">bool</span> FSA::run(string s) {
  reset();
  <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>; i &lt; s.length(); i++) {
    step(s[i]);
  }
  <span class="kw">return</span> isFinal();
}


<span class="ot">#endif </span><span class="co">// __FSA__</span></code></pre></div>
<h2 id="re.h"><code>RE.h</code></h2>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Regulre Ausdrcke</span>

<span class="ot">#ifndef __RE__</span>
<span class="ot">#define __RE__</span>

<span class="ot">#include &lt;string&gt;</span>
<span class="ot">#include &lt;sstream&gt;</span>

<span class="kw">using</span> <span class="kw">namespace</span> std;

<span class="co">// Vorwaertzreferenz</span>
<span class="kw">class</span> RE;

<span class="co">// Prototypen von Hilfsfunktionen</span>
<span class="dt">bool</span> equals(RE* r1, RE* r2);

<span class="kw">enum</span> REType {
  PhiType,
  EpsType,
  ChType,
  AltType,
  ConcType,
  StarType };


<span class="co">// Basisklasse</span>
<span class="kw">class</span> RE {
 <span class="kw">public</span>:
  <span class="kw">virtual</span> REType ofType()=<span class="dv">0</span>;
  <span class="kw">virtual</span> string pretty()=<span class="dv">0</span>;
  <span class="kw">virtual</span> <span class="dt">bool</span> containsEps()=<span class="dv">0</span>;
  <span class="kw">virtual</span> <span class="dt">bool</span> isPhi()=<span class="dv">0</span>;
  <span class="kw">virtual</span> RE* simp() { <span class="kw">return</span> <span class="kw">this</span>; }
};

<span class="co">// Abgeleitete Klassen</span>

<span class="kw">class</span> Phi : <span class="kw">public</span> RE {
 <span class="kw">public</span>:
  REType ofType() { <span class="kw">return</span> PhiType; }
  string pretty() { <span class="kw">return</span> <span class="st">&quot;phi&quot;</span>; }
  <span class="dt">bool</span> containsEps() { <span class="kw">return</span> <span class="kw">false</span>; }
  <span class="dt">bool</span> isPhi() { <span class="kw">return</span> <span class="kw">true</span>; }
};

<span class="kw">class</span> Eps : <span class="kw">public</span> RE {
 <span class="kw">public</span>:
  REType ofType() { <span class="kw">return</span> EpsType; }
  string pretty() { <span class="kw">return</span> <span class="st">&quot;eps&quot;</span>; }
  <span class="dt">bool</span> containsEps() { <span class="kw">return</span> <span class="kw">true</span>; }
  <span class="dt">bool</span> isPhi() { <span class="kw">return</span> <span class="kw">false</span>; }
};

<span class="kw">class</span> Ch : <span class="kw">public</span> RE {
 <span class="kw">private</span>:
  <span class="dt">char</span> c;
 <span class="kw">public</span>:
  Ch (<span class="dt">char</span> _c) { c = _c; }
  <span class="dt">char</span> getChar() { <span class="kw">return</span> c; }
  REType ofType() { <span class="kw">return</span> ChType; }
  string pretty() {
    stringstream ss;
    ss &lt;&lt; c;
    <span class="kw">return</span> ss.str();
  }
  <span class="dt">bool</span> containsEps() { <span class="kw">return</span> <span class="kw">false</span>; }
  <span class="dt">bool</span> isPhi() { <span class="kw">return</span> <span class="kw">false</span>; }
};

<span class="kw">class</span> Alt : <span class="kw">public</span> RE {
 <span class="kw">private</span>:
  RE* r1;
  RE* r2;
 <span class="kw">public</span>:
  Alt (RE* _r1, RE* _r2) { r1 = _r1; r2 = _r2; }
  RE* getLeft() { <span class="kw">return</span> r1; }
  RE* getRight() { <span class="kw">return</span> r2; }
  REType ofType() { <span class="kw">return</span> AltType; }
  string pretty() {
    string s(<span class="st">&quot;(&quot;</span>);
    s.append(r1-&gt;pretty());
    s.append(<span class="st">&quot;+&quot;</span>);
    s.append(r2-&gt;pretty());
    s.append(<span class="st">&quot;)&quot;</span>);
    <span class="kw">return</span> s;
  }
  <span class="dt">bool</span> containsEps() { 
    <span class="kw">return</span> (r1-&gt;containsEps() || r2-&gt;containsEps());
  }
  <span class="dt">bool</span> isPhi() { 
    <span class="kw">return</span> (r1-&gt;isPhi() &amp;&amp; r2-&gt;isPhi());
  }
  RE* simp() { 

    <span class="co">// First, simplify subparts</span>
    r1 = r1-&gt;simp();
    r2 = r2-&gt;simp();

    <span class="co">// Then, check if any of the simplification rules are applicable</span>

    <span class="co">// 6. `r1 + r2 ==&gt; r2` falls `L(r1)={}`</span>
    <span class="kw">if</span>(r1-&gt;isPhi()) <span class="kw">return</span> r2;
    <span class="co">// 7. `r1 + r2 ==&gt; r1` falls `L(r2)={}`</span>
    <span class="kw">if</span>(r2-&gt;isPhi()) <span class="kw">return</span> r1;

    <span class="kw">return</span> <span class="kw">this</span>;
  
    <span class="co">// N.B. We're a bit relaxed when it comes to garbage collection.</span>
    <span class="co">// For example, in case of rule (6) we should clean up the</span>
    <span class="co">// memory space occupied by r1 which we ignore here.</span>
  }
};

<span class="kw">class</span> Conc : <span class="kw">public</span> RE {
 <span class="kw">private</span>:
  RE* r1;
  RE* r2;
 <span class="kw">public</span>:
  Conc (RE* _r1, RE* _r2) { r1 = _r1; r2 = _r2; }
  RE* getLeft() { <span class="kw">return</span> r1; }
  RE* getRight() { <span class="kw">return</span> r2; }
  REType ofType() { <span class="kw">return</span> ConcType; }
  string pretty() {
    string s(<span class="st">&quot;(&quot;</span>);
    s.append(r1-&gt;pretty());
    s.append(r2-&gt;pretty());
    s.append(<span class="st">&quot;)&quot;</span>);
    <span class="kw">return</span> s;
  }
  <span class="dt">bool</span> containsEps() { 
    <span class="kw">return</span> (r1-&gt;containsEps() &amp;&amp; r2-&gt;containsEps());
  }
  <span class="dt">bool</span> isPhi() { 
    <span class="kw">return</span> (r1-&gt;isPhi() || r2-&gt;isPhi());
  }
};

<span class="kw">class</span> Star : <span class="kw">public</span> RE {
 <span class="kw">private</span>:
  RE* r;
 <span class="kw">public</span>:
  Star (RE* _r) { r = _r; }
  RE* getRE() { <span class="kw">return</span> r; }
  REType ofType() { <span class="kw">return</span> StarType; }
  string pretty() {
    string s;
    s.append(r-&gt;pretty());
    s.append(<span class="st">&quot;*&quot;</span>);
    <span class="kw">return</span> s;
  }
  <span class="dt">bool</span> containsEps() { 
    <span class="kw">return</span> <span class="kw">true</span>;
  }
  <span class="dt">bool</span> isPhi() { 
    <span class="kw">return</span> <span class="kw">false</span>;
  }
  RE* simp() {

    <span class="co">// Simplify subparts</span>
    r = r-&gt;simp();

    <span class="co">// Then, check if any of the simplification rules are applicable</span>

    <span class="co">// 3. `r* ==&gt; eps` falls `L(r)={}`</span>
    <span class="kw">if</span>(r-&gt;isPhi()) {
      <span class="kw">return</span> <span class="kw">new</span> Eps();      
    } 
    <span class="co">// 4. `(r*)* ==&gt; r*`</span>
    <span class="kw">if</span>(r-&gt;ofType() == StarType) {
      <span class="kw">return</span> <span class="kw">this</span>-&gt;r;
    }  

    <span class="kw">return</span> <span class="kw">this</span>;
  }
};


<span class="co">// Structural comparison among regular expressions</span>
<span class="dt">bool</span> equals(RE* r1, RE* r2) {
  <span class="dt">bool</span> b;

  <span class="kw">if</span>(r1-&gt;ofType() != r2-&gt;ofType())
     <span class="kw">return</span> <span class="kw">false</span>;

  <span class="kw">switch</span>(r1-&gt;ofType()) {
    <span class="kw">case</span> PhiType: b = <span class="kw">true</span>;
                  <span class="kw">break</span>;
    <span class="kw">case</span> EpsType: b = <span class="kw">true</span>;
                  <span class="kw">break</span>;
    <span class="kw">case</span> ChType: {
                  Ch* c1 = (Ch*)r1;
                  Ch* c2 = (Ch*) r2;
                  b = c1-&gt;getChar() == c2-&gt;getChar();
                  <span class="kw">break</span>;
    }
   <span class="kw">case</span> StarType: {
                   Star* r3 = (Star*) r1;
                   Star* r4 = (Star*) r2;
                   b = equals(r3-&gt;getRE(),r4-&gt;getRE());
                   <span class="kw">break</span>;
   }
  <span class="kw">case</span> AltType: {
                 Alt* r3 = (Alt*) r1;
                 Alt* r4 = (Alt*) r2;
                 b = equals(r3-&gt;getLeft(),r4-&gt;getLeft()) &amp;&amp;
             equals(r3-&gt;getRight(), r4-&gt;getRight());
                 <span class="kw">break</span>;
  }
  <span class="kw">case</span> ConcType: {
                 Conc* r3 = (Conc*) r1;
                 Conc* r4 = (Conc*) r2;
                 b = equals(r3-&gt;getLeft(),r4-&gt;getLeft()) &amp;&amp;
             equals(r3-&gt;getRight(), r4-&gt;getRight());
                 <span class="kw">break</span>;
  }
  }<span class="co">// switch</span>
  <span class="kw">return</span> b;
} <span class="co">// equals</span>



<span class="co">// Repeated application of simp until we reach a fixpoint</span>
RE* simpFix(RE* r1) {
  RE* r2 = r1-&gt;simp();
  
  <span class="kw">if</span>(equals(r1,r2)) 
       <span class="kw">return</span> r1;

  <span class="kw">return</span> simpFix(r2);
}

<span class="ot">#endif </span><span class="co">// __RE__</span></code></pre></div>
<h2 id="transform.h"><code>Transform.h</code></h2>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Ein moeglicher Rahmen fuer Aufgabe 4, zweite Teilaufgabe,</span>
<span class="co">// uebersetze regulaeren Ausdruck in einen NFA.</span>
<span class="co">// Der Einfachheit in ein .h File gepackt.</span>


<span class="ot">#include &lt;iostream&gt;</span>

<span class="kw">using</span> <span class="kw">namespace</span> std;

<span class="ot">#include &quot;FSA.h&quot;</span>
<span class="ot">#include &quot;RE.h&quot;</span>


<span class="dt">int</span> nameSupply;

<span class="dt">void</span> init() {
  nameSupply = <span class="dv">0</span>;
}

<span class="dt">int</span> fresh() {
  <span class="kw">return</span> nameSupply++;
}


<span class="co">// Macht die eigentliche Arbeit</span>
NFA transformWorker(RE *r);

<span class="co">// Schnittstelle fuer Benutzer</span>
<span class="co">// Ruecksetzen des &quot;name supplies&quot; zur Generierung von eindeutigen Zustaenden</span>
<span class="co">// Aufruf von transform2</span>
NFA transform(RE *r) {
  init();
  <span class="kw">return</span> transformWorker(r);
}


<span class="co">// Wir liefern einen NFA zurueck mit genau einem Start und</span>
<span class="co">// genau einem Stop(end)zustand.</span>
NFA transformWorker(RE *r) {
  vector&lt;Transition&gt; ts;
  <span class="dt">int</span> start, stop;

  <span class="kw">switch</span>(r-&gt;ofType()) {

  <span class="kw">case</span> EpsType: <span class="co">// TODO</span>
  <span class="kw">case</span> ChType: <span class="co">// TODO</span>
  <span class="kw">case</span> StarType: <span class="co">// TODO</span>
  <span class="kw">case</span> ConcType: <span class="co">// TODO</span>

  <span class="co">// Phi: Akzeptiert kein Wort</span>
  <span class="co">// NFA besteht aus einem Start und Stopzustand und *keiner* Transition</span>
  <span class="kw">case</span> PhiType: 
    start = fresh();
    stop = fresh();
    <span class="kw">return</span> NFA(ts, start, stop);

  <span class="kw">case</span> AltType: {
     Alt* r2 = (Alt*) r;

     <span class="co">// 1. Baue NFAs der linken und rechten Alternative</span>
     NFA n1 = transformWorker(r2-&gt;getLeft());
     NFA n2 = transformWorker(r2-&gt;getRight());

     <span class="co">// 2. Generieren neuen Start-/Stopzustand.</span>
     <span class="co">//    Sammle Start-/Stopzustaende von n1 und n2</span>
     <span class="co">// N.B. Annahme: finals besteht aus genau einem Zustand</span>
     start = fresh();
     stop = fresh();
     <span class="dt">int</span> n1_start = n1.getInitial();
     <span class="dt">int</span> n1_stop  = n1.getFinals()[<span class="dv">0</span>];
     <span class="dt">int</span> n2_start = n2.getInitial();
     <span class="dt">int</span> n2_stop  = n2.getFinals()[<span class="dv">0</span>];


     <span class="co">// 3. Sammle Transitionen auf von n1 und n2.</span>
     <span class="co">//    Verbinde neuen Start-/Endzustand mit alten Start-/Endzustaenden.</span>
     vector&lt;Transition&gt; t1 = n1.getTransitions();
     vector&lt;Transition&gt; t2 = n2.getTransitions();

     ts.insert(ts.end(),t1.begin(),t1.end());
     ts.insert(ts.end(),t2.begin(),t2.end());
     ts.push_back(Transition(start, n1_start));
     ts.push_back(Transition(start, n2_start));
     ts.push_back(Transition(n1_stop, stop));
     ts.push_back(Transition(n2_stop, stop));

     <span class="kw">return</span> NFA(ts,start,stop);
  }
      


  } <span class="co">// switch</span>


} <span class="co">// transformWorker</span></code></pre></div>
<h2 id="testorakel.h"><code>TestOrakel.h</code></h2>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">//////////////////////////////////</span>
<span class="co">// Testorakel</span>
<span class="co">// der Einfachheit alles in ein .h File gepackt</span>

<span class="ot">#include &quot;RE.h&quot;</span>

<span class="co">// Testorakel</span>
RE* deriv(RE* r, <span class="dt">char</span> l) {

  <span class="kw">switch</span>(r-&gt;ofType()) {
  <span class="kw">case</span> PhiType: 
    <span class="kw">return</span> r;
  <span class="kw">case</span> EpsType: 
    <span class="kw">return</span> <span class="kw">new</span> Phi();
  <span class="kw">case</span> ChType: 
    <span class="kw">if</span> (((Ch*)r)-&gt;getChar() == l) {
      <span class="kw">return</span> <span class="kw">new</span> Eps();
    }
    <span class="kw">else</span> {
      <span class="kw">return</span> <span class="kw">new</span> Phi();
    }
  <span class="kw">case</span> StarType: {
    RE* r1 = ((Star*) r)-&gt;getRE();
    <span class="kw">return</span> <span class="kw">new</span> Conc(deriv(r1,l),r);
  }
  <span class="kw">case</span> AltType: {
    RE* r1 = ((Alt*) r)-&gt;getLeft();
    RE* r2 = ((Alt*) r)-&gt;getRight();
    <span class="kw">return</span> <span class="kw">new</span> Alt(deriv(r1,l), deriv(r2,l));
  }
  <span class="kw">case</span> ConcType: { 
    RE* r1 = ((Conc*)r)-&gt;getLeft();
    RE* r2 = ((Conc*)r)-&gt;getRight();
    <span class="kw">if</span>(r1-&gt;containsEps()) {
      <span class="kw">return</span> <span class="kw">new</span> Alt(<span class="kw">new</span> Conc(deriv(r1,l),r2), deriv(r2,l));
    }
    <span class="kw">else</span> {
      <span class="kw">return</span> <span class="kw">new</span> Conc(deriv(r1,l),r2);
    }
  }

  }<span class="co">// switch</span>

}

<span class="dt">bool</span> match(RE* r, string s) {
  <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>; i &lt; s.length(); i++) {
    r = deriv(r, s[i]);
  }
  <span class="kw">return</span> r-&gt;containsEps();
}</code></pre></div>
<h2 id="testteil1.cpp"><code>testTeil1.cpp</code></h2>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Testrahmen fuer 1. Teilaufgabe</span>

<span class="ot">#include &quot;RE.h&quot;</span>
<span class="ot">#include &quot;FSA.h&quot;</span>

<span class="ot">#include &quot;TestOrakel.h&quot;</span>

<span class="ot">#include &lt;iostream&gt;</span>
<span class="ot">#include &lt;string&gt;</span>

<span class="kw">using</span> <span class="kw">namespace</span> std;


<span class="co">// Systematischer Test</span>

<span class="co">// Ein Testfall besteht aus einem regulaeren Ausdruck (RE)</span>
<span class="co">// und einem Eingabestring.</span>
<span class="co">// </span>
<span class="co">// Testorakel match ueberprueft ob string s enthalten in regex r.</span>
<span class="co">// </span>
<span class="co">// Simplifizierer korrekt fuer Testfall, falls Testorakel gleiches</span>
<span class="co">// Ergebnis liefert fuer Original regex r und simplifizierten regex r-&gt;simp()</span>

<span class="dt">bool</span> testSimp(RE* r, string s) {
  <span class="dt">bool</span> b = (match(r,s) == match(r-&gt;simp(),s));

  cout &lt;&lt; <span class="st">&quot;Test case: &quot;</span> &lt;&lt; r-&gt;pretty() &lt;&lt; <span class="st">&quot;   &quot;</span> &lt;&lt; s &lt;&lt; <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>;
  cout &lt;&lt; <span class="st">&quot;Test result: &quot;</span> &lt;&lt; b &lt;&lt; endl;

  <span class="kw">return</span> b;
}

<span class="dt">int</span> main() {

  cout &lt;&lt; <span class="st">&quot;Ein paar Testfaelle. Ueberpruefung per Auge&quot;</span> &lt;&lt; endl;


  RE* r3 = <span class="kw">new</span> Alt (<span class="kw">new</span> Phi(), <span class="kw">new</span> Ch(<span class="st">'c'</span>));

  RE* r4 = <span class="kw">new</span> Alt (<span class="kw">new</span> Ch(<span class="st">'c'</span>), <span class="kw">new</span> Phi());

  cout &lt;&lt; r3-&gt;pretty() &lt;&lt; endl;

  cout &lt;&lt; r3-&gt;simp()-&gt;pretty() &lt;&lt; endl;

  RE* r5 = <span class="kw">new</span> Star(<span class="kw">new</span> Star (<span class="kw">new</span> Ch(<span class="st">'c'</span>)));

  cout &lt;&lt; r5-&gt;pretty() &lt;&lt; endl;
  cout &lt;&lt; r5-&gt;simp()-&gt;pretty() &lt;&lt; endl;

  RE* r6 = <span class="kw">new</span> Star(<span class="kw">new</span> Phi());

  cout &lt;&lt; r6-&gt;pretty() &lt;&lt; endl;
  cout &lt;&lt; r6-&gt;simp()-&gt;pretty() &lt;&lt; endl;

  cout &lt;&lt; <span class="st">&quot;Verwende testSimp&quot;</span> &lt;&lt; endl;

  testSimp(r5, <span class="st">&quot;ab&quot;</span>);

  <span class="co">// TODO: mehr Tests</span>



}</code></pre></div>
<h2 id="testteil2und3.cpp"><code>testTeil2und3.cpp</code></h2>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="co">// Testrahmen fuer 2. und 3. Teilaufgabe</span>

<span class="ot">#include &lt;iostream&gt;</span>

<span class="kw">using</span> <span class="kw">namespace</span> std;

<span class="ot">#include &quot;FSA.h&quot;</span>
<span class="ot">#include &quot;RE.h&quot;</span>

<span class="ot">#include &quot;Transform.h&quot;</span>
<span class="ot">#include &quot;TestOrakel.h&quot;</span>

<span class="ot">#include &lt;iostream&gt;</span>
<span class="ot">#include &lt;string&gt;</span>

<span class="kw">using</span> <span class="kw">namespace</span> std;


<span class="co">// Systematischer Test</span>

<span class="co">// Ein Testfall besteht aus einem regulaeren Ausdruck (RE)</span>
<span class="co">// und einem Eingabestring.</span>
<span class="co">// </span>
<span class="co">// Testorakel match ueberprueft ob string s enthalten in regex r.</span>
<span class="co">// </span>
<span class="co">// closure und Tranformater RE -&gt; NFA korrekt, falls Testorakel gleiches</span>
<span class="co">// Ergebnis liefert wie Ausfuehrung des resultierenden NFA.</span>

<span class="dt">bool</span> testClosureTransform(RE* r, string s) {
  NFA nfa = transform(r);
  FSA fsa(nfa);
  <span class="dt">bool</span> b1 = fsa.run(s);
  <span class="dt">bool</span> b2 = match(r,s);
  <span class="dt">bool</span> b = b1 == b2;

  cout &lt;&lt; <span class="st">&quot;Test case: &quot;</span> &lt;&lt; r-&gt;pretty() &lt;&lt; <span class="st">&quot;   &quot;</span> &lt;&lt; s &lt;&lt; <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>;
  cout &lt;&lt; <span class="st">&quot;Test result: &quot;</span> &lt;&lt; b &lt;&lt; endl;

  <span class="kw">return</span> b;
}

<span class="dt">int</span> main() {

    RE* r3 = <span class="kw">new</span> Alt (<span class="kw">new</span> Phi(), <span class="kw">new</span> Ch(<span class="st">'c'</span>));
  
    testClosureTransform(r3, <span class="st">&quot;ab&quot;</span>);

    <span class="co">// TODO: mehr Tests</span>

}</code></pre></div>
</div>
<div id="playing-with-templates-and-lambdas-c14" class="slide section level1">
<h1>Playing with Templates and Lambdas (C++14)</h1>
<p>Standard qsort is not type-safe.</p>
<p>How to make it type-safe?</p>
<p>We make use of templates and lambdas (as found in C++14).</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">
<span class="co">// Usage: g++ -std=c++14</span>

<span class="ot">#include &lt;stdlib.h&gt;</span>
<span class="ot">#include &lt;stdio.h&gt;</span>

<span class="co">/* Recall the prototype of qsort.</span>

<span class="co">void qsort(void *base, </span>
<span class="co">           size_t num_elements , </span>
<span class="co">           size_t element_size, </span>
<span class="co">           int (*compare)(void const *, </span>
<span class="co">                          void  const *));</span>

<span class="co">*/</span>


<span class="co">// qsort Beispiel</span>
<span class="co">// generisch:</span>
<span class="co">//  (1) Beliebige Datentypen</span>
<span class="co">//  (2) Beliebige compare Funktion (Ordung)</span>
<span class="co">//</span>
<span class="co">// Problem: Nicht typsicher</span>
<span class="co">//</span>


<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="dt">void</span> printArray(T* x, <span class="dt">int</span> len, <span class="dt">void</span> pr(T)) {
  <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>; i&lt;len; i++) {
    pr(x[i]);
  }
}

<span class="dt">int</span> cmpInt(<span class="dt">const</span> <span class="dt">void</span>* x, <span class="dt">const</span> <span class="dt">void</span>* y) { <span class="kw">return</span> *((<span class="dt">int</span>*)x) &gt;= *((<span class="dt">int</span>*)y); }

<span class="dt">int</span> cmpFloat(<span class="dt">const</span> <span class="dt">void</span>* x, <span class="dt">const</span> <span class="dt">void</span>* y) { <span class="kw">return</span> *((<span class="dt">float</span>*)x) &gt;= *((<span class="dt">float</span>*)y); }

<span class="dt">void</span> testQsort() {

  <span class="dt">int</span> x[<span class="dv">3</span>] = {<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>};
  printArray&lt;<span class="dt">int</span>&gt;(x, <span class="dv">3</span>, [] (<span class="dt">int</span> x) { printf(<span class="st">&quot;</span><span class="ch">%d</span><span class="st">&quot;</span>, x); });
  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>);
  qsort(x, <span class="dv">3</span>, <span class="kw">sizeof</span>(<span class="dt">int</span>), &amp;cmpInt);
  printArray&lt;<span class="dt">int</span>&gt;(x, <span class="dv">3</span>, [] (<span class="dt">int</span> x) { printf(<span class="st">&quot;</span><span class="ch">%d</span><span class="st">&quot;</span>, x); });

  <span class="dt">float</span> y[<span class="dv">2</span>] = {<span class="fl">1.</span><span class="dv">0</span>, <span class="fl">2.</span><span class="dv">0</span>};
  qsort(y, <span class="dv">2</span>, <span class="kw">sizeof</span>(<span class="dt">float</span>), &amp;cmpInt); <span class="co">// Sollte sein &amp;compFloat !!!</span>
  
}


<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="dt">int</span> f(T x, T y) { <span class="kw">return</span> <span class="dv">1</span>; }

<span class="co">// Typ-safe version of qsort.</span>
<span class="co">// Requires.</span>


<span class="co">// Variable templates C++14</span>
<span class="co">// Needs to be initialized with an value, to be overwritten later.</span>
<span class="co">// The rhs value needs to be generic.</span>
<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="dt">int</span> (*cmpFunc)(T,T) = &amp;f;

<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="dt">int</span> cmpHelper(<span class="dt">const</span> <span class="dt">void</span>* x, <span class="dt">const</span> <span class="dt">void</span>* y) {
  <span class="kw">return</span> (*cmpFunc&lt;T&gt;)(*((T*)x), *((T*)y));
}


<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="dt">void</span> mysort(T* base, size_t len, <span class="dt">int</span> cmp(T,T)) {


  <span class="co">// qsort expects a function pointer.</span>
  <span class="co">// We assign the type-specific cmp function to a global variable.</span>
  <span class="co">// The helper cmp function will then access this cmp function</span>
  <span class="co">// via the global variable.</span>
  
  cmpFunc&lt;T&gt; = cmp;
  qsort(base, len, <span class="kw">sizeof</span>(T), &amp;cmpHelper&lt;T&gt;);
}


<span class="dt">void</span> testQsortSafe() {

  <span class="dt">int</span> x[<span class="dv">3</span>] = {<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>};
  printArray&lt;<span class="dt">int</span>&gt;(x, <span class="dv">3</span>, [] (<span class="dt">int</span> x) { printf(<span class="st">&quot;</span><span class="ch">%d</span><span class="st">&quot;</span>, x); });
  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>);
  mysort&lt;<span class="dt">int</span>&gt;(x, <span class="dv">3</span>, [](<span class="dt">int</span> x, <span class="dt">int</span> y) -&gt; <span class="dt">int</span> { <span class="kw">return</span> x &gt; y; });
  printArray&lt;<span class="dt">int</span>&gt;(x, <span class="dv">3</span>, [] (<span class="dt">int</span> x) { printf(<span class="st">&quot;</span><span class="ch">%d</span><span class="st">&quot;</span>, x); });


  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>);
  
  <span class="dt">float</span> y[<span class="dv">3</span>] = { <span class="fl">1.</span><span class="dv">0</span>, <span class="fl">2.</span><span class="dv">0</span>, <span class="fl">3.</span><span class="dv">0</span> };
  printArray&lt;<span class="dt">float</span>&gt;(y, <span class="dv">3</span>, [] (<span class="dt">float</span> x) { printf(<span class="st">&quot;</span><span class="ch">%f</span><span class="st">&quot;</span>, x); });
  mysort&lt;<span class="dt">float</span>&gt;(y, <span class="dv">3</span>, [](<span class="dt">float</span> x, <span class="dt">float</span> y) -&gt; <span class="dt">int</span> { <span class="kw">return</span> x &lt; y; });
  printf(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>);
  printArray&lt;<span class="dt">float</span>&gt;(y, <span class="dv">3</span>, [] (<span class="dt">float</span> x) { printf(<span class="st">&quot;</span><span class="ch">%f</span><span class="st">&quot;</span>, x); });
}



<span class="dt">int</span> main() {
  testQsort();
  testQsortSafe();

}</code></pre></div>
</div>
<div id="parser-combinators" class="slide section level1">
<h1>Parser combinators</h1>
<p>Highlights:</p>
<ul>
<li><p>Playing with higher-order functions.</p></li>
<li><p>Example of an embedded (internal) domain-specific language (DSL).</p></li>
<li><p>DSL seperated from host language via types.</p></li>
</ul>
<h2 id="dsl-versus-gpl">DSL versus GPL</h2>
<p>GPL = general-purpose language (C, Java, Kotlin, Haskell, Go, Python, ...)</p>
<p>DSL = domain-specific language (SQL, Latex, bash, perl, ...)</p>
<p>DSLs are usually <em>external</em> languages. Come with their own syntax, interpreter, compiler, ... (&quot;eco-system&quot;).</p>
<p>Internal DSLs (a.k.a. embedded DSLs aka APIs aka Frameworks). Make use of the host language (GPL) to provide similar functionality like a external DSL. Often easier to evolve and adapt. Can reuse existing eco-system. Might to be not as optimized as external DSL. Other issues, domain-specific error handling etc.</p>
<h2 id="the-problem-domain-we-consider">The problem domain we consider</h2>
<p>There are lots of different parsing approaches.</p>
<p>For example, see LL and LR parsing. Check out the additional notes on syntax analysis.</p>
<p>Another popular approach are <a href="Parser%20combinators">https://en.wikipedia.org/wiki/Parser_combinator</a>.</p>
<p>Main idea:</p>
<ul>
<li><p>Use combinators to build parsers.</p></li>
<li><p>Combinators are <em>fancy</em> API functions which hide much of the plumbing necessary to carry out parsing.</p></li>
<li><p>Often, a EBNF specification can be directly translated into some sequence of combinator calls.</p></li>
<li><p>There exists lots of parser combinator libraries for most programming languages.</p></li>
<li><p>Compared to parsing tools such as yacc and ANTLR, the parser is embedded into the host language. So, parser combinators form an <em>internal domain-specific language (DSL)</em> (aka embedded DSL) whereas yacc and ANTLR are external DSLs.</p></li>
</ul>
<p>In the following, we give a (rather naive) encoding of a parser combinator library in C++11.</p>
<h2 id="what-is-a-functional-parser">What is a (functional) parser?</h2>
<p>A parser is a function which takes a string and yields a result and the remaining string.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="kw">struct</span> Result {
  T value;
  string remainder;
  <span class="dt">bool</span> status;
};

<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
Result&lt;T&gt; mkResult(T x, string s, <span class="dt">bool</span> b) {
  <span class="kw">return</span> {x, s, b};
}

<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="kw">using</span> Parser = std::function&lt;Result&lt;T&gt;(string)&gt;;</code></pre></div>
<p>where type parameter <code>T</code> represents the parsing result (e.g. some abstract syntax tree) and the returning <code>string</code> represents the remaining input (remainder). As parsing may fail, we also return a Boolean value to represent either success or failure.</p>
<p>Application of a parser on some input.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
Result&lt;T&gt; parse(Parser&lt;T&gt; p, string s) {
  <span class="kw">return</span> p(s);
}</code></pre></div>
<h2 id="basic-combinators">Basic combinators</h2>
<p>The epsilon combinator which parses the empty string. We leave the input string untouched and report as a result the empty string.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
Parser&lt;T&gt; eps(T x) {
  <span class="kw">return</span> [x](string s) -&gt; Result&lt;T&gt; { <span class="kw">return</span> {x, s, <span class="kw">true</span>}; };
}</code></pre></div>
<p>A parser to accept a specific character (item).</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
Parser&lt;T&gt; item(<span class="dt">char</span> x, T f(<span class="dt">char</span>)) {
  <span class="kw">return</span> [x,f](string s) -&gt; Result&lt;T&gt; {
    <span class="kw">if</span> (s.length() == <span class="dv">0</span>) {
        <span class="kw">return</span> mkResult&lt;T&gt;(f(<span class="st">'</span><span class="ch">\0</span><span class="st">'</span>), s, <span class="kw">false</span>);
    } <span class="kw">else</span> <span class="kw">if</span> (s[<span class="dv">0</span>] == x) {
        <span class="kw">return</span> mkResult&lt;T&gt;(f(s[<span class="dv">0</span>]), s.substr(<span class="dv">1</span>), <span class="kw">true</span>);
    } <span class="kw">else</span> {
        <span class="kw">return</span> mkResult&lt;T&gt;(f(<span class="st">'</span><span class="ch">\0</span><span class="st">'</span>), s, <span class="kw">false</span>);
    }
  };
}</code></pre></div>
<h2 id="building-higher-order-combinators">Building higher-order combinators</h2>
<p>Build a new parser by composition of an exisisting parser.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
Parser&lt;T&gt; alt(Parser&lt;T&gt; p1, Parser&lt;T&gt; p2) {
  <span class="kw">return</span> [p1,p2](string s) -&gt; Result&lt;T&gt; {
    <span class="kw">auto</span> r1 = parse(p1, s);
    <span class="kw">if</span> (!r1.status) {
      <span class="kw">return</span> parse(p2, s);
    } <span class="kw">else</span> {
      <span class="kw">return</span> r1;
    }
  };
}

<span class="kw">template</span>&lt;<span class="kw">typename</span> T, <span class="kw">typename</span> S&gt;
Parser&lt;S&gt; seq(Parser&lt;T&gt; p, Parser&lt;S&gt; f(T)) {
  <span class="kw">return</span> [p,f] (string s) -&gt; Result&lt;S&gt; {
    <span class="kw">auto</span> r = parse(p, s);
    <span class="kw">if</span> (!r.status) {
      <span class="kw">return</span> r;
    } <span class="kw">else</span> {
      <span class="kw">return</span> parse(f(r.value), r.remainder);
    }
  };
}</code></pre></div>
<p><code>alt</code> is left-biased, if the first argument (parser) fails, we try the alternative.</p>
<p><code>seq</code> runs two parsers in sequence. Recall that as a side product of parsing we usually expect to obtain a parse tree. With parser combinators the result obtained can be arbitrary. Check the type of <code>seq</code>!</p>
<h2 id="some-simple-examples">Some simple examples</h2>
<p>As we largely ignore here the result produced by parsing, we write a matcher function which checks if our parser matches some input string.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="dt">bool</span> match(Parser&lt;T&gt; p, string s) {
  <span class="kw">auto</span> r = parse&lt;T&gt;(p, s);
  <span class="kw">return</span> r.status == <span class="kw">true</span> &amp;&amp; r.remainder.length() == <span class="dv">0</span>;
}</code></pre></div>
<p>Some helper check for a specific character.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">Parser&lt;<span class="dt">int</span>&gt; acceptChar(<span class="dt">char</span> c) {
  <span class="kw">return</span> item&lt;<span class="dt">int</span>&gt;(c, [] (<span class="dt">char</span> c) { <span class="kw">return</span> <span class="dv">1</span>; });
}</code></pre></div>
<p>A specific variant of <code>seq</code>.</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">Parser&lt;S&gt; conc(Parser&lt;T&gt; p, Parser&lt;S&gt; q) {
  <span class="kw">return</span> [p,q] (string s) -&gt; Result&lt;S&gt; {
    <span class="kw">auto</span> r = parse(p, s);
    <span class="kw">if</span> (!r.status) {
      <span class="kw">return</span> r;
    } <span class="kw">else</span> {
      <span class="kw">return</span> parse(q, r.remainder);
    }
  };
}</code></pre></div>
<p>The following examples</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">  cout &lt;&lt; match(acceptABorC(), <span class="st">&quot;ab&quot;</span>);
  cout &lt;&lt; match(acceptABorC(), <span class="st">&quot;c&quot;</span>);
  cout &lt;&lt; match(acceptABorC(), <span class="st">&quot;ac&quot;</span>);</code></pre></div>
<p>yield the output</p>
<pre><code>110</code></pre>
<h2 id="more-expressive-parser-combinators">More expressive parser combinators</h2>
<p>Most parser combinator libraries provide further combinators so we can even deal with left-recursive, ambiguous and even beyond context-free grammars. For details see here <a href="Parser%20combinators">https://en.wikipedia.org/wiki/Parser_combinator</a>.</p>
<p>In fact, some of these more expressive combinators can be directly encoded in terms of the host language. In the following, we show how to encode Kleene star.</p>
<p>Consider the regular expression</p>
<pre><code>a* c</code></pre>
<p>which can also be defined in terms of the following CFG productions</p>
<pre><code>A -&gt; a A | c</code></pre>
<p>Observation:</p>
<ul>
<li><p>Our host language C++ supports recursive function.</p></li>
<li><p>Encode the Kleene star via a recursive function yielding a parser for the above grammar.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">Parser&lt;<span class="dt">int</span>&gt; acceptAsC() {
  <span class="kw">return</span> alt&lt;<span class="dt">int</span>&gt;(acceptChar(<span class="st">'c'</span>),
              seq&lt;<span class="dt">int</span>,<span class="dt">int</span>&gt;(acceptChar(<span class="st">'a'</span>),
                   [] (<span class="dt">int</span> i) -&gt; Parser&lt;<span class="dt">int</span>&gt; { <span class="kw">return</span> acceptAsC(); }));
}</code></pre></div>
<p>Some points to note.</p>
<ul>
<li><p>Symbol <code>c</code> tells us to stop, hence, is tried first. Recall that <code>alt</code> is left-biased.</p></li>
<li><p>We can NOT write (the more direct) combinator program</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">Parser&lt;<span class="dt">int</span>&gt; acceptAsC2() {
  <span class="kw">return</span> alt&lt;<span class="dt">int</span>&gt;(acceptChar(<span class="st">'c'</span>),
              conc&lt;<span class="dt">int</span>,<span class="dt">int</span>&gt;(acceptChar(<span class="st">'a'</span>), acceptAsC2()));
}</code></pre></div>
<p>C++ is a <em>strictly</em> evaluated language and the above would immediately lead to a stack overflow. Hence, we need to 'hide' the recursive call within a (lambda) function.</p>
<p>Aside. In the <em>lazy</em> language Haskell, the more direct encoding is possible because program parts are lazily evaluated (i.e. only when needed).</p>
<h2 id="summary">Summary</h2>
<ul>
<li><p>Parser combinators are domain-specific language embedded into some host language (here C++).</p></li>
<li><p>Our host language C++ is strongly type, so we can statically guarantee that our parsers are &quot;well-formed&quot; (a parser is a composition of existing parsers).</p></li>
<li><p>We make use of recursion available in the host language to extend the expressiveness of our parser combinator language (see encoding of Kleene star).</p></li>
</ul>
<p>DSL (external):</p>
<pre><code>M ::= 'c' | 'a' M</code></pre>
<p>EDSL:</p>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">Parser&lt;<span class="dt">int</span>&gt; acceptAsC() {
  <span class="kw">return</span> alt&lt;<span class="dt">int</span>&gt;(acceptChar(<span class="st">'c'</span>),
              seq&lt;<span class="dt">int</span>,<span class="dt">int</span>&gt;(acceptChar(<span class="st">'a'</span>),
                   [] (<span class="dt">int</span> i) -&gt; Parser&lt;<span class="dt">int</span>&gt; { <span class="kw">return</span> acceptAsC(); }));
}</code></pre></div>
<h2 id="complete-source-code">Complete source code</h2>
<div class="sourceCode"><pre class="sourceCode cpp"><code class="sourceCode cpp">
<span class="co">// Usage: g++ -std=c++11</span>

<span class="co">// Parser combinators https://en.wikipedia.org/wiki/Parser_combinator</span>

<span class="ot">#include &lt;string&gt;</span>
<span class="ot">#include &lt;iostream&gt;</span>
<span class="kw">using</span> <span class="kw">namespace</span> std;

<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="kw">struct</span> Result {
  T value;
  string remainder;
  <span class="dt">bool</span> status;
};

<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
Result&lt;T&gt; mkResult(T x, string s, <span class="dt">bool</span> b) {
  <span class="kw">return</span> {x, s, b};
}

<span class="co">/*</span>
<span class="co">// This variant won't work. </span>
<span class="co">// Lambdas with captures can't be converted (easily) into function pointers.</span>
<span class="co">template&lt;typename T&gt;</span>
<span class="co">using Parser = Result&lt;T&gt; (*) (string);</span>
<span class="co">*/</span>

<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="kw">using</span> Parser = std::function&lt;Result&lt;T&gt;(string)&gt;;

<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
Result&lt;T&gt; parse(Parser&lt;T&gt; p, string s) {
  <span class="kw">return</span> p(s);
}

<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
Parser&lt;T&gt; eps(T x) {
  <span class="kw">return</span> [x](string s) -&gt; Result&lt;T&gt; { <span class="kw">return</span> {x, s, <span class="kw">true</span>}; };
}

<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
Parser&lt;T&gt; item(<span class="dt">char</span> x, T f(<span class="dt">char</span>)) {
  <span class="kw">return</span> [x,f](string s) -&gt; Result&lt;T&gt; {
    <span class="kw">if</span> (s.length() == <span class="dv">0</span>) {
        <span class="kw">return</span> mkResult&lt;T&gt;(f(<span class="st">'</span><span class="ch">\0</span><span class="st">'</span>), s, <span class="kw">false</span>);
    } <span class="kw">else</span> <span class="kw">if</span> (s[<span class="dv">0</span>] == x) {
        <span class="kw">return</span> mkResult&lt;T&gt;(f(s[<span class="dv">0</span>]), s.substr(<span class="dv">1</span>), <span class="kw">true</span>);
    } <span class="kw">else</span> {
        <span class="kw">return</span> mkResult&lt;T&gt;(f(<span class="st">'</span><span class="ch">\0</span><span class="st">'</span>), s, <span class="kw">false</span>);
    }
  };
}

<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
Parser&lt;T&gt; alt(Parser&lt;T&gt; p1, Parser&lt;T&gt; p2) {
  <span class="kw">return</span> [p1,p2](string s) -&gt; Result&lt;T&gt; {
    <span class="kw">auto</span> r1 = parse(p1, s);
    <span class="kw">if</span> (!r1.status) {
      <span class="kw">return</span> parse(p2, s);
    } <span class="kw">else</span> {
      <span class="kw">return</span> r1;
    }
  };
}

<span class="kw">template</span>&lt;<span class="kw">typename</span> T, <span class="kw">typename</span> S&gt;
Parser&lt;S&gt; seq(Parser&lt;T&gt; p, Parser&lt;S&gt; f(T)) {
  <span class="kw">return</span> [p,f] (string s) -&gt; Result&lt;S&gt; {
    <span class="kw">auto</span> r = parse(p, s);
    <span class="kw">if</span> (!r.status) {
      <span class="kw">return</span> r;
    } <span class="kw">else</span> {
      <span class="kw">return</span> parse(f(r.value), r.remainder);
    }
  };
}


<span class="co">/*</span>
<span class="co">// This variant doesn't seem to work.</span>
<span class="co">// Not exactly clear why. Compiler complains can't convert</span>
<span class="co">// lambda to std::function.</span>
<span class="co">template&lt;typename T, typename S&gt;</span>
<span class="co">Parser&lt;S&gt; conc2(Parser&lt;T&gt; p, Parser&lt;S&gt; q) {</span>
<span class="co">  return seq&lt;T,S&gt;(p, [q] (T x) -&gt; Parser&lt;S&gt; { return q; });</span>
<span class="co">}</span>
<span class="co">*/</span>


<span class="kw">template</span>&lt;<span class="kw">typename</span> T, <span class="kw">typename</span> S&gt;
Parser&lt;S&gt; conc(Parser&lt;T&gt; p, Parser&lt;S&gt; q) {
  <span class="kw">return</span> [p,q] (string s) -&gt; Result&lt;S&gt; {
    <span class="kw">auto</span> r = parse(p, s);
    <span class="kw">if</span> (!r.status) {
      <span class="kw">return</span> r;
    } <span class="kw">else</span> {
      <span class="kw">return</span> parse(q, r.remainder);
    }
  };
}



<span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt;
<span class="dt">bool</span> match(Parser&lt;T&gt; p, string s) {
  <span class="kw">auto</span> r = parse&lt;T&gt;(p, s);
  <span class="kw">return</span> r.status == <span class="kw">true</span> &amp;&amp; r.remainder.length() == <span class="dv">0</span>;
}


Parser&lt;<span class="dt">int</span>&gt; acceptChar(<span class="dt">char</span> c) {
  <span class="kw">return</span> item&lt;<span class="dt">int</span>&gt;(c, [] (<span class="dt">char</span> c) { <span class="kw">return</span> <span class="dv">1</span>; });
}


Parser&lt;<span class="dt">int</span>&gt; acceptABorC() {
  <span class="kw">return</span> alt(conc&lt;<span class="dt">int</span>,<span class="dt">int</span>&gt;(acceptChar(<span class="st">'a'</span>), acceptChar(<span class="st">'b'</span>)),
         acceptChar(<span class="st">'c'</span>));
}

Parser&lt;<span class="dt">int</span>&gt; acceptAsC() {
  <span class="kw">return</span> alt&lt;<span class="dt">int</span>&gt;(acceptChar(<span class="st">'c'</span>),
              seq&lt;<span class="dt">int</span>,<span class="dt">int</span>&gt;(acceptChar(<span class="st">'a'</span>),
                   [] (<span class="dt">int</span> i) -&gt; Parser&lt;<span class="dt">int</span>&gt; { <span class="kw">return</span> acceptAsC(); }));
}


Parser&lt;<span class="dt">int</span>&gt; acceptAsC2() {
  <span class="kw">return</span> alt&lt;<span class="dt">int</span>&gt;(acceptChar(<span class="st">'c'</span>),
              conc&lt;<span class="dt">int</span>,<span class="dt">int</span>&gt;(acceptChar(<span class="st">'a'</span>), acceptAsC2()));
}


<span class="dt">int</span> main() {

  cout &lt;&lt; match(acceptABorC(), <span class="st">&quot;ab&quot;</span>);
  cout &lt;&lt; match(acceptABorC(), <span class="st">&quot;c&quot;</span>);
  cout &lt;&lt; match(acceptABorC(), <span class="st">&quot;ac&quot;</span>);    

  cout &lt;&lt; match(acceptAsC(), <span class="st">&quot;aaaac&quot;</span>);

  <span class="co">//  cout &lt;&lt; match(acceptAsC2(), &quot;aaaac&quot;);</span>
  
}</code></pre></div>
</div>
</body>
</html>
